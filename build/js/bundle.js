this.createjs=this.createjs||{},createjs.extend=function(t,e){"use strict";function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n},this.createjs=this.createjs||{},createjs.promote=function(t,e){"use strict";var n=t.prototype,r=Object.getPrototypeOf&&Object.getPrototypeOf(n)||n.__proto__;if(r){n[(e+="_")+"constructor"]=r.constructor;for(var i in r)n.hasOwnProperty(i)&&"function"==typeof r[i]&&(n[e+i]=r[i])}return t},this.createjs=this.createjs||{},createjs.indexOf=function(t,e){"use strict";for(var n=0,r=t.length;r>n;n++)if(e===t[n])return n;return-1},this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.type=t,this.target=null,this.currentTarget=null,this.eventPhase=0,this.bubbles=!!e,this.cancelable=!!n,this.timeStamp=(new Date).getTime(),this.defaultPrevented=!1,this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.removed=!1}var e=t.prototype;e.preventDefault=function(){this.defaultPrevented=this.cancelable&&!0},e.stopPropagation=function(){this.propagationStopped=!0},e.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0},e.remove=function(){this.removed=!0},e.clone=function(){return new t(this.type,this.bubbles,this.cancelable)},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.toString=function(){return"[Event (type="+this.type+")]"},createjs.Event=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this._listeners=null,this._captureListeners=null}var e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.on=e.on,t.removeEventListener=t.off=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent,t._dispatchEvent=e._dispatchEvent,t.willTrigger=e.willTrigger},e.addEventListener=function(t,e,n){var r;r=n?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var i=r[t];return i&&this.removeEventListener(t,e,n),i=r[t],i?i.push(e):r[t]=[e],e},e.on=function(t,e,n,r,i,o){return e.handleEvent&&(n=n||e,e=e.handleEvent),n=n||this,this.addEventListener(t,function(t){e.call(n,t,i),r&&t.remove()},o)},e.removeEventListener=function(t,e,n){var r=n?this._captureListeners:this._listeners;if(r){var i=r[t];if(i)for(var o=0,s=i.length;s>o;o++)if(i[o]==e){1==s?delete r[t]:i.splice(o,1);break}}},e.off=e.removeEventListener,e.removeAllEventListeners=function(t){t?(this._listeners&&delete this._listeners[t],this._captureListeners&&delete this._captureListeners[t]):this._listeners=this._captureListeners=null},e.dispatchEvent=function(t,e,n){if("string"==typeof t){var r=this._listeners;if(!(e||r&&r[t]))return!0;t=new createjs.Event(t,e,n)}else t.target&&t.clone&&(t=t.clone());try{t.target=this}catch(i){}if(t.bubbles&&this.parent){for(var o=this,s=[o];o.parent;)s.push(o=o.parent);var a,u=s.length;for(a=u-1;a>=0&&!t.propagationStopped;a--)s[a]._dispatchEvent(t,1+(0==a));for(a=1;u>a&&!t.propagationStopped;a++)s[a]._dispatchEvent(t,3)}else this._dispatchEvent(t,2);return!t.defaultPrevented},e.hasEventListener=function(t){var e=this._listeners,n=this._captureListeners;return!!(e&&e[t]||n&&n[t])},e.willTrigger=function(t){for(var e=this;e;){if(e.hasEventListener(t))return!0;e=e.parent}return!1},e.toString=function(){return"[EventDispatcher]"},e._dispatchEvent=function(t,e){var n,r=1==e?this._captureListeners:this._listeners;if(t&&r){var i=r[t.type];if(!i||!(n=i.length))return;try{t.currentTarget=this}catch(o){}try{t.eventPhase=e}catch(o){}t.removed=!1,i=i.slice();for(var s=0;n>s&&!t.immediatePropagationStopped;s++){var a=i[s];a.handleEvent?a.handleEvent(t):a(t),t.removed&&(this.off(t.type,a,1==e),t.removed=!1)}}},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Ticker cannot be instantiated."}t.RAF_SYNCHED="synched",t.RAF="raf",t.TIMEOUT="timeout",t.useRAF=!1,t.timingMode=null,t.maxDelta=0,t.paused=!1,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._addEventListener=t.addEventListener,t.addEventListener=function(){return!t._inited&&t.init(),t._addEventListener.apply(t,arguments)},t._inited=!1,t._startTime=0,t._pausedTime=0,t._ticks=0,t._pausedTicks=0,t._interval=50,t._lastTime=0,t._times=null,t._tickTimes=null,t._timerId=null,t._raf=!0,t.setInterval=function(e){t._interval=e,t._inited&&t._setupTick()},t.getInterval=function(){return t._interval},t.setFPS=function(e){t.setInterval(1e3/e)},t.getFPS=function(){return 1e3/t._interval};try{Object.defineProperties(t,{interval:{get:t.getInterval,set:t.setInterval},framerate:{get:t.getFPS,set:t.setFPS}})}catch(e){console.log(e)}t.init=function(){t._inited||(t._inited=!0,t._times=[],t._tickTimes=[],t._startTime=t._getTime(),t._times.push(t._lastTime=0),t.interval=t._interval)},t.reset=function(){if(t._raf){var e=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;e&&e(t._timerId)}else clearTimeout(t._timerId);t.removeAllEventListeners("tick"),t._timerId=t._times=t._tickTimes=null,t._startTime=t._lastTime=t._ticks=0,t._inited=!1},t.getMeasuredTickTime=function(e){var n=0,r=t._tickTimes;if(!r||r.length<1)return-1;e=Math.min(r.length,e||0|t.getFPS());for(var i=0;e>i;i++)n+=r[i];return n/e},t.getMeasuredFPS=function(e){var n=t._times;return!n||n.length<2?-1:(e=Math.min(n.length-1,e||0|t.getFPS()),1e3/((n[0]-n[e])/e))},t.setPaused=function(e){t.paused=e},t.getPaused=function(){return t.paused},t.getTime=function(e){return t._startTime?t._getTime()-(e?t._pausedTime:0):-1},t.getEventTime=function(e){return t._startTime?(t._lastTime||t._startTime)-(e?t._pausedTime:0):-1},t.getTicks=function(e){return t._ticks-(e?t._pausedTicks:0)},t._handleSynch=function(){t._timerId=null,t._setupTick(),t._getTime()-t._lastTime>=.97*(t._interval-1)&&t._tick()},t._handleRAF=function(){t._timerId=null,t._setupTick(),t._tick()},t._handleTimeout=function(){t._timerId=null,t._setupTick(),t._tick()},t._setupTick=function(){if(null==t._timerId){var e=t.timingMode||t.useRAF&&t.RAF_SYNCHED;if(e==t.RAF_SYNCHED||e==t.RAF){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(n)return t._timerId=n(e==t.RAF?t._handleRAF:t._handleSynch),void(t._raf=!0)}t._raf=!1,t._timerId=setTimeout(t._handleTimeout,t._interval)}},t._tick=function(){var e=t.paused,n=t._getTime(),r=n-t._lastTime;if(t._lastTime=n,t._ticks++,e&&(t._pausedTicks++,t._pausedTime+=r),t.hasEventListener("tick")){var i=new createjs.Event("tick"),o=t.maxDelta;i.delta=o&&r>o?o:r,i.paused=e,i.time=n,i.runTime=n-t._pausedTime,t.dispatchEvent(i)}for(t._tickTimes.unshift(t._getTime()-n);t._tickTimes.length>100;)t._tickTimes.pop();for(t._times.unshift(n);t._times.length>100;)t._times.pop()};var n=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);t._getTime=function(){return(n&&n.call(performance)||(new Date).getTime())-t._startTime},createjs.Ticker=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"UID cannot be instantiated"}t._nextID=0,t.get=function(){return t._nextID++},createjs.UID=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r,i,o,s,a,u,c,l){this.Event_constructor(t,e,n),this.stageX=r,this.stageY=i,this.rawX=null==u?r:u,this.rawY=null==c?i:c,this.nativeEvent=o,this.pointerID=s,this.primary=!!a,this.relatedTarget=l}var e=createjs.extend(t,createjs.Event);e._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x},e._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y},e._get_isTouch=function(){return-1!==this.pointerID};try{Object.defineProperties(e,{localX:{get:e._get_localX},localY:{get:e._get_localY},isTouch:{get:e._get_isTouch}})}catch(n){}e.clone=function(){return new t(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},e.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=createjs.promote(t,"Event")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r,i,o){this.setValues(t,e,n,r,i,o)}var e=t.prototype;t.DEG_TO_RAD=Math.PI/180,t.identity=null,e.setValues=function(t,e,n,r,i,o){return this.a=null==t?1:t,this.b=e||0,this.c=n||0,this.d=null==r?1:r,this.tx=i||0,this.ty=o||0,this},e.append=function(t,e,n,r,i,o){var s=this.a,a=this.b,u=this.c,c=this.d;return(1!=t||0!=e||0!=n||1!=r)&&(this.a=s*t+u*e,this.b=a*t+c*e,this.c=s*n+u*r,this.d=a*n+c*r),this.tx=s*i+u*o+this.tx,this.ty=a*i+c*o+this.ty,this},e.prepend=function(t,e,n,r,i,o){var s=this.a,a=this.c,u=this.tx;return this.a=t*s+n*this.b,this.b=e*s+r*this.b,this.c=t*a+n*this.d,this.d=e*a+r*this.d,this.tx=t*u+n*this.ty+i,this.ty=e*u+r*this.ty+o,this},e.appendMatrix=function(t){return this.append(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.prependMatrix=function(t){return this.prepend(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.appendTransform=function(e,n,r,i,o,s,a,u,c){if(o%360)var l=o*t.DEG_TO_RAD,h=Math.cos(l),f=Math.sin(l);else h=1,f=0;return s||a?(s*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.append(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),e,n),this.append(h*r,f*r,-f*i,h*i,0,0)):this.append(h*r,f*r,-f*i,h*i,e,n),(u||c)&&(this.tx-=u*this.a+c*this.c,this.ty-=u*this.b+c*this.d),this},e.prependTransform=function(e,n,r,i,o,s,a,u,c){if(o%360)var l=o*t.DEG_TO_RAD,h=Math.cos(l),f=Math.sin(l);else h=1,f=0;return(u||c)&&(this.tx-=u,this.ty-=c),s||a?(s*=t.DEG_TO_RAD,a*=t.DEG_TO_RAD,this.prepend(h*r,f*r,-f*i,h*i,0,0),this.prepend(Math.cos(a),Math.sin(a),-Math.sin(s),Math.cos(s),e,n)):this.prepend(h*r,f*r,-f*i,h*i,e,n),this},e.rotate=function(e){e*=t.DEG_TO_RAD;var n=Math.cos(e),r=Math.sin(e),i=this.a,o=this.b;return this.a=i*n+this.c*r,this.b=o*n+this.d*r,this.c=-i*r+this.c*n,this.d=-o*r+this.d*n,this},e.skew=function(e,n){return e*=t.DEG_TO_RAD,n*=t.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(e),Math.cos(e),0,0),this},e.scale=function(t,e){return this.a*=t,this.b*=t,this.c*=e,this.d*=e,this},e.translate=function(t,e){return this.tx+=this.a*t+this.c*e,this.ty+=this.b*t+this.d*e,this},e.identity=function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this},e.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,o=t*r-e*n;return this.a=r/o,this.b=-e/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-r*i)/o,this.ty=-(t*this.ty-e*i)/o,this},e.isIdentity=function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d},e.equals=function(t){return this.tx===t.tx&&this.ty===t.ty&&this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d},e.transformPoint=function(t,e,n){return n=n||{},n.x=t*this.a+e*this.c+this.tx,n.y=t*this.b+e*this.d+this.ty,n},e.decompose=function(e){null==e&&(e={}),e.x=this.tx,e.y=this.ty,e.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),e.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a),i=Math.abs(1-n/r);return 1e-5>i?(e.rotation=r/t.DEG_TO_RAD,this.a<0&&this.d>=0&&(e.rotation+=e.rotation<=0?180:-180),e.skewX=e.skewY=0):(e.skewX=n/t.DEG_TO_RAD,e.skewY=r/t.DEG_TO_RAD),e},e.copy=function(t){return this.setValues(t.a,t.b,t.c,t.d,t.tx,t.ty)},e.clone=function(){return new t(this.a,this.b,this.c,this.d,this.tx,this.ty)},e.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},t.identity=new t,createjs.Matrix2D=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r,i){this.setValues(t,e,n,r,i)}var e=t.prototype;e.setValues=function(t,e,n,r,i){return this.visible=null==t?!0:!!t,this.alpha=null==e?1:e,this.shadow=n,this.compositeOperation=n,this.matrix=i||this.matrix&&this.matrix.identity()||new createjs.Matrix2D,this},e.append=function(t,e,n,r,i){return this.alpha*=e,this.shadow=n||this.shadow,this.compositeOperation=r||this.compositeOperation,this.visible=this.visible&&t,i&&this.matrix.appendMatrix(i),this},e.prepend=function(t,e,n,r,i){return this.alpha*=e,this.shadow=this.shadow||n,this.compositeOperation=this.compositeOperation||r,this.visible=this.visible&&t,i&&this.matrix.prependMatrix(i),this},e.identity=function(){return this.visible=!0,this.alpha=1,this.shadow=this.compositeOperation=null,this.matrix.identity(),this},e.clone=function(){return new t(this.alpha,this.shadow,this.compositeOperation,this.visible,this.matrix.clone())},createjs.DisplayProps=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.setValues(t,e)}var e=t.prototype;e.setValues=function(t,e){return this.x=t||0,this.y=e||0,this},e.copy=function(t){return this.x=t.x,this.y=t.y,this},e.clone=function(){return new t(this.x,this.y)},e.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r){this.setValues(t,e,n,r)}var e=t.prototype;e.setValues=function(t,e,n,r){return this.x=t||0,this.y=e||0,this.width=n||0,this.height=r||0,this},e.extend=function(t,e,n,r){return n=n||0,r=r||0,t+n>this.x+this.width&&(this.width=t+n-this.x),e+r>this.y+this.height&&(this.height=e+r-this.y),t<this.x&&(this.width+=this.x-t,this.x=t),e<this.y&&(this.height+=this.y-e,this.y=e),this},e.pad=function(t,e,n,r){return this.x-=e,this.y-=t,this.width+=e+r,this.height+=t+n,this},e.copy=function(t){return this.setValues(t.x,t.y,t.width,t.height)},e.contains=function(t,e,n,r){return n=n||0,r=r||0,t>=this.x&&t+n<=this.x+this.width&&e>=this.y&&e+r<=this.y+this.height},e.union=function(t){return this.clone().extend(t.x,t.y,t.width,t.height)},e.intersection=function(e){var n=e.x,r=e.y,i=n+e.width,o=r+e.height;return this.x>n&&(n=this.x),this.y>r&&(r=this.y),this.x+this.width<i&&(i=this.x+this.width),this.y+this.height<o&&(o=this.y+this.height),n>=i||r>=o?null:new t(n,r,i-n,o-r)},e.intersects=function(t){return t.x<=this.x+this.width&&this.x<=t.x+t.width&&t.y<=this.y+this.height&&this.y<=t.y+t.height},e.isEmpty=function(){return this.width<=0||this.height<=0},e.clone=function(){return new t(this.x,this.y,this.width,this.height)},e.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r,i,o,s){t.addEventListener&&(this.target=t,this.overLabel=null==n?"over":n,this.outLabel=null==e?"out":e,this.downLabel=null==r?"down":r,this.play=i,this._isPressed=!1,this._isOver=!1,this._enabled=!1,t.mouseChildren=!1,this.enabled=!0,this.handleEvent({}),o&&(s&&(o.actionsEnabled=!1,o.gotoAndStop&&o.gotoAndStop(s)),t.hitArea=o))}var e=t.prototype;e.setEnabled=function(t){if(t!=this._enabled){var e=this.target;this._enabled=t,t?(e.cursor="pointer",e.addEventListener("rollover",this),e.addEventListener("rollout",this),e.addEventListener("mousedown",this),e.addEventListener("pressup",this),e._reset&&(e.__reset=e._reset,e._reset=this._reset)):(e.cursor=null,e.removeEventListener("rollover",this),e.removeEventListener("rollout",this),e.removeEventListener("mousedown",this),e.removeEventListener("pressup",this),e.__reset&&(e._reset=e.__reset,delete e.__reset))}},e.getEnabled=function(){return this._enabled};try{Object.defineProperties(e,{enabled:{get:e.getEnabled,set:e.setEnabled}})}catch(n){}e.toString=function(){return"[ButtonHelper]"},e.handleEvent=function(t){var e,n=this.target,r=t.type;"mousedown"==r?(this._isPressed=!0,e=this.downLabel):"pressup"==r?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"rollover"==r?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?n.gotoAndPlay&&n.gotoAndPlay(e):n.gotoAndStop&&n.gotoAndStop(e)},e._reset=function(){var t=this.paused;this.__reset(),this.paused=t},createjs.ButtonHelper=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r){this.color=t||"black",this.offsetX=e||0,this.offsetY=n||0,this.blur=r||0}var e=t.prototype;t.identity=new t("transparent",0,0,0),e.toString=function(){return"[Shadow]"},e.clone=function(){return new t(this.color,this.offsetX,this.offsetY,this.blur)},createjs.Shadow=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.EventDispatcher_constructor(),this.complete=!0,this.framerate=0,this._animations=null,this._frames=null,this._images=null,this._data=null,this._loadCount=0,this._frameHeight=0,this._frameWidth=0,this._numFrames=0,this._regX=0,this._regY=0,this._spacing=0,this._margin=0,this._parseData(t)}var e=createjs.extend(t,createjs.EventDispatcher);e.getAnimations=function(){return this._animations.slice()};try{Object.defineProperties(e,{animations:{get:e.getAnimations}})}catch(n){}e.getNumFrames=function(t){if(null==t)return this._frames?this._frames.length:this._numFrames||0;var e=this._data[t];return null==e?0:e.frames.length},e.getAnimation=function(t){return this._data[t]},e.getFrame=function(t){var e;return this._frames&&(e=this._frames[t])?e:null},e.getFrameBounds=function(t,e){var n=this.getFrame(t);return n?(e||new createjs.Rectangle).setValues(-n.regX,-n.regY,n.rect.width,n.rect.height):null},e.toString=function(){return"[SpriteSheet]"},e.clone=function(){throw"SpriteSheet cannot be cloned."},e._parseData=function(t){var e,n,r,i;if(null!=t){if(this.framerate=t.framerate||0,t.images&&(n=t.images.length)>0)for(i=this._images=[],e=0;n>e;e++){var o=t.images[e];if("string"==typeof o){var s=o;o=document.createElement("img"),o.src=s}i.push(o),o.getContext||o.naturalWidth||(this._loadCount++,this.complete=!1,function(t){o.onload=function(){t._handleImageLoad()}}(this))}if(null==t.frames);else if(t.frames instanceof Array)for(this._frames=[],i=t.frames,e=0,n=i.length;n>e;e++){var a=i[e];this._frames.push({image:this._images[a[4]?a[4]:0],rect:new createjs.Rectangle(a[0],a[1],a[2],a[3]),regX:a[5]||0,regY:a[6]||0})}else r=t.frames,this._frameWidth=r.width,this._frameHeight=r.height,this._regX=r.regX||0,this._regY=r.regY||0,this._spacing=r.spacing||0,this._margin=r.margin||0,this._numFrames=r.count,0==this._loadCount&&this._calculateFrames();if(this._animations=[],null!=(r=t.animations)){this._data={};var u;for(u in r){var c={name:u},l=r[u];if("number"==typeof l)i=c.frames=[l];else if(l instanceof Array)if(1==l.length)c.frames=[l[0]];else for(c.speed=l[3],c.next=l[2],i=c.frames=[],e=l[0];e<=l[1];e++)i.push(e);else{c.speed=l.speed,c.next=l.next;var h=l.frames;i=c.frames="number"==typeof h?[h]:h.slice(0)}(c.next===!0||void 0===c.next)&&(c.next=u),(c.next===!1||i.length<2&&c.next==u)&&(c.next=null),c.speed||(c.speed=1),this._animations.push(u),this._data[u]=c}}}},e._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))},e._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];var t=this._numFrames||1e5,e=0,n=this._frameWidth,r=this._frameHeight,i=this._spacing,o=this._margin;t:for(var s=0,a=this._images;s<a.length;s++)for(var u=a[s],c=u.width,l=u.height,h=o;l-o-r>=h;){for(var f=o;c-o-n>=f;){if(e>=t)break t;e++,this._frames.push({image:u,rect:new createjs.Rectangle(f,h,n,r),regX:this._regX,regY:this._regY}),f+=n+i}h+=r+i}this._numFrames=e}},createjs.SpriteSheet=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.command=null,this._stroke=null,this._strokeStyle=null,this._oldStrokeStyle=null,this._strokeDash=null,this._oldStrokeDash=null,this._strokeIgnoreScale=!1,this._fill=null,this._instructions=[],this._commitIndex=0,this._activeInstructions=[],this._dirty=!1,this._storeIndex=0,this.clear()}var e=t.prototype,n=t;t.getRGB=function(t,e,n,r){return null!=t&&null==n&&(r=e,n=255&t,e=t>>8&255,t=t>>16&255),null==r?"rgb("+t+","+e+","+n+")":"rgba("+t+","+e+","+n+","+r+")"},t.getHSL=function(t,e,n,r){return null==r?"hsl("+t%360+","+e+"%,"+n+"%)":"hsla("+t%360+","+e+"%,"+n+"%,"+r+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"];var r=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");r.getContext&&(t._ctx=r.getContext("2d"),r.width=r.height=1),e.getInstructions=function(){return this._updateInstructions(),this._instructions};try{Object.defineProperties(e,{instructions:{get:e.getInstructions}})}catch(i){}e.isEmpty=function(){return!(this._instructions.length||this._activeInstructions.length)},e.draw=function(t,e){this._updateInstructions();for(var n=this._instructions,r=this._storeIndex,i=n.length;i>r;r++)n[r].exec(t,e)},e.drawAsPath=function(t){this._updateInstructions();for(var e,n=this._instructions,r=this._storeIndex,i=n.length;i>r;r++)(e=n[r]).path!==!1&&e.exec(t)},e.moveTo=function(t,e){return this.append(new n.MoveTo(t,e),!0)},e.lineTo=function(t,e){return this.append(new n.LineTo(t,e))},e.arcTo=function(t,e,r,i,o){return this.append(new n.ArcTo(t,e,r,i,o))},e.arc=function(t,e,r,i,o,s){return this.append(new n.Arc(t,e,r,i,o,s))},e.quadraticCurveTo=function(t,e,r,i){return this.append(new n.QuadraticCurveTo(t,e,r,i))},e.bezierCurveTo=function(t,e,r,i,o,s){return this.append(new n.BezierCurveTo(t,e,r,i,o,s))},e.rect=function(t,e,r,i){return this.append(new n.Rect(t,e,r,i))},e.closePath=function(){return this._activeInstructions.length?this.append(new n.ClosePath):this},e.clear=function(){return this._instructions.length=this._activeInstructions.length=this._commitIndex=0,this._strokeStyle=this._oldStrokeStyle=this._stroke=this._fill=this._strokeDash=this._oldStrokeDash=null,this._dirty=this._strokeIgnoreScale=!1,this},e.beginFill=function(t){return this._setFill(t?new n.Fill(t):null)},e.beginLinearGradientFill=function(t,e,r,i,o,s){return this._setFill((new n.Fill).linearGradient(t,e,r,i,o,s))},e.beginRadialGradientFill=function(t,e,r,i,o,s,a,u){return this._setFill((new n.Fill).radialGradient(t,e,r,i,o,s,a,u))},e.beginBitmapFill=function(t,e,r){return this._setFill(new n.Fill(null,r).bitmap(t,e))},e.endFill=function(){return this.beginFill()},e.setStrokeStyle=function(t,e,r,i,o){return this._updateInstructions(!0),this._strokeStyle=this.command=new n.StrokeStyle(t,e,r,i,o),this._stroke&&(this._stroke.ignoreScale=o),this._strokeIgnoreScale=o,this},e.setStrokeDash=function(t,e){return this._updateInstructions(!0),this._strokeDash=this.command=new n.StrokeDash(t,e),this},e.beginStroke=function(t){return this._setStroke(t?new n.Stroke(t):null)},e.beginLinearGradientStroke=function(t,e,r,i,o,s){return this._setStroke((new n.Stroke).linearGradient(t,e,r,i,o,s))},e.beginRadialGradientStroke=function(t,e,r,i,o,s,a,u){return this._setStroke((new n.Stroke).radialGradient(t,e,r,i,o,s,a,u))},e.beginBitmapStroke=function(t,e){return this._setStroke((new n.Stroke).bitmap(t,e))},e.endStroke=function(){return this.beginStroke()},e.curveTo=e.quadraticCurveTo,e.drawRect=e.rect,e.drawRoundRect=function(t,e,n,r,i){return this.drawRoundRectComplex(t,e,n,r,i,i,i,i)},e.drawRoundRectComplex=function(t,e,r,i,o,s,a,u){return this.append(new n.RoundRect(t,e,r,i,o,s,a,u))},e.drawCircle=function(t,e,r){return this.append(new n.Circle(t,e,r))},e.drawEllipse=function(t,e,r,i){return this.append(new n.Ellipse(t,e,r,i))},e.drawPolyStar=function(t,e,r,i,o,s){return this.append(new n.PolyStar(t,e,r,i,o,s))},e.append=function(t,e){return this._activeInstructions.push(t),this.command=t,e||(this._dirty=!0),this},e.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],i=0,o=e.length,s=[],a=0,u=0,c=t.BASE_64;o>i;){var l=e.charAt(i),h=c[l],f=h>>3,d=n[f];if(!d||3&h)throw"bad path data (@"+i+"): "+l;var p=r[f];f||(a=u=0),s.length=0,i++;for(var g=(h>>2&1)+2,v=0;p>v;v++){var m=c[e.charAt(i)],y=m>>5?-1:1;m=(31&m)<<6|c[e.charAt(i+1)],3==g&&(m=m<<6|c[e.charAt(i+2)]),m=y*m/10,v%2?a=m+=a:u=m+=u,s[v]=m,i+=g}d.apply(this,s)}return this},e.store=function(){return this._updateInstructions(!0),this._storeIndex=this._instructions.length,this},e.unstore=function(){return this._storeIndex=0,this},e.clone=function(){var e=new t;return e.command=this.command,e._stroke=this._stroke,e._strokeStyle=this._strokeStyle,e._strokeDash=this._strokeDash,e._strokeIgnoreScale=this._strokeIgnoreScale,e._fill=this._fill,e._instructions=this._instructions.slice(),e._commitIndex=this._commitIndex,e._activeInstructions=this._activeInstructions.slice(),e._dirty=this._dirty,e._storeIndex=this._storeIndex,e},e.toString=function(){return"[Graphics]"},e.mt=e.moveTo,e.lt=e.lineTo,e.at=e.arcTo,e.bt=e.bezierCurveTo,e.qt=e.quadraticCurveTo,e.a=e.arc,e.r=e.rect,e.cp=e.closePath,e.c=e.clear,e.f=e.beginFill,e.lf=e.beginLinearGradientFill,e.rf=e.beginRadialGradientFill,e.bf=e.beginBitmapFill,e.ef=e.endFill,e.ss=e.setStrokeStyle,e.sd=e.setStrokeDash,e.s=e.beginStroke,e.ls=e.beginLinearGradientStroke,e.rs=e.beginRadialGradientStroke,e.bs=e.beginBitmapStroke,e.es=e.endStroke,e.dr=e.drawRect,e.rr=e.drawRoundRect,e.rc=e.drawRoundRectComplex,e.dc=e.drawCircle,e.de=e.drawEllipse,e.dp=e.drawPolyStar,e.p=e.decodePath,e._updateInstructions=function(e){var n=this._instructions,r=this._activeInstructions,i=this._commitIndex;if(this._dirty&&r.length){n.length=i,n.push(t.beginCmd);var o=r.length,s=n.length;n.length=s+o;for(var a=0;o>a;a++)n[a+s]=r[a];this._fill&&n.push(this._fill),this._stroke&&(this._strokeDash!==this._oldStrokeDash&&(this._oldStrokeDash=this._strokeDash,n.push(this._strokeDash)),this._strokeStyle!==this._oldStrokeStyle&&(this._oldStrokeStyle=this._strokeStyle,n.push(this._strokeStyle)),n.push(this._stroke)),this._dirty=!1}e&&(r.length=0,this._commitIndex=n.length)},e._setFill=function(t){return this._updateInstructions(!0),this.command=this._fill=t,this},e._setStroke=function(t){return this._updateInstructions(!0),(this.command=this._stroke=t)&&(t.ignoreScale=this._strokeIgnoreScale),this},(n.LineTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.lineTo(this.x,this.y)},(n.MoveTo=function(t,e){this.x=t,this.y=e}).prototype.exec=function(t){t.moveTo(this.x,this.y)},(n.ArcTo=function(t,e,n,r,i){this.x1=t,this.y1=e,this.x2=n,this.y2=r,this.radius=i}).prototype.exec=function(t){t.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)},(n.Arc=function(t,e,n,r,i,o){this.x=t,this.y=e,this.radius=n,this.startAngle=r,this.endAngle=i,this.anticlockwise=!!o}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,this.startAngle,this.endAngle,this.anticlockwise)},(n.QuadraticCurveTo=function(t,e,n,r){this.cpx=t,this.cpy=e,this.x=n,this.y=r}).prototype.exec=function(t){t.quadraticCurveTo(this.cpx,this.cpy,this.x,this.y)},(n.BezierCurveTo=function(t,e,n,r,i,o){this.cp1x=t,this.cp1y=e,this.cp2x=n,this.cp2y=r,this.x=i,this.y=o}).prototype.exec=function(t){t.bezierCurveTo(this.cp1x,this.cp1y,this.cp2x,this.cp2y,this.x,this.y)},(n.Rect=function(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}).prototype.exec=function(t){t.rect(this.x,this.y,this.w,this.h)},(n.ClosePath=function(){}).prototype.exec=function(t){t.closePath()},(n.BeginPath=function(){}).prototype.exec=function(t){t.beginPath()},e=(n.Fill=function(t,e){this.style=t,this.matrix=e}).prototype,e.exec=function(t){if(this.style){t.fillStyle=this.style;var e=this.matrix;e&&(t.save(),t.transform(e.a,e.b,e.c,e.d,e.tx,e.ty)),t.fill(),e&&t.restore()}},e.linearGradient=function(e,n,r,i,o,s){for(var a=this.style=t._ctx.createLinearGradient(r,i,o,s),u=0,c=e.length;c>u;u++)a.addColorStop(n[u],e[u]);return a.props={colors:e,ratios:n,x0:r,y0:i,x1:o,y1:s,type:"linear"},this},e.radialGradient=function(e,n,r,i,o,s,a,u){for(var c=this.style=t._ctx.createRadialGradient(r,i,o,s,a,u),l=0,h=e.length;h>l;l++)c.addColorStop(n[l],e[l]);return c.props={colors:e,ratios:n,x0:r,y0:i,r0:o,x1:s,y1:a,r1:u,type:"radial"},this},e.bitmap=function(e,n){if(e.naturalWidth||e.getContext||e.readyState>=2){var r=this.style=t._ctx.createPattern(e,n||"");r.props={image:e,repetition:n,type:"bitmap"}}return this},e.path=!1,e=(n.Stroke=function(t,e){this.style=t,this.ignoreScale=e}).prototype,e.exec=function(t){this.style&&(t.strokeStyle=this.style,this.ignoreScale&&(t.save(),t.setTransform(1,0,0,1,0,0)),t.stroke(),this.ignoreScale&&t.restore())},e.linearGradient=n.Fill.prototype.linearGradient,e.radialGradient=n.Fill.prototype.radialGradient,e.bitmap=n.Fill.prototype.bitmap,e.path=!1,e=(n.StrokeStyle=function(t,e,n,r){this.width=t,this.caps=e,this.joints=n,this.miterLimit=r}).prototype,e.exec=function(e){e.lineWidth=null==this.width?"1":this.width,e.lineCap=null==this.caps?"butt":isNaN(this.caps)?this.caps:t.STROKE_CAPS_MAP[this.caps],e.lineJoin=null==this.joints?"miter":isNaN(this.joints)?this.joints:t.STROKE_JOINTS_MAP[this.joints],e.miterLimit=null==this.miterLimit?"10":this.miterLimit},e.path=!1,(n.StrokeDash=function(t,e){this.segments=t,this.offset=e||0}).prototype.exec=function(t){t.setLineDash&&(t.setLineDash(this.segments||n.StrokeDash.EMPTY_SEGMENTS),t.lineDashOffset=this.offset||0)},n.StrokeDash.EMPTY_SEGMENTS=[],(n.RoundRect=function(t,e,n,r,i,o,s,a){this.x=t,this.y=e,this.w=n,this.h=r,this.radiusTL=i,this.radiusTR=o,this.radiusBR=s,this.radiusBL=a}).prototype.exec=function(t){var e=(c>u?u:c)/2,n=0,r=0,i=0,o=0,s=this.x,a=this.y,u=this.w,c=this.h,l=this.radiusTL,h=this.radiusTR,f=this.radiusBR,d=this.radiusBL;0>l&&(l*=n=-1),l>e&&(l=e),0>h&&(h*=r=-1),h>e&&(h=e),0>f&&(f*=i=-1),f>e&&(f=e),0>d&&(d*=o=-1),d>e&&(d=e),t.moveTo(s+u-h,a),t.arcTo(s+u+h*r,a-h*r,s+u,a+h,h),t.lineTo(s+u,a+c-f),t.arcTo(s+u+f*i,a+c+f*i,s+u-f,a+c,f),t.lineTo(s+d,a+c),t.arcTo(s-d*o,a+c+d*o,s,a+c-d,d),t.lineTo(s,a+l),t.arcTo(s-l*n,a-l*n,s+l,a,l),t.closePath()},(n.Circle=function(t,e,n){this.x=t,this.y=e,this.radius=n}).prototype.exec=function(t){t.arc(this.x,this.y,this.radius,0,2*Math.PI)},(n.Ellipse=function(t,e,n,r){this.x=t,this.y=e,this.w=n,this.h=r}).prototype.exec=function(t){var e=this.x,n=this.y,r=this.w,i=this.h,o=.5522848,s=r/2*o,a=i/2*o,u=e+r,c=n+i,l=e+r/2,h=n+i/2;t.moveTo(e,h),t.bezierCurveTo(e,h-a,l-s,n,l,n),t.bezierCurveTo(l+s,n,u,h-a,u,h),t.bezierCurveTo(u,h+a,l+s,c,l,c),t.bezierCurveTo(l-s,c,e,h+a,e,h)},(n.PolyStar=function(t,e,n,r,i,o){this.x=t,this.y=e,this.radius=n,this.sides=r,this.pointSize=i,this.angle=o}).prototype.exec=function(t){var e=this.x,n=this.y,r=this.radius,i=(this.angle||0)/180*Math.PI,o=this.sides,s=1-(this.pointSize||0),a=Math.PI/o;t.moveTo(e+Math.cos(i)*r,n+Math.sin(i)*r);for(var u=0;o>u;u++)i+=a,1!=s&&t.lineTo(e+Math.cos(i)*r*s,n+Math.sin(i)*r*s),i+=a,t.lineTo(e+Math.cos(i)*r,n+Math.sin(i)*r);t.closePath()},t.beginCmd=new n.BeginPath,createjs.Graphics=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.alpha=1,this.cacheCanvas=null,this.cacheID=0,this.id=createjs.UID.get(),this.mouseEnabled=!0,this.tickEnabled=!0,this.name=null,this.parent=null,this.regX=0,this.regY=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.skewX=0,this.skewY=0,this.shadow=null,this.visible=!0,this.x=0,this.y=0,this.transformMatrix=null,this.compositeOperation=null,this.snapToPixel=!0,this.filters=null,this.mask=null,this.hitArea=null,this.cursor=null,this._cacheOffsetX=0,this._cacheOffsetY=0,this._filterOffsetX=0,this._filterOffsetY=0,this._cacheScale=1,this._cacheDataURLID=0,this._cacheDataURL=null,this._props=new createjs.DisplayProps,this._rectangle=new createjs.Rectangle,this._bounds=null;
}var e=createjs.extend(t,createjs.EventDispatcher);t._MOUSE_EVENTS=["click","dblclick","mousedown","mouseout","mouseover","pressmove","pressup","rollout","rollover"],t.suppressCrossDomainErrors=!1,t._snapToPixelEnabled=!1;var n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._hitTestCanvas=n,t._hitTestContext=n.getContext("2d"),n.width=n.height=1),t._nextCacheID=1,e.getStage=function(){for(var t=this,e=createjs.Stage;t.parent;)t=t.parent;return t instanceof e?t:null};try{Object.defineProperties(e,{stage:{get:e.getStage}})}catch(r){}e.isVisible=function(){return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY)},e.draw=function(t,e){var n=this.cacheCanvas;if(e||!n)return!1;var r=this._cacheScale;return t.drawImage(n,this._cacheOffsetX+this._filterOffsetX,this._cacheOffsetY+this._filterOffsetY,n.width/r,n.height/r),!0},e.updateContext=function(e){var n=this,r=n.mask,i=n._props.matrix;r&&r.graphics&&!r.graphics.isEmpty()&&(r.getMatrix(i),e.transform(i.a,i.b,i.c,i.d,i.tx,i.ty),r.graphics.drawAsPath(e),e.clip(),i.invert(),e.transform(i.a,i.b,i.c,i.d,i.tx,i.ty)),this.getMatrix(i);var o=i.tx,s=i.ty;t._snapToPixelEnabled&&n.snapToPixel&&(o=o+(0>o?-.5:.5)|0,s=s+(0>s?-.5:.5)|0),e.transform(i.a,i.b,i.c,i.d,o,s),e.globalAlpha*=n.alpha,n.compositeOperation&&(e.globalCompositeOperation=n.compositeOperation),n.shadow&&this._applyShadow(e,n.shadow)},e.cache=function(t,e,n,r,i){i=i||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this._cacheWidth=n,this._cacheHeight=r,this._cacheOffsetX=t,this._cacheOffsetY=e,this._cacheScale=i,this.updateCache()},e.updateCache=function(e){var n=this.cacheCanvas;if(!n)throw"cache() must be called before updateCache()";var r=this._cacheScale,i=this._cacheOffsetX*r,o=this._cacheOffsetY*r,s=this._cacheWidth,a=this._cacheHeight,u=n.getContext("2d"),c=this._getFilterBounds();i+=this._filterOffsetX=c.x,o+=this._filterOffsetY=c.y,s=Math.ceil(s*r)+c.width,a=Math.ceil(a*r)+c.height,s!=n.width||a!=n.height?(n.width=s,n.height=a):e||u.clearRect(0,0,s+1,a+1),u.save(),u.globalCompositeOperation=e,u.setTransform(r,0,0,r,-i,-o),this.draw(u,!0),this._applyFilters(),u.restore(),this.cacheID=t._nextCacheID++},e.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=this._filterOffsetX=this._filterOffsetY=0,this._cacheScale=1},e.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},e.localToGlobal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).transformPoint(t,e,n||new createjs.Point)},e.globalToLocal=function(t,e,n){return this.getConcatenatedMatrix(this._props.matrix).invert().transformPoint(t,e,n||new createjs.Point)},e.localToLocal=function(t,e,n,r){return r=this.localToGlobal(t,e,r),n.globalToLocal(r.x,r.y,r)},e.setTransform=function(t,e,n,r,i,o,s,a,u){return this.x=t||0,this.y=e||0,this.scaleX=null==n?1:n,this.scaleY=null==r?1:r,this.rotation=i||0,this.skewX=o||0,this.skewY=s||0,this.regX=a||0,this.regY=u||0,this},e.getMatrix=function(t){var e=this,n=t&&t.identity()||new createjs.Matrix2D;return e.transformMatrix?n.copy(e.transformMatrix):n.appendTransform(e.x,e.y,e.scaleX,e.scaleY,e.rotation,e.skewX,e.skewY,e.regX,e.regY)},e.getConcatenatedMatrix=function(t){for(var e=this,n=this.getMatrix(t);e=e.parent;)n.prependMatrix(e.getMatrix(e._props.matrix));return n},e.getConcatenatedDisplayProps=function(t){t=t?t.identity():new createjs.DisplayProps;var e=this,n=e.getMatrix(t.matrix);do t.prepend(e.visible,e.alpha,e.shadow,e.compositeOperation),e!=this&&n.prependMatrix(e.getMatrix(e._props.matrix));while(e=e.parent);return t},e.hitTest=function(e,n){var r=t._hitTestContext;r.setTransform(1,0,0,1,-e,-n),this.draw(r);var i=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),i},e.set=function(t){for(var e in t)this[e]=t[e];return this},e.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var t=this.cacheCanvas;if(t){var e=this._cacheScale;return this._rectangle.setValues(this._cacheOffsetX,this._cacheOffsetY,t.width/e,t.height/e)}return null},e.getTransformedBounds=function(){return this._getBounds()},e.setBounds=function(t,e,n,r){null==t&&(this._bounds=t),this._bounds=(this._bounds||new createjs.Rectangle).setValues(t,e,n,r)},e.clone=function(){return this._cloneProps(new t)},e.toString=function(){return"[DisplayObject (name="+this.name+")]"},e._cloneProps=function(t){return t.alpha=this.alpha,t.mouseEnabled=this.mouseEnabled,t.tickEnabled=this.tickEnabled,t.name=this.name,t.regX=this.regX,t.regY=this.regY,t.rotation=this.rotation,t.scaleX=this.scaleX,t.scaleY=this.scaleY,t.shadow=this.shadow,t.skewX=this.skewX,t.skewY=this.skewY,t.visible=this.visible,t.x=this.x,t.y=this.y,t.compositeOperation=this.compositeOperation,t.snapToPixel=this.snapToPixel,t.filters=null==this.filters?null:this.filters.slice(0),t.mask=this.mask,t.hitArea=this.hitArea,t.cursor=this.cursor,t._bounds=this._bounds,t},e._applyShadow=function(t,e){e=e||Shadow.identity,t.shadowColor=e.color,t.shadowOffsetX=e.offsetX,t.shadowOffsetY=e.offsetY,t.shadowBlur=e.blur},e._tick=function(t){var e=this._listeners;e&&e.tick&&(t.target=null,t.propagationStopped=t.immediatePropagationStopped=!1,this.dispatchEvent(t))},e._testHit=function(e){try{var n=e.getImageData(0,0,1,1).data[3]>1}catch(r){if(!t.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},e._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var t=this.filters.length,e=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,r=this.cacheCanvas.height,i=0;t>i;i++)this.filters[i].applyFilter(e,0,0,n,r)},e._getFilterBounds=function(){var t,e=this.filters,n=this._rectangle.setValues(0,0,0,0);if(!e||!(t=e.length))return n;for(var r=0;t>r;r++){var i=this.filters[r];i.getBounds&&i.getBounds(n)}return n},e._getBounds=function(t,e){return this._transformBounds(this.getBounds(),t,e)},e._transformBounds=function(t,e,n){if(!t)return t;var r=t.x,i=t.y,o=t.width,s=t.height,a=this._props.matrix;a=n?a.identity():this.getMatrix(a),(r||i)&&a.appendTransform(0,0,1,1,0,0,0,-r,-i),e&&a.prependMatrix(e);var u=o*a.a,c=o*a.b,l=s*a.c,h=s*a.d,f=a.tx,d=a.ty,p=f,g=f,v=d,m=d;return(r=u+f)<p?p=r:r>g&&(g=r),(r=u+l+f)<p?p=r:r>g&&(g=r),(r=l+f)<p?p=r:r>g&&(g=r),(i=c+d)<v?v=i:i>m&&(m=i),(i=c+h+d)<v?v=i:i>m&&(m=i),(i=h+d)<v?v=i:i>m&&(m=i),t.setValues(p,v,g-p,m-v)},e._hasMouseEventListener=function(){for(var e=t._MOUSE_EVENTS,n=0,r=e.length;r>n;n++)if(this.hasEventListener(e[n]))return!0;return!!this.cursor},createjs.DisplayObject=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.DisplayObject_constructor(),this.children=[],this.mouseChildren=!0,this.tickChildren=!0}var e=createjs.extend(t,createjs.DisplayObject);e.getNumChildren=function(){return this.children.length};try{Object.defineProperties(e,{numChildren:{get:e.getNumChildren}})}catch(n){}e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.children.length;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;for(var n=this.children.slice(),r=0,i=n.length;i>r;r++){var o=n[r];o.isVisible()&&(t.save(),o.updateContext(t),o.draw(t),t.restore())}return!0},e.addChild=function(t){if(null==t)return t;var e=arguments.length;if(e>1){for(var n=0;e>n;n++)this.addChild(arguments[n]);return arguments[e-1]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.push(t),t.dispatchEvent("added"),t},e.addChildAt=function(t,e){var n=arguments.length,r=arguments[n-1];if(0>r||r>this.children.length)return arguments[n-2];if(n>2){for(var i=0;n-1>i;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}return t.parent&&t.parent.removeChild(t),t.parent=this,this.children.splice(e,0,t),t.dispatchEvent("added"),t},e.removeChild=function(t){var e=arguments.length;if(e>1){for(var n=!0,r=0;e>r;r++)n=n&&this.removeChild(arguments[r]);return n}return this.removeChildAt(createjs.indexOf(this.children,t))},e.removeChildAt=function(t){var e=arguments.length;if(e>1){for(var n=[],r=0;e>r;r++)n[r]=arguments[r];n.sort(function(t,e){return e-t});for(var i=!0,r=0;e>r;r++)i=i&&this.removeChildAt(n[r]);return i}if(0>t||t>this.children.length-1)return!1;var o=this.children[t];return o&&(o.parent=null),this.children.splice(t,1),o.dispatchEvent("removed"),!0},e.removeAllChildren=function(){for(var t=this.children;t.length;)this.removeChildAt(0)},e.getChildAt=function(t){return this.children[t]},e.getChildByName=function(t){for(var e=this.children,n=0,r=e.length;r>n;n++)if(e[n].name==t)return e[n];return null},e.sortChildren=function(t){this.children.sort(t)},e.getChildIndex=function(t){return createjs.indexOf(this.children,t)},e.swapChildrenAt=function(t,e){var n=this.children,r=n[t],i=n[e];r&&i&&(n[t]=i,n[e]=r)},e.swapChildren=function(t,e){for(var n,r,i=this.children,o=0,s=i.length;s>o&&(i[o]==t&&(n=o),i[o]==e&&(r=o),null==n||null==r);o++);o!=s&&(i[n]=e,i[r]=t)},e.setChildIndex=function(t,e){var n=this.children,r=n.length;if(!(t.parent!=this||0>e||e>=r)){for(var i=0;r>i&&n[i]!=t;i++);i!=r&&i!=e&&(n.splice(i,1),n.splice(e,0,t))}},e.contains=function(t){for(;t;){if(t==this)return!0;t=t.parent}return!1},e.hitTest=function(t,e){return null!=this.getObjectUnderPoint(t,e)},e.getObjectsUnderPoint=function(t,e,n){var r=[],i=this.localToGlobal(t,e);return this._getObjectsUnderPoint(i.x,i.y,r,n>0,1==n),r},e.getObjectUnderPoint=function(t,e,n){var r=this.localToGlobal(t,e);return this._getObjectsUnderPoint(r.x,r.y,null,n>0,1==n)},e.getBounds=function(){return this._getBounds(null,!0)},e.getTransformedBounds=function(){return this._getBounds()},e.clone=function(e){var n=this._cloneProps(new t);return e&&this._cloneChildren(n),n},e.toString=function(){return"[Container (name="+this.name+")]"},e._tick=function(t){if(this.tickChildren)for(var e=this.children.length-1;e>=0;e--){var n=this.children[e];n.tickEnabled&&n._tick&&n._tick(t)}this.DisplayObject__tick(t)},e._cloneChildren=function(t){t.children.length&&t.removeAllChildren();for(var e=t.children,n=0,r=this.children.length;r>n;n++){var i=this.children[n].clone(!0);i.parent=t,e.push(i)}},e._getObjectsUnderPoint=function(e,n,r,i,o,s){if(s=s||0,!s&&!this._testMask(this,e,n))return null;var a,u=createjs.DisplayObject._hitTestContext;o=o||i&&this._hasMouseEventListener();for(var c=this.children,l=c.length,h=l-1;h>=0;h--){var f=c[h],d=f.hitArea;if(f.visible&&(d||f.isVisible())&&(!i||f.mouseEnabled)&&(d||this._testMask(f,e,n)))if(!d&&f instanceof t){var p=f._getObjectsUnderPoint(e,n,r,i,o,s+1);if(!r&&p)return i&&!this.mouseChildren?this:p}else{if(i&&!o&&!f._hasMouseEventListener())continue;var g=f.getConcatenatedDisplayProps(f._props);if(a=g.matrix,d&&(a.appendMatrix(d.getMatrix(d._props.matrix)),g.alpha=d.alpha),u.globalAlpha=g.alpha,u.setTransform(a.a,a.b,a.c,a.d,a.tx-e,a.ty-n),(d||f).draw(u),!this._testHit(u))continue;if(u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,2,2),!r)return i&&!this.mouseChildren?this:f;r.push(f)}}return null},e._testMask=function(t,e,n){var r=t.mask;if(!r||!r.graphics||r.graphics.isEmpty())return!0;var i=this._props.matrix,o=t.parent;i=o?o.getConcatenatedMatrix(i):i.identity(),i=r.getMatrix(r._props.matrix).prependMatrix(i);var s=createjs.DisplayObject._hitTestContext;return s.setTransform(i.a,i.b,i.c,i.d,i.tx-e,i.ty-n),r.graphics.drawAsPath(s),s.fillStyle="#000",s.fill(),this._testHit(s)?(s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,2,2),!0):!1},e._getBounds=function(t,e){var n=this.DisplayObject_getBounds();if(n)return this._transformBounds(n,t,e);var r=this._props.matrix;r=e?r.identity():this.getMatrix(r),t&&r.prependMatrix(t);for(var i=this.children.length,o=null,s=0;i>s;s++){var a=this.children[s];a.visible&&(n=a._getBounds(r))&&(o?o.extend(n.x,n.y,n.width,n.height):o=n.clone())}return o},createjs.Container=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.Container_constructor(),this.autoClear=!0,this.canvas="string"==typeof t?document.getElementById(t):t,this.mouseX=0,this.mouseY=0,this.drawRect=null,this.snapToPixelEnabled=!1,this.mouseInBounds=!1,this.tickOnUpdate=!0,this.mouseMoveOutside=!1,this.preventSelection=!0,this._pointerData={},this._pointerCount=0,this._primaryPointerID=null,this._mouseOverIntervalID=null,this._nextStage=null,this._prevStage=null,this.enableDOMEvents(!0)}var e=createjs.extend(t,createjs.Container);e._get_nextStage=function(){return this._nextStage},e._set_nextStage=function(t){this._nextStage&&(this._nextStage._prevStage=null),t&&(t._prevStage=this),this._nextStage=t};try{Object.defineProperties(e,{nextStage:{get:e._get_nextStage,set:e._set_nextStage}})}catch(n){}e.update=function(t){if(this.canvas&&(this.tickOnUpdate&&this.tick(t),this.dispatchEvent("drawstart",!1,!0)!==!1)){createjs.DisplayObject._snapToPixelEnabled=this.snapToPixelEnabled;var e=this.drawRect,n=this.canvas.getContext("2d");n.setTransform(1,0,0,1,0,0),this.autoClear&&(e?n.clearRect(e.x,e.y,e.width,e.height):n.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)),n.save(),this.drawRect&&(n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()),this.updateContext(n),this.draw(n,!1),n.restore(),this.dispatchEvent("drawend")}},e.tick=function(t){if(this.tickEnabled&&this.dispatchEvent("tickstart",!1,!0)!==!1){var e=new createjs.Event("tick");if(t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);this._tick(e),this.dispatchEvent("tickend")}},e.handleEvent=function(t){"tick"==t.type&&this.update(t)},e.clear=function(){if(this.canvas){var t=this.canvas.getContext("2d");t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},e.toDataURL=function(t,e){var n,r=this.canvas.getContext("2d"),i=this.canvas.width,o=this.canvas.height;if(t){n=r.getImageData(0,0,i,o);var s=r.globalCompositeOperation;r.globalCompositeOperation="destination-over",r.fillStyle=t,r.fillRect(0,0,i,o)}var a=this.canvas.toDataURL(e||"image/png");return t&&(r.putImageData(n,0,0),r.globalCompositeOperation=s),a},e.enableMouseOver=function(t){if(this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==t&&this._testMouseOver(!0)),null==t)t=20;else if(0>=t)return;var e=this;this._mouseOverIntervalID=setInterval(function(){e._testMouseOver()},1e3/Math.min(50,t))},e.enableDOMEvents=function(t){null==t&&(t=!0);var e,n,r=this._eventListeners;if(!t&&r){for(e in r)n=r[e],n.t.removeEventListener(e,n.f,!1);this._eventListeners=null}else if(t&&!r&&this.canvas){var i=window.addEventListener?window:document,o=this;r=this._eventListeners={},r.mouseup={t:i,f:function(t){o._handleMouseUp(t)}},r.mousemove={t:i,f:function(t){o._handleMouseMove(t)}},r.dblclick={t:this.canvas,f:function(t){o._handleDoubleClick(t)}},r.mousedown={t:this.canvas,f:function(t){o._handleMouseDown(t)}};for(e in r)n=r[e],n.t.addEventListener(e,n.f,!1)}},e.clone=function(){throw"Stage cannot be cloned."},e.toString=function(){return"[Stage (name="+this.name+")]"},e._getElementRect=function(t){var e;try{e=t.getBoundingClientRect()}catch(n){e={top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),o=window.getComputedStyle?getComputedStyle(t,null):t.currentStyle,s=parseInt(o.paddingLeft)+parseInt(o.borderLeftWidth),a=parseInt(o.paddingTop)+parseInt(o.borderTopWidth),u=parseInt(o.paddingRight)+parseInt(o.borderRightWidth),c=parseInt(o.paddingBottom)+parseInt(o.borderBottomWidth);return{left:e.left+r+s,right:e.right+r-u,top:e.top+i+a,bottom:e.bottom+i-c}},e._getPointerData=function(t){var e=this._pointerData[t];return e||(e=this._pointerData[t]={x:0,y:0}),e},e._handleMouseMove=function(t){t||(t=window.event),this._handlePointerMove(-1,t,t.pageX,t.pageY)},e._handlePointerMove=function(t,e,n,r,i){if((!this._prevStage||void 0!==i)&&this.canvas){var o=this._nextStage,s=this._getPointerData(t),a=s.inBounds;this._updatePointerPosition(t,e,n,r),(a||s.inBounds||this.mouseMoveOutside)&&(-1===t&&s.inBounds==!a&&this._dispatchMouseEvent(this,a?"mouseleave":"mouseenter",!1,t,s,e),this._dispatchMouseEvent(this,"stagemousemove",!1,t,s,e),this._dispatchMouseEvent(s.target,"pressmove",!0,t,s,e)),o&&o._handlePointerMove(t,e,n,r,null)}},e._updatePointerPosition=function(t,e,n,r){var i=this._getElementRect(this.canvas);n-=i.left,r-=i.top;var o=this.canvas.width,s=this.canvas.height;n/=(i.right-i.left)/o,r/=(i.bottom-i.top)/s;var a=this._getPointerData(t);(a.inBounds=n>=0&&r>=0&&o-1>=n&&s-1>=r)?(a.x=n,a.y=r):this.mouseMoveOutside&&(a.x=0>n?0:n>o-1?o-1:n,a.y=0>r?0:r>s-1?s-1:r),a.posEvtObj=e,a.rawX=n,a.rawY=r,(t===this._primaryPointerID||-1===t)&&(this.mouseX=a.x,this.mouseY=a.y,this.mouseInBounds=a.inBounds)},e._handleMouseUp=function(t){this._handlePointerUp(-1,t,!1)},e._handlePointerUp=function(t,e,n,r){var i=this._nextStage,o=this._getPointerData(t);if(!this._prevStage||void 0!==r){var s=null,a=o.target;r||!a&&!i||(s=this._getObjectsUnderPoint(o.x,o.y,null,!0)),o.down&&(this._dispatchMouseEvent(this,"stagemouseup",!1,t,o,e,s),o.down=!1),s==a&&this._dispatchMouseEvent(a,"click",!0,t,o,e),this._dispatchMouseEvent(a,"pressup",!0,t,o,e),n?(t==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[t]):o.target=null,i&&i._handlePointerUp(t,e,n,r||s&&this)}},e._handleMouseDown=function(t){this._handlePointerDown(-1,t,t.pageX,t.pageY)},e._handlePointerDown=function(t,e,n,r,i){this.preventSelection&&e.preventDefault(),(null==this._primaryPointerID||-1===t)&&(this._primaryPointerID=t),null!=r&&this._updatePointerPosition(t,e,n,r);var o=null,s=this._nextStage,a=this._getPointerData(t);i||(o=a.target=this._getObjectsUnderPoint(a.x,a.y,null,!0)),a.inBounds&&(this._dispatchMouseEvent(this,"stagemousedown",!1,t,a,e,o),a.down=!0),this._dispatchMouseEvent(o,"mousedown",!0,t,a,e),s&&s._handlePointerDown(t,e,n,r,i||o&&this)},e._testMouseOver=function(t,e,n){if(!this._prevStage||void 0!==e){var r=this._nextStage;if(!this._mouseOverIntervalID)return void(r&&r._testMouseOver(t,e,n));var i=this._getPointerData(-1);if(i&&(t||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var o,s,a,u=i.posEvtObj,c=n||u&&u.target==this.canvas,l=null,h=-1,f="";!e&&(t||this.mouseInBounds&&c)&&(l=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var d=this._mouseOverTarget||[],p=d[d.length-1],g=this._mouseOverTarget=[];for(o=l;o;)g.unshift(o),f||(f=o.cursor),o=o.parent;for(this.canvas.style.cursor=f,!e&&n&&(n.canvas.style.cursor=f),s=0,a=g.length;a>s&&g[s]==d[s];s++)h=s;for(p!=l&&this._dispatchMouseEvent(p,"mouseout",!0,-1,i,u,l),s=d.length-1;s>h;s--)this._dispatchMouseEvent(d[s],"rollout",!1,-1,i,u,l);for(s=g.length-1;s>h;s--)this._dispatchMouseEvent(g[s],"rollover",!1,-1,i,u,p);p!=l&&this._dispatchMouseEvent(l,"mouseover",!0,-1,i,u,p),r&&r._testMouseOver(t,e||l&&this,n||c&&this)}}},e._handleDoubleClick=function(t,e){var n=null,r=this._nextStage,i=this._getPointerData(-1);e||(n=this._getObjectsUnderPoint(i.x,i.y,null,!0),this._dispatchMouseEvent(n,"dblclick",!0,-1,i,t)),r&&r._handleDoubleClick(t,e||n&&this)},e._dispatchMouseEvent=function(t,e,n,r,i,o,s){if(t&&(n||t.hasEventListener(e))){var a=new createjs.MouseEvent(e,n,!1,i.x,i.y,o,r,r===this._primaryPointerID||-1===r,i.rawX,i.rawY,s);t.dispatchEvent(a)}},createjs.Stage=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){function t(t){this.DisplayObject_constructor(),"string"==typeof t?(this.image=document.createElement("img"),this.image.src=t):this.image=t,this.sourceRect=null}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.image,e=this.cacheCanvas||t&&(t.naturalWidth||t.getContext||t.readyState>=2);return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&e)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e)||!this.image)return!0;var n=this.image,r=this.sourceRect;if(r){var i=r.x,o=r.y,s=i+r.width,a=o+r.height,u=0,c=0,l=n.width,h=n.height;0>i&&(u-=i,i=0),s>l&&(s=l),0>o&&(c-=o,o=0),a>h&&(a=h),t.drawImage(n,i,o,s-i,a-o,u,c,s-i,a-o)}else t.drawImage(n,0,0);return!0},e.getBounds=function(){var t=this.DisplayObject_getBounds();if(t)return t;var e=this.image,n=this.sourceRect||e,r=e&&(e.naturalWidth||e.getContext||e.readyState>=2);return r?this._rectangle.setValues(0,0,n.width,n.height):null},e.clone=function(){var e=new t(this.image);return this.sourceRect&&(e.sourceRect=this.sourceRect.clone()),this._cloneProps(e),e},e.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.DisplayObject_constructor(),this.currentFrame=0,this.currentAnimation=null,this.paused=!0,this.spriteSheet=t,this.currentAnimationFrame=0,this.framerate=0,this._animation=null,this._currentFrame=null,this._skipAdvance=!1,null!=e&&this.gotoAndPlay(e)}var e=createjs.extend(t,createjs.DisplayObject);e.initialize=t,e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(0|this._currentFrame);if(!n)return!1;var r=n.rect;return r.width&&r.height&&t.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height),!0},e.play=function(){this.paused=!1},e.stop=function(){this.paused=!0},e.gotoAndPlay=function(t){this.paused=!1,this._skipAdvance=!0,this._goto(t)},e.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.advance=function(t){var e=this.framerate||this.spriteSheet.framerate,n=e&&null!=t?t/(1e3/e):1;this._normalizeFrame(n)},e.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)},e.clone=function(){return this._cloneProps(new t(this.spriteSheet))},e.toString=function(){return"[Sprite (name="+this.name+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.currentFrame=this.currentFrame,t.currentAnimation=this.currentAnimation,t.paused=this.paused,t.currentAnimationFrame=this.currentAnimationFrame,t.framerate=this.framerate,t._animation=this._animation,t._currentFrame=this._currentFrame,t._skipAdvance=this._skipAdvance,t},e._tick=function(t){this.paused||(this._skipAdvance||this.advance(t&&t.delta),this._skipAdvance=!1),this.DisplayObject__tick(t)},e._normalizeFrame=function(t){t=t||0;var e,n=this._animation,r=this.paused,i=this._currentFrame;if(n){var o=n.speed||1,s=this.currentAnimationFrame;if(e=n.frames.length,s+t*o>=e){var a=n.next;if(this._dispatchAnimationEnd(n,i,r,a,e-1))return;if(a)return this._goto(a,t-(e-s)/o);this.paused=!0,s=n.frames.length-1}else s+=t*o;this.currentAnimationFrame=s,this._currentFrame=n.frames[0|s]}else if(i=this._currentFrame+=t,e=this.spriteSheet.getNumFrames(),i>=e&&e>0&&!this._dispatchAnimationEnd(n,i,r,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();i=0|this._currentFrame,this.currentFrame!=i&&(this.currentFrame=i,this.dispatchEvent("change"))},e._dispatchAnimationEnd=function(t,e,n,r,i){var o=t?t.name:null;if(this.hasEventListener("animationend")){var s=new createjs.Event("animationend");s.name=o,s.next=r,this.dispatchEvent(s)}var a=this._animation!=t||this._currentFrame!=e;return a||n||!this.paused||(this.currentAnimationFrame=i,a=!0),a},e._goto=function(t,e){if(this.currentAnimationFrame=0,isNaN(t)){var n=this.spriteSheet.getAnimation(t);n&&(this._animation=n,this.currentAnimation=t,this._normalizeFrame(e))}else this.currentAnimation=this._animation=null,this._currentFrame=t,this._normalizeFrame()},createjs.Sprite=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),this.graphics=t?t:new createjs.Graphics}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){var t=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){return this.DisplayObject_draw(t,e)?!0:(this.graphics.draw(t,this),!0)},e.clone=function(e){var n=e&&this.graphics?this.graphics.clone():this.graphics;return this._cloneProps(new t(n))},e.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){this.DisplayObject_constructor(),this.text=t,this.font=e,this.color=n,this.textAlign="left",this.textBaseline="top",this.maxWidth=null,this.outline=0,this.lineHeight=0,this.lineWidth=null}var e=createjs.extend(t,createjs.DisplayObject),n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");n.getContext&&(t._workingContext=n.getContext("2d"),n.width=n.height=1),t.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1},t.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1},e.isVisible=function(){var t=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&this.alpha>0&&0!=this.scaleX&&0!=this.scaleY&&t)},e.draw=function(t,e){if(this.DisplayObject_draw(t,e))return!0;var n=this.color||"#000";return this.outline?(t.strokeStyle=n,t.lineWidth=1*this.outline):t.fillStyle=n,this._drawText(this._prepContext(t)),!0},e.getMeasuredWidth=function(){return this._getMeasuredWidth(this.text)},e.getMeasuredLineHeight=function(){return 1.2*this._getMeasuredWidth("M")},e.getMeasuredHeight=function(){return this._drawText(null,{}).height},e.getBounds=function(){var e=this.DisplayObject_getBounds();if(e)return e;if(null==this.text||""===this.text)return null;var n=this._drawText(null,{}),r=this.maxWidth&&this.maxWidth<n.width?this.maxWidth:n.width,i=r*t.H_OFFSETS[this.textAlign||"left"],o=this.lineHeight||this.getMeasuredLineHeight(),s=o*t.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.setValues(i,s,r,n.height)},e.getMetrics=function(){var e={lines:[]};return e.lineHeight=this.lineHeight||this.getMeasuredLineHeight(),e.vOffset=e.lineHeight*t.V_OFFSETS[this.textBaseline||"top"],this._drawText(null,e,e.lines)},e.clone=function(){return this._cloneProps(new t(this.text,this.font,this.color))},e.toString=function(){return"[Text (text="+(this.text.length>20?this.text.substr(0,17)+"...":this.text)+")]"},e._cloneProps=function(t){return this.DisplayObject__cloneProps(t),t.textAlign=this.textAlign,t.textBaseline=this.textBaseline,t.maxWidth=this.maxWidth,t.outline=this.outline,t.lineHeight=this.lineHeight,t.lineWidth=this.lineWidth,t},e._prepContext=function(t){return t.font=this.font||"10px sans-serif",t.textAlign=this.textAlign||"left",t.textBaseline=this.textBaseline||"top",t},e._drawText=function(e,n,r){var i=!!e;i||(e=t._workingContext,e.save(),this._prepContext(e));for(var o=this.lineHeight||this.getMeasuredLineHeight(),s=0,a=0,u=String(this.text).split(/(?:\r\n|\r|\n)/),c=0,l=u.length;l>c;c++){var h=u[c],f=null;if(null!=this.lineWidth&&(f=e.measureText(h).width)>this.lineWidth){var d=h.split(/(\s)/);h=d[0],f=e.measureText(h).width;for(var p=1,g=d.length;g>p;p+=2){var v=e.measureText(d[p]+d[p+1]).width;f+v>this.lineWidth?(i&&this._drawTextLine(e,h,a*o),r&&r.push(h),f>s&&(s=f),h=d[p+1],f=e.measureText(h).width,a++):(h+=d[p]+d[p+1],f+=v)}}i&&this._drawTextLine(e,h,a*o),r&&r.push(h),n&&null==f&&(f=e.measureText(h).width),f>s&&(s=f),a++}return n&&(n.width=s,n.height=a*o),i||e.restore(),n},e._drawTextLine=function(t,e,n){this.outline?t.strokeText(e,0,n,this.maxWidth||65535):t.fillText(e,0,n,this.maxWidth||65535)},e._getMeasuredWidth=function(e){var n=t._workingContext;n.save();var r=this._prepContext(n).measureText(e).width;return n.restore(),r},createjs.Text=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e){this.Container_constructor(),this.text=t||"",this.spriteSheet=e,this.lineHeight=0,this.letterSpacing=0,this.spaceWidth=0,this._oldProps={text:0,spriteSheet:0,lineHeight:0,letterSpacing:0,spaceWidth:0}}var e=createjs.extend(t,createjs.Container);t.maxPoolSize=100,t._spritePool=[],e.draw=function(t,e){this.DisplayObject_draw(t,e)||(this._updateText(),this.Container_draw(t,e))},e.getBounds=function(){return this._updateText(),this.Container_getBounds()},e.isVisible=function(){var t=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&this.alpha>0&&0!==this.scaleX&&0!==this.scaleY&&t)},e.clone=function(){return this._cloneProps(new t(this.text,this.spriteSheet))},e.addChild=e.addChildAt=e.removeChild=e.removeChildAt=e.removeAllChildren=function(){},e._cloneProps=function(t){return this.Container__cloneProps(t),t.lineHeight=this.lineHeight,t.letterSpacing=this.letterSpacing,t.spaceWidth=this.spaceWidth,t},e._getFrameIndex=function(t,e){var n,r=e.getAnimation(t);return r||(t!=(n=t.toUpperCase())||t!=(n=t.toLowerCase())||(n=null),n&&(r=e.getAnimation(n))),r&&r.frames[0]},e._getFrame=function(t,e){var n=this._getFrameIndex(t,e);return null==n?n:e.getFrame(n)},e._getLineHeight=function(t){var e=this._getFrame("1",t)||this._getFrame("T",t)||this._getFrame("L",t)||t.getFrame(0);return e?e.rect.height:1},e._getSpaceWidth=function(t){var e=this._getFrame("1",t)||this._getFrame("l",t)||this._getFrame("e",t)||this._getFrame("a",t)||t.getFrame(0);return e?e.rect.width:1},e._updateText=function(){var e,n=0,r=0,i=this._oldProps,o=!1,s=this.spaceWidth,a=this.lineHeight,u=this.spriteSheet,c=t._spritePool,l=this.children,h=0,f=l.length;for(var d in i)i[d]!=this[d]&&(i[d]=this[d],o=!0);if(o){var p=!!this._getFrame(" ",u);p||s||(s=this._getSpaceWidth(u)),a||(a=this._getLineHeight(u));for(var g=0,v=this.text.length;v>g;g++){var m=this.text.charAt(g);if(" "!=m||p)if("\n"!=m&&"\r"!=m){var y=this._getFrameIndex(m,u);null!=y&&(f>h?e=l[h]:(l.push(e=c.length?c.pop():new createjs.Sprite),e.parent=this,f++),e.spriteSheet=u,e.gotoAndStop(y),e.x=n,e.y=r,h++,n+=e.getBounds().width+this.letterSpacing)}else"\r"==m&&"\n"==this.text.charAt(g+1)&&g++,n=0,r+=a;else n+=s}for(;f>h;)c.push(e=l.pop()),e.parent=null,f--;c.length>t.maxPoolSize&&(c.length=t.maxPoolSize)}},createjs.BitmapText=createjs.promote(t,"Container")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"SpriteSheetUtils cannot be instantiated"}var e=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");e.getContext&&(t._workingCanvas=e,t._workingContext=e.getContext("2d"),e.width=e.height=1),t.addFlippedFrames=function(e,n,r,i){if(n||r||i){var o=0;n&&t._flip(e,++o,!0,!1),r&&t._flip(e,++o,!1,!0),i&&t._flip(e,++o,!0,!0)}},t.extractFrame=function(e,n){isNaN(n)&&(n=e.getAnimation(n).frames[0]);var r=e.getFrame(n);if(!r)return null;var i=r.rect,o=t._workingCanvas;o.width=i.width,o.height=i.height,t._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height);var s=document.createElement("img");return s.src=o.toDataURL("image/png"),s},t.mergeAlpha=function(t,e,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(e.width,t.width),n.height=Math.max(e.height,t.height);var r=n.getContext("2d");return r.save(),r.drawImage(t,0,0),r.globalCompositeOperation="destination-in",r.drawImage(e,0,0),r.restore(),n},t._flip=function(e,n,r,i){for(var o=e._images,s=t._workingCanvas,a=t._workingContext,u=o.length/n,c=0;u>c;c++){var l=o[c];l.__tmp=c,
a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,s.width+1,s.height+1),s.width=l.width,s.height=l.height,a.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0),a.drawImage(l,0,0);var h=document.createElement("img");h.src=s.toDataURL("image/png"),h.width=l.width,h.height=l.height,o.push(h)}var f=e._frames,d=f.length/n;for(c=0;d>c;c++){l=f[c];var p=l.rect.clone();h=o[l.image.__tmp+u*n];var g={image:h,rect:p,regX:l.regX,regY:l.regY};r&&(p.x=h.width-p.x-p.width,g.regX=p.width-l.regX),i&&(p.y=h.height-p.y-p.height,g.regY=p.height-l.regY),f.push(g)}var v="_"+(r?"h":"")+(i?"v":""),m=e._animations,y=e._data,_=m.length/n;for(c=0;_>c;c++){var b=m[c];l=y[b];var x={name:b+v,speed:l.speed,next:l.next,frames:[]};l.next&&(x.next+=v),f=l.frames;for(var S=0,E=f.length;E>S;S++)x.frames.push(f[S]+d*n);y[x.name]=x,m.push(x.name)}},createjs.SpriteSheetUtils=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(){this.EventDispatcher_constructor(),this.maxWidth=2048,this.maxHeight=2048,this.spriteSheet=null,this.scale=1,this.padding=1,this.timeSlice=.3,this.progress=-1,this._frames=[],this._animations={},this._data=null,this._nextFrameIndex=0,this._index=0,this._timerID=null,this._scale=1}var e=createjs.extend(t,createjs.EventDispatcher);t.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",t.ERR_RUNNING="a build is already running",e.addFrame=function(e,n,r,i,o){if(this._data)throw t.ERR_RUNNING;var s=n||e.bounds||e.nominalBounds;return!s&&e.getBounds&&(s=e.getBounds()),s?(r=r||1,this._frames.push({source:e,sourceRect:s,scale:r,funct:i,data:o,index:this._frames.length,height:s.height*r})-1):null},e.addAnimation=function(e,n,r,i){if(this._data)throw t.ERR_RUNNING;this._animations[e]={frames:n,next:r,frequency:i}},e.addMovieClip=function(e,n,r,i,o,s){if(this._data)throw t.ERR_RUNNING;var a=e.frameBounds,u=n||e.bounds||e.nominalBounds;if(!u&&e.getBounds&&(u=e.getBounds()),u||a){var c,l,h=this._frames.length,f=e.timeline.duration;for(c=0;f>c;c++){var d=a&&a[c]?a[c]:u;this.addFrame(e,d,r,this._setupMovieClipFrame,{i:c,f:i,d:o})}var p=e.timeline._labels,g=[];for(var v in p)g.push({index:p[v],label:v});if(g.length)for(g.sort(function(t,e){return t.index-e.index}),c=0,l=g.length;l>c;c++){for(var m=g[c].label,y=h+g[c].index,_=h+(c==l-1?f:g[c+1].index),b=[],x=y;_>x;x++)b.push(x);(!s||(m=s(m,e,y,_)))&&this.addAnimation(m,b,!0)}}},e.build=function(){if(this._data)throw t.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},e.buildAsync=function(e){if(this._data)throw t.ERR_RUNNING;this.timeSlice=e,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},e.stopAsync=function(){clearTimeout(this._timerID),this._data=null},e.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},e.toString=function(){return"[SpriteSheetBuilder]"},e._startBuild=function(){var e=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,animations:this._animations};var r=this._frames.slice();if(r.sort(function(t,e){return t.height<=e.height?-1:1}),r[r.length-1].height+2*e>this.maxHeight)throw t.ERR_DIMENSIONS;for(var i=0,o=0,s=0;r.length;){var a=this._fillRow(r,i,s,n,e);if(a.w>o&&(o=a.w),i+=a.h,!a.h||!r.length){var u=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");u.width=this._getSize(o,this.maxWidth),u.height=this._getSize(i,this.maxHeight),this._data.images[s]=u,a.h||(o=i=0,s++)}}},e._setupMovieClipFrame=function(t,e){var n=t.actionsEnabled;t.actionsEnabled=!1,t.gotoAndStop(e.i),t.actionsEnabled=n,e.f&&e.f(t,e.d,e.i)},e._getSize=function(t,e){for(var n=4;Math.pow(2,++n)<t;);return Math.min(e,Math.pow(2,n))},e._fillRow=function(e,n,r,i,o){var s=this.maxWidth,a=this.maxHeight;n+=o;for(var u=a-n,c=o,l=0,h=e.length-1;h>=0;h--){var f=e[h],d=this._scale*f.scale,p=f.sourceRect,g=f.source,v=Math.floor(d*p.x-o),m=Math.floor(d*p.y-o),y=Math.ceil(d*p.height+2*o),_=Math.ceil(d*p.width+2*o);if(_>s)throw t.ERR_DIMENSIONS;y>u||c+_>s||(f.img=r,f.rect=new createjs.Rectangle(c,n,_,y),l=l||y,e.splice(h,1),i[f.index]=[c,n,_,y,r,Math.round(-v+d*g.regX-o),Math.round(-m+d*g.regY-o)],c+=_)}return{w:c,h:l}},e._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.dispatchEvent("complete")},e._run=function(){for(var t=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),e=(new Date).getTime()+t,n=!1;e>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-t)}var i=this.progress=this._index/this._frames.length;if(this.hasEventListener("progress")){var o=new createjs.Event("progress");o.progress=i,this.dispatchEvent(o)}},e._drawNext=function(){var t=this._frames[this._index],e=t.scale*this._scale,n=t.rect,r=t.sourceRect,i=this._data.images[t.img],o=i.getContext("2d");return t.funct&&t.funct(t.source,t.data),o.save(),o.beginPath(),o.rect(n.x,n.y,n.width,n.height),o.clip(),o.translate(Math.ceil(n.x-r.x*e),Math.ceil(n.y-r.y*e)),o.scale(e,e),t.source.draw(o),o.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=createjs.promote(t,"EventDispatcher")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.DisplayObject_constructor(),"string"==typeof t&&(t=document.getElementById(t)),this.mouseEnabled=!1;var e=t.style;e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%",this.htmlElement=t,this._oldProps=null}var e=createjs.extend(t,createjs.DisplayObject);e.isVisible=function(){return null!=this.htmlElement},e.draw=function(){return!0},e.cache=function(){},e.uncache=function(){},e.updateCache=function(){},e.hitTest=function(){},e.localToGlobal=function(){},e.globalToLocal=function(){},e.localToLocal=function(){},e.clone=function(){throw"DOMElement cannot be cloned."},e.toString=function(){return"[DOMElement (name="+this.name+")]"},e._tick=function(t){var e=this.getStage();e&&e.on("drawend",this._handleDrawEnd,this,!0),this.DisplayObject__tick(t)},e._handleDrawEnd=function(){var t=this.htmlElement;if(t){var e=t.style,n=this.getConcatenatedDisplayProps(this._props),r=n.matrix,i=n.visible?"visible":"hidden";if(i!=e.visibility&&(e.visibility=i),n.visible){var o=this._oldProps,s=o&&o.matrix,a=1e4;if(!s||!s.equals(r)){var u="matrix("+(r.a*a|0)/a+","+(r.b*a|0)/a+","+(r.c*a|0)/a+","+(r.d*a|0)/a+","+(r.tx+.5|0);e.transform=e.WebkitTransform=e.OTransform=e.msTransform=u+","+(r.ty+.5|0)+")",e.MozTransform=u+"px,"+(r.ty+.5|0)+"px)",o||(o=this._oldProps=new createjs.DisplayProps(!0,NaN)),o.matrix.copy(r)}o.alpha!=n.alpha&&(e.opacity=""+(n.alpha*a|0)/a,o.alpha=n.alpha)}}},createjs.DOMElement=createjs.promote(t,"DisplayObject")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){}var e=t.prototype;e.getBounds=function(t){return t},e.applyFilter=function(t,e,n,r,i,o,s,a){o=o||t,null==s&&(s=e),null==a&&(a=n);try{var u=t.getImageData(e,n,r,i)}catch(c){return!1}return this._applyFilter(u)?(o.putImageData(u,s,a),!0):!1},e.toString=function(){return"[Filter]"},e.clone=function(){return new t},e._applyFilter=function(){return!0},createjs.Filter=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n){(isNaN(t)||0>t)&&(t=0),(isNaN(e)||0>e)&&(e=0),(isNaN(n)||1>n)&&(n=1),this.blurX=0|t,this.blurY=0|e,this.quality=0|n}var e=createjs.extend(t,createjs.Filter);t.MUL_TABLE=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1],t.SHG_TABLE=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9],e.getBounds=function(t){var e=0|this.blurX,n=0|this.blurY;if(0>=e&&0>=n)return t;var r=Math.pow(this.quality,.2);return(t||new createjs.Rectangle).pad(e*r+1,n*r+1,e*r+1,n*r+1)},e.clone=function(){return new t(this.blurX,this.blurY,this.quality)},e.toString=function(){return"[BlurFilter]"},e._applyFilter=function(e){var n=this.blurX>>1;if(isNaN(n)||0>n)return!1;var r=this.blurY>>1;if(isNaN(r)||0>r)return!1;if(0==n&&0==r)return!1;var i=this.quality;(isNaN(i)||1>i)&&(i=1),i|=0,i>3&&(i=3),1>i&&(i=1);var o=e.data,s=0,a=0,u=0,c=0,l=0,h=0,f=0,d=0,p=0,g=0,v=0,m=0,y=0,_=0,b=0,x=n+n+1|0,S=r+r+1|0,E=0|e.width,w=0|e.height,T=E-1|0,C=w-1|0,j=n+1|0,O=r+1|0,M={r:0,b:0,g:0,a:0},L=M;for(u=1;x>u;u++)L=L.n={r:0,b:0,g:0,a:0};L.n=M;var D={r:0,b:0,g:0,a:0},I=D;for(u=1;S>u;u++)I=I.n={r:0,b:0,g:0,a:0};I.n=D;for(var A=null,k=0|t.MUL_TABLE[n],R=0|t.SHG_TABLE[n],N=0|t.MUL_TABLE[r],P=0|t.SHG_TABLE[r];i-->0;){f=h=0;var F=k,B=R;for(a=w;--a>-1;){for(d=j*(m=o[0|h]),p=j*(y=o[h+1|0]),g=j*(_=o[h+2|0]),v=j*(b=o[h+3|0]),L=M,u=j;--u>-1;)L.r=m,L.g=y,L.b=_,L.a=b,L=L.n;for(u=1;j>u;u++)c=h+((u>T?T:u)<<2)|0,d+=L.r=o[c],p+=L.g=o[c+1],g+=L.b=o[c+2],v+=L.a=o[c+3],L=L.n;for(A=M,s=0;E>s;s++)o[h++]=d*F>>>B,o[h++]=p*F>>>B,o[h++]=g*F>>>B,o[h++]=v*F>>>B,c=f+((c=s+n+1)<T?c:T)<<2,d-=A.r-(A.r=o[c]),p-=A.g-(A.g=o[c+1]),g-=A.b-(A.b=o[c+2]),v-=A.a-(A.a=o[c+3]),A=A.n;f+=E}for(F=N,B=P,s=0;E>s;s++){for(h=s<<2|0,d=O*(m=o[h])|0,p=O*(y=o[h+1|0])|0,g=O*(_=o[h+2|0])|0,v=O*(b=o[h+3|0])|0,I=D,u=0;O>u;u++)I.r=m,I.g=y,I.b=_,I.a=b,I=I.n;for(l=E,u=1;r>=u;u++)h=l+s<<2,d+=I.r=o[h],p+=I.g=o[h+1],g+=I.b=o[h+2],v+=I.a=o[h+3],I=I.n,C>u&&(l+=E);if(h=s,A=D,i>0)for(a=0;w>a;a++)c=h<<2,o[c+3]=b=v*F>>>B,b>0?(o[c]=d*F>>>B,o[c+1]=p*F>>>B,o[c+2]=g*F>>>B):o[c]=o[c+1]=o[c+2]=0,c=s+((c=a+O)<C?c:C)*E<<2,d-=A.r-(A.r=o[c]),p-=A.g-(A.g=o[c+1]),g-=A.b-(A.b=o[c+2]),v-=A.a-(A.a=o[c+3]),A=A.n,h+=E;else for(a=0;w>a;a++)c=h<<2,o[c+3]=b=v*F>>>B,b>0?(b=255/b,o[c]=(d*F>>>B)*b,o[c+1]=(p*F>>>B)*b,o[c+2]=(g*F>>>B)*b):o[c]=o[c+1]=o[c+2]=0,c=s+((c=a+O)<C?c:C)*E<<2,d-=A.r-(A.r=o[c]),p-=A.g-(A.g=o[c+1]),g-=A.b-(A.b=o[c+2]),v-=A.a-(A.a=o[c+3]),A=A.n,h+=E}}return!0},createjs.BlurFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.alphaMap=t,this._alphaMap=null,this._mapData=null}var e=createjs.extend(t,createjs.Filter);e.clone=function(){var e=new t(this.alphaMap);return e._alphaMap=this._alphaMap,e._mapData=this._mapData,e},e.toString=function(){return"[AlphaMapFilter]"},e._applyFilter=function(t){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;for(var e=t.data,n=this._mapData,r=0,i=e.length;i>r;r+=4)e[r+3]=n[r]||0;return!0},e._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var t,e=this._alphaMap=this.alphaMap,n=e;e instanceof HTMLCanvasElement?t=n.getContext("2d"):(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),n.width=e.width,n.height=e.height,t=n.getContext("2d"),t.drawImage(e,0,0));try{var r=t.getImageData(0,0,e.width,e.height)}catch(i){return!1}return this._mapData=r.data,!0},createjs.AlphaMapFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.mask=t}var e=createjs.extend(t,createjs.Filter);e.applyFilter=function(t,e,n,r,i,o,s,a){return this.mask?(o=o||t,null==s&&(s=e),null==a&&(a=n),o.save(),t!=o?!1:(o.globalCompositeOperation="destination-in",o.drawImage(this.mask,s,a),o.restore(),!0)):!0},e.clone=function(){return new t(this.mask)},e.toString=function(){return"[AlphaMaskFilter]"},createjs.AlphaMaskFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r,i,o,s,a){this.redMultiplier=null!=t?t:1,this.greenMultiplier=null!=e?e:1,this.blueMultiplier=null!=n?n:1,this.alphaMultiplier=null!=r?r:1,this.redOffset=i||0,this.greenOffset=o||0,this.blueOffset=s||0,this.alphaOffset=a||0}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorFilter]"},e.clone=function(){return new t(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)},e._applyFilter=function(t){for(var e=t.data,n=e.length,r=0;n>r;r+=4)e[r]=e[r]*this.redMultiplier+this.redOffset,e[r+1]=e[r+1]*this.greenMultiplier+this.greenOffset,e[r+2]=e[r+2]*this.blueMultiplier+this.blueOffset,e[r+3]=e[r+3]*this.alphaMultiplier+this.alphaOffset;return!0},createjs.ColorFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(t,e,n,r){this.setColor(t,e,n,r)}var e=t.prototype;t.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],t.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],t.LENGTH=t.IDENTITY_MATRIX.length,e.setColor=function(t,e,n,r){return this.reset().adjustColor(t,e,n,r)},e.reset=function(){return this.copy(t.IDENTITY_MATRIX)},e.adjustColor=function(t,e,n,r){return this.adjustHue(r),this.adjustContrast(e),this.adjustBrightness(t),this.adjustSaturation(n)},e.adjustBrightness=function(t){return 0==t||isNaN(t)?this:(t=this._cleanValue(t,255),this._multiplyMatrix([1,0,0,0,t,0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1]),this)},e.adjustContrast=function(e){if(0==e||isNaN(e))return this;e=this._cleanValue(e,100);var n;return 0>e?n=127+e/100*127:(n=e%1,n=0==n?t.DELTA_INDEX[e]:t.DELTA_INDEX[e<<0]*(1-n)+t.DELTA_INDEX[(e<<0)+1]*n,n=127*n+127),this._multiplyMatrix([n/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1]),this},e.adjustSaturation=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,100);var e=1+(t>0?3*t/100:t/100),n=.3086,r=.6094,i=.082;return this._multiplyMatrix([n*(1-e)+e,r*(1-e),i*(1-e),0,0,n*(1-e),r*(1-e)+e,i*(1-e),0,0,n*(1-e),r*(1-e),i*(1-e)+e,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.adjustHue=function(t){if(0==t||isNaN(t))return this;t=this._cleanValue(t,180)/180*Math.PI;var e=Math.cos(t),n=Math.sin(t),r=.213,i=.715,o=.072;return this._multiplyMatrix([r+e*(1-r)+n*-r,i+e*-i+n*-i,o+e*-o+n*(1-o),0,0,r+e*-r+.143*n,i+e*(1-i)+.14*n,o+e*-o+n*-.283,0,0,r+e*-r+n*-(1-r),i+e*-i+n*i,o+e*(1-o)+n*o,0,0,0,0,0,1,0,0,0,0,0,1]),this},e.concat=function(e){return e=this._fixMatrix(e),e.length!=t.LENGTH?this:(this._multiplyMatrix(e),this)},e.clone=function(){return(new t).copy(this)},e.toArray=function(){for(var e=[],n=0,r=t.LENGTH;r>n;n++)e[n]=this[n];return e},e.copy=function(e){for(var n=t.LENGTH,r=0;n>r;r++)this[r]=e[r];return this},e.toString=function(){return"[ColorMatrix]"},e._multiplyMatrix=function(t){var e,n,r,i=[];for(e=0;5>e;e++){for(n=0;5>n;n++)i[n]=this[n+5*e];for(n=0;5>n;n++){var o=0;for(r=0;5>r;r++)o+=t[n+5*r]*i[r];this[n+5*e]=o}}},e._cleanValue=function(t,e){return Math.min(e,Math.max(-e,t))},e._fixMatrix=function(e){return e instanceof t&&(e=e.toArray()),e.length<t.LENGTH?e=e.slice(0,e.length).concat(t.IDENTITY_MATRIX.slice(e.length,t.LENGTH)):e.length>t.LENGTH&&(e=e.slice(0,t.LENGTH)),e},createjs.ColorMatrix=t}(),this.createjs=this.createjs||{},function(){"use strict";function t(t){this.matrix=t}var e=createjs.extend(t,createjs.Filter);e.toString=function(){return"[ColorMatrixFilter]"},e.clone=function(){return new t(this.matrix)},e._applyFilter=function(t){for(var e,n,r,i,o=t.data,s=o.length,a=this.matrix,u=a[0],c=a[1],l=a[2],h=a[3],f=a[4],d=a[5],p=a[6],g=a[7],v=a[8],m=a[9],y=a[10],_=a[11],b=a[12],x=a[13],S=a[14],E=a[15],w=a[16],T=a[17],C=a[18],j=a[19],O=0;s>O;O+=4)e=o[O],n=o[O+1],r=o[O+2],i=o[O+3],o[O]=e*u+n*c+r*l+i*h+f,o[O+1]=e*d+n*p+r*g+i*v+m,o[O+2]=e*y+n*_+r*b+i*x+S,o[O+3]=e*E+n*w+r*T+i*C+j;return!0},createjs.ColorMatrixFilter=createjs.promote(t,"Filter")}(),this.createjs=this.createjs||{},function(){"use strict";function t(){throw"Touch cannot be instantiated"}t.isSupported=function(){return!!("ontouchstart"in window||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||window.navigator.pointerEnabled&&window.navigator.maxTouchPoints>0)},t.enable=function(e,n,r){return e&&e.canvas&&t.isSupported()?e.__touch?!0:(e.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0},"ontouchstart"in window?t._IOS_enable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_enable(e),!0):!1},t.disable=function(e){e&&("ontouchstart"in window?t._IOS_disable(e):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&t._IE_disable(e),delete e.__touch)},t._IOS_enable=function(e){var n=e.canvas,r=e.__touch.f=function(n){t._IOS_handleEvent(e,n)};n.addEventListener("touchstart",r,!1),n.addEventListener("touchmove",r,!1),n.addEventListener("touchend",r,!1),n.addEventListener("touchcancel",r,!1)},t._IOS_disable=function(t){var e=t.canvas;if(e){var n=t.__touch.f;e.removeEventListener("touchstart",n,!1),e.removeEventListener("touchmove",n,!1),e.removeEventListener("touchend",n,!1),e.removeEventListener("touchcancel",n,!1)}},t._IOS_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();for(var n=e.changedTouches,r=e.type,i=0,o=n.length;o>i;i++){var s=n[i],a=s.identifier;s.target==t.canvas&&("touchstart"==r?this._handleStart(t,a,e,s.pageX,s.pageY):"touchmove"==r?this._handleMove(t,a,e,s.pageX,s.pageY):("touchend"==r||"touchcancel"==r)&&this._handleEnd(t,a,e))}}},t._IE_enable=function(e){var n=e.canvas,r=e.__touch.f=function(n){t._IE_handleEvent(e,n)};void 0===window.navigator.pointerEnabled?(n.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),e.__touch.preventDefault&&(n.style.msTouchAction="none")):(n.addEventListener("pointerdown",r,!1),window.addEventListener("pointermove",r,!1),window.addEventListener("pointerup",r,!1),window.addEventListener("pointercancel",r,!1),e.__touch.preventDefault&&(n.style.touchAction="none")),e.__touch.activeIDs={}},t._IE_disable=function(t){var e=t.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",e,!1),window.removeEventListener("MSPointerUp",e,!1),window.removeEventListener("MSPointerCancel",e,!1),t.canvas&&t.canvas.removeEventListener("MSPointerDown",e,!1)):(window.removeEventListener("pointermove",e,!1),window.removeEventListener("pointerup",e,!1),window.removeEventListener("pointercancel",e,!1),t.canvas&&t.canvas.removeEventListener("pointerdown",e,!1))},t._IE_handleEvent=function(t,e){if(t){t.__touch.preventDefault&&e.preventDefault&&e.preventDefault();var n=e.type,r=e.pointerId,i=t.__touch.activeIDs;if("MSPointerDown"==n||"pointerdown"==n){if(e.srcElement!=t.canvas)return;i[r]=!0,this._handleStart(t,r,e,e.pageX,e.pageY)}else i[r]&&("MSPointerMove"==n||"pointermove"==n?this._handleMove(t,r,e,e.pageX,e.pageY):("MSPointerUp"==n||"MSPointerCancel"==n||"pointerup"==n||"pointercancel"==n)&&(delete i[r],this._handleEnd(t,r,e)))}},t._handleStart=function(t,e,n,r,i){var o=t.__touch;if(o.multitouch||!o.count){var s=o.pointers;s[e]||(s[e]=!0,o.count++,t._handlePointerDown(e,n,r,i))}},t._handleMove=function(t,e,n,r,i){t.__touch.pointers[e]&&t._handlePointerMove(e,n,r,i)},t._handleEnd=function(t,e,n){var r=t.__touch,i=r.pointers;i[e]&&(r.count--,t._handlePointerUp(e,n,!0),delete i[e])},createjs.Touch=t}(),this.createjs=this.createjs||{},function(){"use strict";var t=createjs.EaselJS=createjs.EaselJS||{};t.version="0.8.1",t.buildDate="Thu, 21 May 2015 16:17:39 GMT"}(),!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||Z;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function r(t){var e=!!t&&"length"in t&&t.length,n=ft.type(t);return"function"!==n&&!ft.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(ft.isFunction(e))return ft.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return ft.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(St.test(e))return ft.filter(e,t,n);e=ft.filter(e,t)}return ft.grep(t,function(t){return it.call(e,t)>-1!==n&&1===t.nodeType})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e={};return ft.each(t.match(Ot)||[],function(t,n){e[n]=!0}),e}function a(t){return t}function u(t){throw t}function c(t,e,n){var r;try{t&&ft.isFunction(r=t.promise)?r.call(t).done(e).fail(n):t&&ft.isFunction(r=t.then)?r.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function l(){Z.removeEventListener("DOMContentLoaded",l),t.removeEventListener("load",l),ft.ready()}function h(){this.expando=ft.expando+h.uid++}function f(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(Nt,"-$&").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Rt.test(n)?JSON.parse(n):n)}catch(i){}kt.set(t,e,n)}else n=void 0;return n}function d(t,e,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return ft.css(t,e,"")},u=a(),c=n&&n[3]||(ft.cssNumber[e]?"":"px"),l=(ft.cssNumber[e]||"px"!==c&&+u)&&Ft.exec(ft.css(t,e));if(l&&l[3]!==c){c=c||l[3],n=n||[],l=+u||1;do o=o||".5",l/=o,ft.style(t,e,l+c);while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}function p(t){var e,n=t.ownerDocument,r=t.nodeName,i=Yt[r];return i?i:(e=n.body.appendChild(n.createElement(r)),i=ft.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),Yt[r]=i,i)}function g(t,e){for(var n,r,i=[],o=0,s=t.length;s>o;o++)r=t[o],r.style&&(n=r.style.display,e?("none"===n&&(i[o]=At.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Gt(r)&&(i[o]=p(r))):"none"!==n&&(i[o]="none",At.set(r,"display",n)));for(o=0;s>o;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}function v(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ft.nodeName(t,e)?ft.merge([t],n):n}function m(t,e){for(var n=0,r=t.length;r>n;n++)At.set(t[n],"globalEval",!e||At.get(e[n],"globalEval"))}function y(t,e,n,r,i){for(var o,s,a,u,c,l,h=e.createDocumentFragment(),f=[],d=0,p=t.length;p>d;d++)if(o=t[d],o||0===o)if("object"===ft.type(o))ft.merge(f,o.nodeType?[o]:o);else if(Xt.test(o)){for(s=s||h.appendChild(e.createElement("div")),a=(Wt.exec(o)||["",""])[1].toLowerCase(),u=Vt[a]||Vt._default,s.innerHTML=u[1]+ft.htmlPrefilter(o)+u[2],l=u[0];l--;)s=s.lastChild;ft.merge(f,s.childNodes),s=h.firstChild,s.textContent=""}else f.push(e.createTextNode(o));for(h.textContent="",d=0;o=f[d++];)if(r&&ft.inArray(o,r)>-1)i&&i.push(o);else if(c=ft.contains(o.ownerDocument,o),s=v(h.appendChild(o),"script"),c&&m(s),n)for(l=0;o=s[l++];)qt.test(o.type||"")&&n.push(o);return h}function _(){return!0}function b(){return!1}function x(){try{return Z.activeElement}catch(t){}}function S(t,e,n,r,i,o){var s,a;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=void 0);for(a in e)S(t,a,n,r,e[a],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=b;else if(!i)return t;return 1===o&&(s=i,i=function(t){return ft().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=ft.guid++)),t.each(function(){ft.event.add(this,e,i,r,n)})}function E(t,e){return ft.nodeName(t,"table")&&ft.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function w(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function T(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function C(t,e){var n,r,i,o,s,a,u,c;if(1===e.nodeType){if(At.hasData(t)&&(o=At.access(t),s=At.set(e,o),c=o.events)){delete s.handle,s.events={};for(i in c)for(n=0,r=c[i].length;r>n;n++)ft.event.add(e,i,c[i][n])}kt.hasData(t)&&(a=kt.access(t),u=ft.extend({},a),kt.set(e,u))}}function j(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Ht.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function O(t,e,r,i){e=nt.apply([],e);var o,s,a,u,c,l,h=0,f=t.length,d=f-1,p=e[0],g=ft.isFunction(p);if(g||f>1&&"string"==typeof p&&!lt.checkClone&&te.test(p))return t.each(function(n){var o=t.eq(n);g&&(e[0]=p.call(this,n,o.html())),O(o,e,r,i)});if(f&&(o=y(e,t[0].ownerDocument,!1,t,i),s=o.firstChild,1===o.childNodes.length&&(o=s),s||i)){for(a=ft.map(v(o,"script"),w),u=a.length;f>h;h++)c=o,h!==d&&(c=ft.clone(c,!0,!0),u&&ft.merge(a,v(c,"script"))),r.call(t[h],c,h);if(u)for(l=a[a.length-1].ownerDocument,ft.map(a,T),h=0;u>h;h++)c=a[h],qt.test(c.type||"")&&!At.access(c,"globalEval")&&ft.contains(l,c)&&(c.src?ft._evalUrl&&ft._evalUrl(c.src):n(c.textContent.replace(ne,""),l))}return t}function M(t,e,n){for(var r,i=e?ft.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||ft.cleanData(v(r)),r.parentNode&&(n&&ft.contains(r.ownerDocument,r)&&m(v(r,"script")),r.parentNode.removeChild(r));return t}function L(t,e,n){var r,i,o,s,a=t.style;return n=n||oe(t),n&&(s=n.getPropertyValue(e)||n[e],""!==s||ft.contains(t.ownerDocument,t)||(s=ft.style(t,e)),!lt.pixelMarginRight()&&ie.test(s)&&re.test(e)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o)),void 0!==s?s+"":s}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function I(t){if(t in le)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ce.length;n--;)if(t=ce[n]+e,t in le)return t}function A(t,e,n){var r=Ft.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function k(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=ft.css(t,n+Bt[o],!0,i)),r?("content"===n&&(s-=ft.css(t,"padding"+Bt[o],!0,i)),"margin"!==n&&(s-=ft.css(t,"border"+Bt[o]+"Width",!0,i))):(s+=ft.css(t,"padding"+Bt[o],!0,i),"padding"!==n&&(s+=ft.css(t,"border"+Bt[o]+"Width",!0,i)));return s}function R(t,e,n){var r,i=!0,o=oe(t),s="border-box"===ft.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(r=t.getBoundingClientRect()[e]),0>=r||null==r){if(r=L(t,e,o),(0>r||null==r)&&(r=t.style[e]),ie.test(r))return r;i=s&&(lt.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+k(t,e,n||(s?"border":"content"),i,o)+"px"}function N(t,e,n,r,i){return new N.prototype.init(t,e,n,r,i)}function P(){fe&&(t.requestAnimationFrame(P),ft.fx.tick())}function F(){return t.setTimeout(function(){he=void 0}),he=ft.now()}function B(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Bt[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function G(t,e,n){for(var r,i=(H.tweeners[e]||[]).concat(H.tweeners["*"]),o=0,s=i.length;s>o;o++)if(r=i[o].call(n,e,t))return r}function U(t,e,n){var r,i,o,s,a,u,c,l,h="width"in e||"height"in e,f=this,d={},p=t.style,v=t.nodeType&&Gt(t),m=At.get(t,"fxshow");n.queue||(s=ft._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,f.always(function(){f.always(function(){s.unqueued--,ft.queue(t,"fx").length||s.empty.fire()})}));for(r in e)if(i=e[r],de.test(i)){if(delete e[r],o=o||"toggle"===i,i===(v?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;v=!0}d[r]=m&&m[r]||ft.style(t,r)}if(u=!ft.isEmptyObject(e),u||!ft.isEmptyObject(d)){h&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=m&&m.display,null==c&&(c=At.get(t,"display")),l=ft.css(t,"display"),"none"===l&&(c?l=c:(g([t],!0),c=t.style.display||c,l=ft.css(t,"display"),g([t]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===ft.css(t,"float")&&(u||(f.done(function(){p.display=c}),null==c&&(l=p.display,c="none"===l?"":l)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",f.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(m?"hidden"in m&&(v=m.hidden):m=At.access(t,"fxshow",{display:c}),o&&(m.hidden=!v),v&&g([t],!0),f.done(function(){v||g([t]),At.remove(t,"fxshow");for(r in d)ft.style(t,r,d[r])})),u=G(v?m[r]:0,r,f),r in m||(m[r]=u.start,v&&(u.end=u.start,u.start=0))}}function Y(t,e){var n,r,i,o,s;for(n in t)if(r=ft.camelCase(n),i=e[r],o=t[n],ft.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),s=ft.cssHooks[r],s&&"expand"in s){o=s.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function H(t,e,n){var r,i,o=0,s=H.prefilters.length,a=ft.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var e=he||F(),n=Math.max(0,c.startTime+c.duration-e),r=n/c.duration||0,o=1-r,s=0,u=c.tweens.length;u>s;s++)c.tweens[s].run(o);return a.notifyWith(t,[c,o,n]),1>o&&u?n:(a.resolveWith(t,[c]),!1)},c=a.promise({elem:t,props:ft.extend({},e),opts:ft.extend(!0,{specialEasing:{},easing:ft.easing._default},n),originalProperties:e,originalOptions:n,startTime:he||F(),duration:n.duration,tweens:[],createTween:function(e,n){var r=ft.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(r),r},stop:function(e){var n=0,r=e?c.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)c.tweens[n].run(1);return e?(a.notifyWith(t,[c,1,0]),a.resolveWith(t,[c,e])):a.rejectWith(t,[c,e]),this}}),l=c.props;for(Y(l,c.opts.specialEasing);s>o;o++)if(r=H.prefilters[o].call(c,t,l,c.opts))return ft.isFunction(r.stop)&&(ft._queueHooks(c.elem,c.opts.queue).stop=ft.proxy(r.stop,r)),r;return ft.map(l,G,c),ft.isFunction(c.opts.start)&&c.opts.start.call(t,c),ft.fx.timer(ft.extend(u,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function W(t){return t.getAttribute&&t.getAttribute("class")||""}function q(t,e,n,r){var i;if(ft.isArray(e))ft.each(e,function(e,i){n||Ce.test(t)?r(t,i):q(t+"["+("object"==typeof i&&null!=i?e:"")+"]",i,n,r)});else if(n||"object"!==ft.type(e))r(t,e);else for(i in e)q(t+"["+i+"]",e[i],n,r)}function V(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(Ot)||[];if(ft.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function X(t,e,n,r){function i(a){var u;
return o[a]=!0,ft.each(t[a]||[],function(t,a){var c=a(e,n,r);return"string"!=typeof c||s||o[c]?s?!(u=c):void 0:(e.dataTypes.unshift(c),i(c),!1)}),u}var o={},s=t===Fe;return i(e.dataTypes[0])||!o["*"]&&i("*")}function $(t,e){var n,r,i=ft.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&ft.extend(!0,t,r),t}function z(t,e,n){for(var r,i,o,s,a=t.contents,u=t.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||t.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}return o?(o!==u[0]&&u.unshift(o),n[o]):void 0}function Q(t,e,n,r){var i,o,s,a,u,c={},l=t.dataTypes.slice();if(l[1])for(s in t.converters)c[s.toLowerCase()]=t.converters[s];for(o=l.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!u&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(s=c[u+" "+o]||c["* "+o],!s)for(i in c)if(a=i.split(" "),a[1]===o&&(s=c[u+" "+a[0]]||c["* "+a[0]])){s===!0?s=c[i]:c[i]!==!0&&(o=a[0],l.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:e}}function J(t){return ft.isWindow(t)?t:9===t.nodeType&&t.defaultView}var K=[],Z=t.document,tt=Object.getPrototypeOf,et=K.slice,nt=K.concat,rt=K.push,it=K.indexOf,ot={},st=ot.toString,at=ot.hasOwnProperty,ut=at.toString,ct=ut.call(Object),lt={},ht="3.1.0",ft=function(t,e){return new ft.fn.init(t,e)},dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pt=/^-ms-/,gt=/-([a-z])/g,vt=function(t,e){return e.toUpperCase()};ft.fn=ft.prototype={jquery:ht,constructor:ft,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ft.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ft.each(this,t)},map:function(t){return this.pushStack(ft.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:K.sort,splice:K.splice},ft.extend=ft.fn.extend=function(){var t,e,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||ft.isFunction(s)||(s={}),a===u&&(s=this,a--);u>a;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],r=t[e],s!==r&&(c&&r&&(ft.isPlainObject(r)||(i=ft.isArray(r)))?(i?(i=!1,o=n&&ft.isArray(n)?n:[]):o=n&&ft.isPlainObject(n)?n:{},s[e]=ft.extend(c,o,r)):void 0!==r&&(s[e]=r));return s},ft.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ft.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ft.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==st.call(t)||(e=tt(t))&&(n=at.call(e,"constructor")&&e.constructor,"function"!=typeof n||ut.call(n)!==ct))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[st.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(pt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(r(t))for(n=t.length;n>i&&e.call(t[i],i,t[i])!==!1;i++);else for(i in t)if(e.call(t[i],i,t[i])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(dt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(r(Object(t))?ft.merge(n,"string"==typeof t?[t]:t):rt.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:it.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,s=t.length,a=!n;s>o;o++)r=!e(t[o],o),r!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,s=0,a=[];if(r(t))for(i=t.length;i>s;s++)o=e(t[s],s,n),null!=o&&a.push(o);else for(s in t)o=e(t[s],s,n),null!=o&&a.push(o);return nt.apply([],a)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),ft.isFunction(t)?(r=et.call(arguments,2),i=function(){return t.apply(e||this,r.concat(et.call(arguments)))},i.guid=t.guid=t.guid||ft.guid++,i):void 0},now:Date.now,support:lt}),"function"==typeof Symbol&&(ft.fn[Symbol.iterator]=K[Symbol.iterator]),ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var mt=function(t){function e(t,e,n,r){var i,o,s,a,u,c,l,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&((e?e.ownerDocument||e:U)!==A&&I(e),e=e||A,R)){if(11!==p&&(u=mt.exec(t)))if(i=u[1]){if(9===p){if(!(s=e.getElementById(i)))return n;if(s.id===i)return n.push(s),n}else if(f&&(s=f.getElementById(i))&&B(e,s)&&s.id===i)return n.push(s),n}else{if(u[2])return K.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&S.getElementsByClassName&&e.getElementsByClassName)return K.apply(n,e.getElementsByClassName(i)),n}if(S.qsa&&!V[t+" "]&&(!N||!N.test(t))){if(1!==p)f=e,l=t;else if("object"!==e.nodeName.toLowerCase()){for((a=e.getAttribute("id"))?a=a.replace(xt,St):e.setAttribute("id",a=G),c=C(t),o=c.length;o--;)c[o]="#"+a+" "+d(c[o]);l=c.join(","),f=yt.test(t)&&h(e.parentNode)||e}if(l)try{return K.apply(n,f.querySelectorAll(l)),n}catch(g){}finally{a===G&&e.removeAttribute("id")}}}return O(t.replace(at,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>E.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[G]=!0,t}function i(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=n.length;r--;)E.attrHandle[n[r]]=e}function s(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function u(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function c(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!wt(e))!==t)}}function l(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function h(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function f(){}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function p(t,e,n){var r=e.dir,i=e.next,o=i||r,s=n&&"parentNode"===o,a=H++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||s)return t(e,n,i)}:function(e,n,u){var c,l,h,f=[Y,a];if(u){for(;e=e[r];)if((1===e.nodeType||s)&&t(e,n,u))return!0}else for(;e=e[r];)if(1===e.nodeType||s)if(h=e[G]||(e[G]={}),l=h[e.uniqueID]||(h[e.uniqueID]={}),i&&i===e.nodeName.toLowerCase())e=e[r]||e;else{if((c=l[o])&&c[0]===Y&&c[1]===a)return f[2]=c[2];if(l[o]=f,f[2]=t(e,n,u))return!0}}}function g(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function v(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,s=[],a=0,u=t.length,c=null!=e;u>a;a++)(o=t[a])&&(n&&!n(o,r,i)||(s.push(o),c&&e.push(a)));return s}function y(t,e,n,i,o,s){return i&&!i[G]&&(i=y(i)),o&&!o[G]&&(o=y(o,s)),r(function(r,s,a,u){var c,l,h,f=[],d=[],p=s.length,g=r||v(e||"*",a.nodeType?[a]:a,[]),y=!t||!r&&e?g:m(g,f,t,a,u),_=n?o||(r?t:p||i)?[]:s:y;if(n&&n(y,_,a,u),i)for(c=m(_,d),i(c,[],a,u),l=c.length;l--;)(h=c[l])&&(_[d[l]]=!(y[d[l]]=h));if(r){if(o||t){if(o){for(c=[],l=_.length;l--;)(h=_[l])&&c.push(y[l]=h);o(null,_=[],c,u)}for(l=_.length;l--;)(h=_[l])&&(c=o?tt(r,h):f[l])>-1&&(r[c]=!(s[c]=h))}}else _=m(_===s?_.splice(p,_.length):_),o?o(null,s,_,u):K.apply(s,_)})}function _(t){for(var e,n,r,i=t.length,o=E.relative[t[0].type],s=o||E.relative[" "],a=o?1:0,u=p(function(t){return t===e},s,!0),c=p(function(t){return tt(e,t)>-1},s,!0),l=[function(t,n,r){var i=!o&&(r||n!==M)||((e=n).nodeType?u(t,n,r):c(t,n,r));return e=null,i}];i>a;a++)if(n=E.relative[t[a].type])l=[p(g(l),n)];else{if(n=E.filter[t[a].type].apply(null,t[a].matches),n[G]){for(r=++a;i>r&&!E.relative[t[r].type];r++);return y(a>1&&g(l),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(at,"$1"),n,r>a&&_(t.slice(a,r)),i>r&&_(t=t.slice(r)),i>r&&d(t))}l.push(n)}return g(l)}function b(t,n){var i=n.length>0,o=t.length>0,s=function(r,s,a,u,c){var l,h,f,d=0,p="0",g=r&&[],v=[],y=M,_=r||o&&E.find.TAG("*",c),b=Y+=null==y?1:Math.random()||.1,x=_.length;for(c&&(M=s===A||s||c);p!==x&&null!=(l=_[p]);p++){if(o&&l){for(h=0,s||l.ownerDocument===A||(I(l),a=!R);f=t[h++];)if(f(l,s||A,a)){u.push(l);break}c&&(Y=b)}i&&((l=!f&&l)&&d--,r&&g.push(l))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,s,a);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=Q.call(u));v=m(v)}K.apply(u,v),c&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(u)}return c&&(Y=b,M=y),g};return i?r(s):s}var x,S,E,w,T,C,j,O,M,L,D,I,A,k,R,N,P,F,B,G="sizzle"+1*new Date,U=t.document,Y=0,H=0,W=n(),q=n(),V=n(),X=function(t,e){return t===e&&(D=!0),0},$={}.hasOwnProperty,z=[],Q=z.pop,J=z.push,K=z.push,Z=z.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",it="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+nt+"*\\]",ot=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+it+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),at=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),lt=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ht=new RegExp(ot),ft=new RegExp("^"+rt+"$"),dt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+it),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,_t=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),bt=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},xt=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,St=function(t,e){return e?"\x00"===t?"":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},Et=function(){I()},wt=p(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{K.apply(z=Z.call(U.childNodes),U.childNodes),z[U.childNodes.length].nodeType}catch(Tt){K={apply:z.length?function(t,e){J.apply(t,Z.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}S=e.support={},T=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},I=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:U;return r!==A&&9===r.nodeType&&r.documentElement?(A=r,k=A.documentElement,R=!T(A),U!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Et,!1):n.attachEvent&&n.attachEvent("onunload",Et)),S.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=i(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=vt.test(A.getElementsByClassName),S.getById=i(function(t){return k.appendChild(t).id=G,!A.getElementsByName||!A.getElementsByName(G).length}),S.getById?(E.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&R){var n=e.getElementById(t);return n?[n]:[]}},E.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){return t.getAttribute("id")===e}}):(delete E.find.ID,E.filter.ID=function(t){var e=t.replace(_t,bt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),E.find.TAG=S.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):S.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},E.find.CLASS=S.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&R?e.getElementsByClassName(t):void 0},P=[],N=[],(S.qsa=vt.test(A.querySelectorAll))&&(i(function(t){k.appendChild(t).innerHTML="<a id='"+G+"'></a><select id='"+G+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+G+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+G+"+*").length||N.push(".#.+[+~]")}),i(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&N.push(":enabled",":disabled"),k.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(S.matchesSelector=vt.test(F=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&i(function(t){S.disconnectedMatch=F.call(t,"*"),F.call(t,"[s!='']:x"),P.push("!=",ot)}),N=N.length&&new RegExp(N.join("|")),P=P.length&&new RegExp(P.join("|")),e=vt.test(k.compareDocumentPosition),B=e||vt.test(k.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},X=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!S.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===U&&B(U,t)?-1:e===A||e.ownerDocument===U&&B(U,e)?1:L?tt(L,t)-tt(L,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,r=0,i=t.parentNode,o=e.parentNode,a=[t],u=[e];if(!i||!o)return t===A?-1:e===A?1:i?-1:o?1:L?tt(L,t)-tt(L,e):0;if(i===o)return s(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?s(a[r],u[r]):a[r]===U?-1:u[r]===U?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&I(t),n=n.replace(lt,"='$1']"),S.matchesSelector&&R&&!V[n+" "]&&(!P||!P.test(n))&&(!N||!N.test(n)))try{var r=F.call(t,n);if(r||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&I(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&I(t);var n=E.attrHandle[e.toLowerCase()],r=n&&$.call(E.attrHandle,e.toLowerCase())?n(t,e,!R):void 0;return void 0!==r?r:S.attributes||!R?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.escape=function(t){return(t+"").replace(xt,St)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(D=!S.detectDuplicates,L=!S.sortStable&&t.slice(0),t.sort(X),D){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return L=null,t},w=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=w(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=w(e);return n},E=e.selectors={cacheLength:50,createPseudo:r,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(_t,bt),t[3]=(t[3]||t[4]||t[5]||"").replace(_t,bt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ht.test(n)&&(e=C(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(_t,bt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=W[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&W(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,u){var c,l,h,f,d,p,g=o!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!u&&!a,_=!1;if(v){if(o){for(;g;){for(f=e;f=f[g];)if(a?f.nodeName.toLowerCase()===m:1===f.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?v.firstChild:v.lastChild],s&&y){for(f=v,h=f[G]||(f[G]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],d=c[0]===Y&&c[1],_=d&&c[2],f=d&&v.childNodes[d];f=++d&&f&&f[g]||(_=d=0)||p.pop();)if(1===f.nodeType&&++_&&f===e){l[t]=[Y,d,_];break}}else if(y&&(f=e,h=f[G]||(f[G]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),c=l[t]||[],d=c[0]===Y&&c[1],_=d),_===!1)for(;(f=++d&&f&&f[g]||(_=d=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==m:1!==f.nodeType)||!++_||(y&&(h=f[G]||(f[G]={}),l=h[f.uniqueID]||(h[f.uniqueID]={}),l[t]=[Y,_]),f!==e)););return _-=i,_===r||_%r===0&&_/r>=0}}},PSEUDO:function(t,n){var i,o=E.pseudos[t]||E.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[G]?o(n):o.length>1?(i=[t,t,"",n],E.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),s=i.length;s--;)r=tt(t,i[s]),t[r]=!(e[r]=i[s])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=j(t.replace(at,"$1"));return i[G]?r(function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(_t,bt),function(e){return(e.textContent||e.innerText||w(e)).indexOf(t)>-1}}),lang:r(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(_t,bt).toLowerCase(),function(e){var n;do if(n=R?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===k},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!E.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:l(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},E.pseudos.nth=E.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[x]=a(x);for(x in{submit:!0,reset:!0})E.pseudos[x]=u(x);return f.prototype=E.filters=E.pseudos,E.setFilters=new f,C=e.tokenize=function(t,n){var r,i,o,s,a,u,c,l=q[t+" "];if(l)return n?0:l.slice(0);for(a=t,u=[],c=E.preFilter;a;){r&&!(i=ut.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),r=!1,(i=ct.exec(a))&&(r=i.shift(),o.push({value:r,type:i[0].replace(at," ")}),a=a.slice(r.length));for(s in E.filter)!(i=dt[s].exec(a))||c[s]&&!(i=c[s](i))||(r=i.shift(),o.push({value:r,type:s,matches:i}),a=a.slice(r.length));if(!r)break}return n?a.length:a?e.error(t):q(t,u).slice(0)},j=e.compile=function(t,e){var n,r=[],i=[],o=V[t+" "];if(!o){for(e||(e=C(t)),n=e.length;n--;)o=_(e[n]),o[G]?r.push(o):i.push(o);o=V(t,b(i,r)),o.selector=t}return o},O=e.select=function(t,e,n,r){var i,o,s,a,u,c="function"==typeof t&&t,l=!r&&C(t=c.selector||t);if(n=n||[],1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&S.getById&&9===e.nodeType&&R&&E.relative[o[1].type]){if(e=(E.find.ID(s.matches[0].replace(_t,bt),e)||[])[0],!e)return n;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=dt.needsContext.test(t)?0:o.length;i--&&(s=o[i],!E.relative[a=s.type]);)if((u=E.find[a])&&(r=u(s.matches[0].replace(_t,bt),yt.test(o[0].type)&&h(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return K.apply(n,r),n;break}}return(c||j(t,l))(r,e,!R,n,!e||yt.test(t)&&h(e.parentNode)||e),n},S.sortStable=G.split("").sort(X).join("")===G,S.detectDuplicates=!!D,I(),S.sortDetached=i(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);ft.find=mt,ft.expr=mt.selectors,ft.expr[":"]=ft.expr.pseudos,ft.uniqueSort=ft.unique=mt.uniqueSort,ft.text=mt.getText,ft.isXMLDoc=mt.isXML,ft.contains=mt.contains,ft.escapeSelector=mt.escape;var yt=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&ft(t).is(n))break;r.push(t)}return r},_t=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},bt=ft.expr.match.needsContext,xt=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,St=/^.[^:#\[\.,]*$/;ft.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?ft.find.matchesSelector(r,t)?[r]:[]:ft.find.matches(t,ft.grep(e,function(t){return 1===t.nodeType}))},ft.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(ft(t).filter(function(){for(e=0;r>e;e++)if(ft.contains(i[e],this))return!0}));for(n=this.pushStack([]),e=0;r>e;e++)ft.find(t,i[e],n);return r>1?ft.uniqueSort(n):n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&bt.test(t)?ft(t):t||[],!1).length}});var Et,wt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Tt=ft.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||Et,"string"==typeof t){if(r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:wt.exec(t),!r||!r[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(r[1]){if(e=e instanceof ft?e[0]:e,ft.merge(this,ft.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),xt.test(r[1])&&ft.isPlainObject(e))for(r in e)ft.isFunction(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return i=Z.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ft.isFunction(t)?void 0!==n.ready?n.ready(t):t(ft):ft.makeArray(t,this)};Tt.prototype=ft.fn,Et=ft(Z);var Ct=/^(?:parents|prev(?:Until|All))/,jt={children:!0,contents:!0,next:!0,prev:!0};ft.fn.extend({has:function(t){var e=ft(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(ft.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],s="string"!=typeof t&&ft(t);if(!bt.test(t))for(;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&ft.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ft.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?it.call(ft(t),this[0]):it.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ft.uniqueSort(ft.merge(this.get(),ft(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ft.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return _t((t.parentNode||{}).firstChild,t)},children:function(t){return _t(t.firstChild)},contents:function(t){return t.contentDocument||ft.merge([],t.childNodes)}},function(t,e){ft.fn[t]=function(n,r){var i=ft.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=ft.filter(r,i)),this.length>1&&(jt[t]||ft.uniqueSort(i),Ct.test(t)&&i.reverse()),this.pushStack(i)}});var Ot=/\S+/g;ft.Callbacks=function(t){t="string"==typeof t?s(t):ft.extend({},t);var e,n,r,i,o=[],a=[],u=-1,c=function(){for(i=t.once,r=e=!0;a.length;u=-1)for(n=a.shift();++u<o.length;)o[u].apply(n[0],n[1])===!1&&t.stopOnFalse&&(u=o.length,n=!1);t.memory||(n=!1),e=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!e&&(u=o.length-1,a.push(n)),function r(e){ft.each(e,function(e,n){ft.isFunction(n)?t.unique&&l.has(n)||o.push(n):n&&n.length&&"string"!==ft.type(n)&&r(n)})}(arguments),n&&!e&&c()),this},remove:function(){return ft.each(arguments,function(t,e){for(var n;(n=ft.inArray(e,o,n))>-1;)o.splice(n,1),u>=n&&u--}),this},has:function(t){return t?ft.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||e||(o=n=""),this},locked:function(){return!!i},fireWith:function(t,n){return i||(n=n||[],n=[t,n.slice?n.slice():n],a.push(n),e||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},ft.extend({Deferred:function(e){var n=[["notify","progress",ft.Callbacks("memory"),ft.Callbacks("memory"),2],["resolve","done",ft.Callbacks("once memory"),ft.Callbacks("once memory"),0,"resolved"],["reject","fail",ft.Callbacks("once memory"),ft.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return i.then(null,t)},pipe:function(){var t=arguments;return ft.Deferred(function(e){ft.each(n,function(n,r){var i=ft.isFunction(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&ft.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){function o(e,n,r,i){return function(){var c=this,l=arguments,h=function(){var t,h;if(!(s>e)){if(t=r.apply(c,l),t===n.promise())throw new TypeError("Thenable self-resolution");h=t&&("object"==typeof t||"function"==typeof t)&&t.then,ft.isFunction(h)?i?h.call(t,o(s,n,a,i),o(s,n,u,i)):(s++,h.call(t,o(s,n,a,i),o(s,n,u,i),o(s,n,a,n.notifyWith))):(r!==a&&(c=void 0,l=[t]),(i||n.resolveWith)(c,l))}},f=i?h:function(){try{h()}catch(t){ft.Deferred.exceptionHook&&ft.Deferred.exceptionHook(t,f.stackTrace),e+1>=s&&(r!==u&&(c=void 0,l=[t]),n.rejectWith(c,l))}};e?f():(ft.Deferred.getStackHook&&(f.stackTrace=ft.Deferred.getStackHook()),t.setTimeout(f))}}var s=0;return ft.Deferred(function(t){n[0][3].add(o(0,t,ft.isFunction(i)?i:a,t.notifyWith)),n[1][3].add(o(0,t,ft.isFunction(e)?e:a)),n[2][3].add(o(0,t,ft.isFunction(r)?r:u))}).promise()},promise:function(t){return null!=t?ft.extend(t,i):i}},o={};return ft.each(n,function(t,e){var s=e[2],a=e[5];i[e[1]]=s.add,a&&s.add(function(){r=a},n[3-t][2].disable,n[0][2].lock),s.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=s.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=et.call(arguments),o=ft.Deferred(),s=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?et.call(arguments):n,--e||o.resolveWith(r,i)}};if(1>=e&&(c(t,o.done(s(n)).resolve,o.reject),"pending"===o.state()||ft.isFunction(i[n]&&i[n].then)))return o.then();for(;n--;)c(i[n],s(n),o.reject);return o.promise()}});var Mt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ft.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Mt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ft.readyException=function(e){t.setTimeout(function(){throw e})};var Lt=ft.Deferred();ft.fn.ready=function(t){return Lt.then(t)["catch"](function(t){ft.readyException(t)}),this},ft.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ft.readyWait++:ft.ready(!0)},ready:function(t){(t===!0?--ft.readyWait:ft.isReady)||(ft.isReady=!0,t!==!0&&--ft.readyWait>0||Lt.resolveWith(Z,[ft]))}}),ft.ready.then=Lt.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?t.setTimeout(ft.ready):(Z.addEventListener("DOMContentLoaded",l),
t.addEventListener("load",l));var Dt=function(t,e,n,r,i,o,s){var a=0,u=t.length,c=null==n;if("object"===ft.type(n)){i=!0;for(a in n)Dt(t,e,a,n[a],!0,o,s)}else if(void 0!==r&&(i=!0,ft.isFunction(r)||(s=!0),c&&(s?(e.call(t,r),e=null):(c=e,e=function(t,e,n){return c.call(ft(t),n)})),e))for(;u>a;a++)e(t[a],n,s?r:r.call(t[a],a,e(t[a],n)));return i?t:c?e.call(t):u?e(t[0],n):o},It=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};h.uid=1,h.prototype={cache:function(t){var e=t[this.expando];return e||(e={},It(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[ft.camelCase(e)]=n;else for(r in e)i[ft.camelCase(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ft.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e){ft.isArray(e)?e=e.map(ft.camelCase):(e=ft.camelCase(e),e=e in r?[e]:e.match(Ot)||[]),n=e.length;for(;n--;)delete r[e[n]]}(void 0===e||ft.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ft.isEmptyObject(e)}};var At=new h,kt=new h,Rt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Nt=/[A-Z]/g;ft.extend({hasData:function(t){return kt.hasData(t)||At.hasData(t)},data:function(t,e,n){return kt.access(t,e,n)},removeData:function(t,e){kt.remove(t,e)},_data:function(t,e,n){return At.access(t,e,n)},_removeData:function(t,e){At.remove(t,e)}}),ft.fn.extend({data:function(t,e){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(i=kt.get(o),1===o.nodeType&&!At.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&(r=s[n].name,0===r.indexOf("data-")&&(r=ft.camelCase(r.slice(5)),f(o,r,i[r])));At.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){kt.set(this,t)}):Dt(this,function(e){var n;if(o&&void 0===e){if(n=kt.get(o,t),void 0!==n)return n;if(n=f(o,t),void 0!==n)return n}else this.each(function(){kt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){kt.remove(this,t)})}}),ft.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=At.get(t,e),n&&(!r||ft.isArray(n)?r=At.access(t,e,ft.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=ft.queue(t,e),r=n.length,i=n.shift(),o=ft._queueHooks(t,e),s=function(){ft.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,s,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return At.get(t,n)||At.access(t,n,{empty:ft.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",n])})})}}),ft.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ft.queue(this[0],t):void 0===e?this:this.each(function(){var n=ft.queue(this,t,e);ft._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ft.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ft.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=ft.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=At.get(o[s],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(e)}});var Pt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ft=new RegExp("^(?:([+-])=|)("+Pt+")([a-z%]*)$","i"),Bt=["Top","Right","Bottom","Left"],Gt=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ft.contains(t.ownerDocument,t)&&"none"===ft.css(t,"display")},Ut=function(t,e,n,r){var i,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=s[o];return i},Yt={};ft.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Gt(this)?ft(this).show():ft(this).hide()})}});var Ht=/^(?:checkbox|radio)$/i,Wt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,qt=/^$|\/(?:java|ecma)script/i,Vt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Vt.optgroup=Vt.option,Vt.tbody=Vt.tfoot=Vt.colgroup=Vt.caption=Vt.thead,Vt.th=Vt.td;var Xt=/<|&#?\w+;/;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),lt.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",lt.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var $t=Z.documentElement,zt=/^key/,Qt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Jt=/^([^.]*)(?:\.(.+)|)/;ft.event={global:{},add:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,d,p,g,v=At.get(t);if(v)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&ft.find.matchesSelector($t,i),n.guid||(n.guid=ft.guid++),(u=v.events)||(u=v.events={}),(s=v.handle)||(s=v.handle=function(e){return"undefined"!=typeof ft&&ft.event.triggered!==e.type?ft.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Ot)||[""],c=e.length;c--;)a=Jt.exec(e[c])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d&&(h=ft.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=ft.event.special[d]||{},l=ft.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&ft.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=u[d])||(f=u[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,p,s)!==!1||t.addEventListener&&t.addEventListener(d,s)),h.add&&(h.add.call(t,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),ft.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,s,a,u,c,l,h,f,d,p,g,v=At.hasData(t)&&At.get(t);if(v&&(u=v.events)){for(e=(e||"").match(Ot)||[""],c=e.length;c--;)if(a=Jt.exec(e[c])||[],d=g=a[1],p=(a[2]||"").split(".").sort(),d){for(h=ft.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)l=f[o],!i&&g!==l.origType||n&&n.guid!==l.guid||a&&!a.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(t,l));s&&!f.length&&(h.teardown&&h.teardown.call(t,p,v.handle)!==!1||ft.removeEvent(t,d,v.handle),delete u[d])}else for(d in u)ft.event.remove(t,d+e[c],n,r,!0);ft.isEmptyObject(u)&&At.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,s,a=ft.event.fix(t),u=new Array(arguments.length),c=(At.get(this,"events")||{})[a.type]||[],l=ft.event.special[a.type]||{};for(u[0]=a,e=1;e<arguments.length;e++)u[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,a)!==!1){for(s=ft.event.handlers.call(this,a,c),e=0;(i=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,r=((ft.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(a.result=r)===!1&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,r,i,o,s=[],a=e.delegateCount,u=t.target;if(a&&u.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==t.type)){for(r=[],n=0;a>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?ft(i,this).index(u)>-1:ft.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},addProp:function(t,e){Object.defineProperty(ft.Event.prototype,t,{enumerable:!0,configurable:!0,get:ft.isFunction(e)?function(){return this.originalEvent?e(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[t]:void 0},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ft.expando]?t:new ft.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==x()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===x()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&ft.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return ft.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ft.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ft.Event=function(t,e){return this instanceof ft.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?_:b,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ft.extend(this,e),this.timeStamp=t&&t.timeStamp||ft.now(),void(this[ft.expando]=!0)):new ft.Event(t,e)},ft.Event.prototype={constructor:ft.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=_,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=_,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=_,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ft.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&zt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Qt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ft.event.addProp),ft.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ft.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return i&&(i===r||ft.contains(r,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ft.fn.extend({on:function(t,e,n,r){return S(this,t,e,n,r)},one:function(t,e,n,r){return S(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,ft(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=b),this.each(function(){ft.event.remove(this,t,n,e)})}});var Kt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Zt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ft.extend({htmlPrefilter:function(t){return t.replace(Kt,"<$1></$2>")},clone:function(t,e,n){var r,i,o,s,a=t.cloneNode(!0),u=ft.contains(t.ownerDocument,t);if(!(lt.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ft.isXMLDoc(t)))for(s=v(a),o=v(t),r=0,i=o.length;i>r;r++)j(o[r],s[r]);if(e)if(n)for(o=o||v(t),s=s||v(a),r=0,i=o.length;i>r;r++)C(o[r],s[r]);else C(t,a);return s=v(a,"script"),s.length>0&&m(s,!u&&v(t,"script")),a},cleanData:function(t){for(var e,n,r,i=ft.event.special,o=0;void 0!==(n=t[o]);o++)if(It(n)){if(e=n[At.expando]){if(e.events)for(r in e.events)i[r]?ft.event.remove(n,r):ft.removeEvent(n,r,e.handle);n[At.expando]=void 0}n[kt.expando]&&(n[kt.expando]=void 0)}}}),ft.fn.extend({detach:function(t){return M(this,t,!0)},remove:function(t){return M(this,t)},text:function(t){return Dt(this,function(t){return void 0===t?ft.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.appendChild(t)}})},prepend:function(){return O(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=E(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return O(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ft.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ft.clone(this,t,e)})},html:function(t){return Dt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Zt.test(t)&&!Vt[(Wt.exec(t)||["",""])[1].toLowerCase()]){t=ft.htmlPrefilter(t);try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(ft.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return O(this,arguments,function(e){var n=this.parentNode;ft.inArray(this,t)<0&&(ft.cleanData(v(this)),n&&n.replaceChild(e,this))},t)}}),ft.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ft.fn[t]=function(t){for(var n,r=[],i=ft(t),o=i.length-1,s=0;o>=s;s++)n=s===o?this:this.clone(!0),ft(i[s])[e](n),rt.apply(r,n.get());return this.pushStack(r)}});var re=/^margin/,ie=new RegExp("^("+Pt+")(?!px)[a-z%]+$","i"),oe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",$t.appendChild(s);var e=t.getComputedStyle(a);n="1%"!==e.top,o="2px"===e.marginLeft,r="4px"===e.width,a.style.marginRight="50%",i="4px"===e.marginRight,$t.removeChild(s),a=null}}var n,r,i,o,s=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",lt.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),ft.extend(lt,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),r},pixelMarginRight:function(){return e(),i},reliableMarginLeft:function(){return e(),o}}))}();var se=/^(none|table(?!-c[ea]).+)/,ae={position:"absolute",visibility:"hidden",display:"block"},ue={letterSpacing:"0",fontWeight:"400"},ce=["Webkit","Moz","ms"],le=Z.createElement("div").style;ft.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=L(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,s,a=ft.camelCase(e),u=t.style;return e=ft.cssProps[a]||(ft.cssProps[a]=I(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],void 0===n?s&&"get"in s&&void 0!==(i=s.get(t,!1,r))?i:u[e]:(o=typeof n,"string"===o&&(i=Ft.exec(n))&&i[1]&&(n=d(t,e,i),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(ft.cssNumber[a]?"":"px")),lt.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,r))||(u[e]=n))))}},css:function(t,e,n,r){var i,o,s,a=ft.camelCase(e);return e=ft.cssProps[a]||(ft.cssProps[a]=I(a)||a),s=ft.cssHooks[e]||ft.cssHooks[a],s&&"get"in s&&(i=s.get(t,!0,n)),void 0===i&&(i=L(t,e,r)),"normal"===i&&e in ue&&(i=ue[e]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),ft.each(["height","width"],function(t,e){ft.cssHooks[e]={get:function(t,n,r){return n?!se.test(ft.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?R(t,e,r):Ut(t,ae,function(){return R(t,e,r)}):void 0},set:function(t,n,r){var i,o=r&&oe(t),s=r&&k(t,e,r,"border-box"===ft.css(t,"boxSizing",!1,o),o);return s&&(i=Ft.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=ft.css(t,e)),A(t,n,s)}}}),ft.cssHooks.marginLeft=D(lt.reliableMarginLeft,function(t,e){return e?(parseFloat(L(t,"marginLeft"))||t.getBoundingClientRect().left-Ut(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),ft.each({margin:"",padding:"",border:"Width"},function(t,e){ft.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Bt[r]+e]=o[r]||o[r-2]||o[0];return i}},re.test(t)||(ft.cssHooks[t+e].set=A)}),ft.fn.extend({css:function(t,e){return Dt(this,function(t,e,n){var r,i,o={},s=0;if(ft.isArray(e)){for(r=oe(t),i=e.length;i>s;s++)o[e[s]]=ft.css(t,e[s],!1,r);return o}return void 0!==n?ft.style(t,e,n):ft.css(t,e)},t,e,arguments.length>1)}}),ft.Tween=N,N.prototype={constructor:N,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||ft.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(ft.cssNumber[n]?"":"px")},cur:function(){var t=N.propHooks[this.prop];return t&&t.get?t.get(this):N.propHooks._default.get(this)},run:function(t){var e,n=N.propHooks[this.prop];return this.options.duration?this.pos=e=ft.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):N.propHooks._default.set(this),this}},N.prototype.init.prototype=N.prototype,N.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ft.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ft.fx.step[t.prop]?ft.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ft.cssProps[t.prop]]&&!ft.cssHooks[t.prop]?t.elem[t.prop]=t.now:ft.style(t.elem,t.prop,t.now+t.unit)}}},N.propHooks.scrollTop=N.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ft.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ft.fx=N.prototype.init,ft.fx.step={};var he,fe,de=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;ft.Animation=ft.extend(H,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return d(n.elem,t,Ft.exec(e),n),n}]},tweener:function(t,e){ft.isFunction(t)?(e=t,t=["*"]):t=t.match(Ot);for(var n,r=0,i=t.length;i>r;r++)n=t[r],H.tweeners[n]=H.tweeners[n]||[],H.tweeners[n].unshift(e)},prefilters:[U],prefilter:function(t,e){e?H.prefilters.unshift(t):H.prefilters.push(t)}}),ft.speed=function(t,e,n){var r=t&&"object"==typeof t?ft.extend({},t):{complete:n||!n&&e||ft.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ft.isFunction(e)&&e};return ft.fx.off||Z.hidden?r.duration=0:r.duration="number"==typeof r.duration?r.duration:r.duration in ft.fx.speeds?ft.fx.speeds[r.duration]:ft.fx.speeds._default,null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){ft.isFunction(r.old)&&r.old.call(this),r.queue&&ft.dequeue(this,r.queue)},r},ft.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Gt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=ft.isEmptyObject(t),o=ft.speed(e,n,r),s=function(){var e=H(this,ft.extend({},t),o);(i||At.get(this,"finish"))&&e.stop(!0)};return s.finish=s,i||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=ft.timers,s=At.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&pe.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));!e&&n||ft.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=At.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=ft.timers,s=r?r.length:0;for(n.finish=!0,ft.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),ft.each(["toggle","show","hide"],function(t,e){var n=ft.fn[e];ft.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(B(e,!0),t,r,i)}}),ft.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ft.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),ft.timers=[],ft.fx.tick=function(){var t,e=0,n=ft.timers;for(he=ft.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ft.fx.stop(),he=void 0},ft.fx.timer=function(t){ft.timers.push(t),t()?ft.fx.start():ft.timers.pop()},ft.fx.interval=13,ft.fx.start=function(){fe||(fe=t.requestAnimationFrame?t.requestAnimationFrame(P):t.setInterval(ft.fx.tick,ft.fx.interval))},ft.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(fe):t.clearInterval(fe),fe=null},ft.fx.speeds={slow:600,fast:200,_default:400},ft.fn.delay=function(e,n){return e=ft.fx?ft.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",lt.checkOn=""!==t.value,lt.optSelected=n.selected,t=Z.createElement("input"),t.value="t",t.type="radio",lt.radioValue="t"===t.value}();var ge,ve=ft.expr.attrHandle;ft.fn.extend({attr:function(t,e){return Dt(this,ft.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ft.removeAttr(this,t)})}}),ft.extend({attr:function(t,e,n){var r,i,o=t.nodeType;return 3!==o&&8!==o&&2!==o?"undefined"==typeof t.getAttribute?ft.prop(t,e,n):(1===o&&ft.isXMLDoc(t)||(i=ft.attrHooks[e.toLowerCase()]||(ft.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void ft.removeAttr(t,e):i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=ft.find.attr(t,e),null==r?void 0:r)):void 0},attrHooks:{type:{set:function(t,e){if(!lt.radioValue&&"radio"===e&&ft.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(Ot);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?ft.removeAttr(t,n):t.setAttribute(n,n),n}},ft.each(ft.expr.match.bool.source.match(/\w+/g),function(t,e){var n=ve[e]||ft.find.attr;ve[e]=function(t,e,r){var i,o,s=e.toLowerCase();return r||(o=ve[s],ve[s]=i,i=null!=n(t,e,r)?s:null,ve[s]=o),i}});var me=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;ft.fn.extend({prop:function(t,e){return Dt(this,ft.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ft.propFix[t]||t]})}}),ft.extend({prop:function(t,e,n){var r,i,o=t.nodeType;return 3!==o&&8!==o&&2!==o?(1===o&&ft.isXMLDoc(t)||(e=ft.propFix[e]||e,i=ft.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]):void 0},propHooks:{tabIndex:{get:function(t){var e=ft.find.attr(t,"tabindex");return e?parseInt(e,10):me.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),lt.optSelected||(ft.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ft.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ft.propFix[this.toLowerCase()]=this});var _e=/[\t\r\n\f]/g;ft.fn.extend({addClass:function(t){var e,n,r,i,o,s,a,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Ot)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(_e," ")){for(s=0;o=e[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");a=ft.trim(r),i!==a&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,r,i,o,s,a,u=0;if(ft.isFunction(t))return this.each(function(e){ft(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Ot)||[];n=this[u++];)if(i=W(n),r=1===n.nodeType&&(" "+i+" ").replace(_e," ")){for(s=0;o=e[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");a=ft.trim(r),i!==a&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ft.isFunction(t)?this.each(function(n){ft(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,r,i,o;if("string"===n)for(r=0,i=ft(this),o=t.match(Ot)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else void 0!==t&&"boolean"!==n||(e=W(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(_e," ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g,xe=/[\x20\t\r\n\f]+/g;ft.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=ft.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,ft(this).val()):t,null==i?i="":"number"==typeof i?i+="":ft.isArray(i)&&(i=ft.map(i,function(t){return null==t?"":t+""})),e=ft.valHooks[this.type]||ft.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=ft.valHooks[i.type]||ft.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(be,""):null==n?"":n)):void 0}}),ft.extend({valHooks:{option:{get:function(t){var e=ft.find.attr(t,"value");return null!=e?e:ft.trim(ft.text(t)).replace(xe," ")}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type,s=o?null:[],a=o?i+1:r.length,u=0>i?a:o?i:0;a>u;u++)if(n=r[u],(n.selected||u===i)&&!n.disabled&&(!n.parentNode.disabled||!ft.nodeName(n.parentNode,"optgroup"))){if(e=ft(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,r,i=t.options,o=ft.makeArray(e),s=i.length;s--;)r=i[s],(r.selected=ft.inArray(ft.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ft.each(["radio","checkbox"],function(){ft.valHooks[this]={set:function(t,e){return ft.isArray(e)?t.checked=ft.inArray(ft(t).val(),e)>-1:void 0}},lt.checkOn||(ft.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Se=/^(?:focusinfocus|focusoutblur)$/;ft.extend(ft.event,{trigger:function(e,n,r,i){var o,s,a,u,c,l,h,f=[r||Z],d=at.call(e,"type")?e.type:e,p=at.call(e,"namespace")?e.namespace.split("."):[];if(s=a=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!Se.test(d+ft.event.triggered)&&(d.indexOf(".")>-1&&(p=d.split("."),d=p.shift(),p.sort()),c=d.indexOf(":")<0&&"on"+d,e=e[ft.expando]?e:new ft.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:ft.makeArray(n,[e]),h=ft.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!ft.isWindow(r)){for(u=h.delegateType||d,Se.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(r.ownerDocument||Z)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?u:h.bindType||d,l=(At.get(s,"events")||{})[e.type]&&At.get(s,"handle"),l&&l.apply(s,n),l=c&&s[c],l&&l.apply&&It(s)&&(e.result=l.apply(s,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!It(r)||c&&ft.isFunction(r[d])&&!ft.isWindow(r)&&(a=r[c],a&&(r[c]=null),ft.event.triggered=d,r[d](),ft.event.triggered=void 0,a&&(r[c]=a)),e.result}},simulate:function(t,e,n){var r=ft.extend(new ft.Event,n,{type:t,isSimulated:!0});ft.event.trigger(r,null,e)}}),ft.fn.extend({trigger:function(t,e){return this.each(function(){ft.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?ft.event.trigger(t,e,n,!0):void 0}}),ft.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ft.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ft.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),lt.focusin="onfocusin"in t,lt.focusin||ft.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ft.event.simulate(e,t.target,ft.event.fix(t))};ft.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=At.access(r,e);i||r.addEventListener(t,n,!0),At.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=At.access(r,e)-1;i?At.access(r,e,i):(r.removeEventListener(t,n,!0),At.remove(r,e))}}});var Ee=t.location,we=ft.now(),Te=/\?/;ft.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ft.error("Invalid XML: "+e),n};var Ce=/\[\]$/,je=/\r?\n/g,Oe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;ft.param=function(t,e){var n,r=[],i=function(t,e){var n=ft.isFunction(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(ft.isArray(t)||t.jquery&&!ft.isPlainObject(t))ft.each(t,function(){i(this.name,this.value)});else for(n in t)q(n,t[n],e,i);return r.join("&")},ft.fn.extend({serialize:function(){return ft.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ft.prop(this,"elements");return t?ft.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ft(this).is(":disabled")&&Me.test(this.nodeName)&&!Oe.test(t)&&(this.checked||!Ht.test(t))}).map(function(t,e){var n=ft(this).val();return null==n?null:ft.isArray(n)?ft.map(n,function(t){return{name:e.name,value:t.replace(je,"\r\n")}}):{name:e.name,value:n.replace(je,"\r\n")}}).get()}});var Le=/%20/g,De=/#.*$/,Ie=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,ke=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Re=/^(?:GET|HEAD)$/,Ne=/^\/\//,Pe={},Fe={},Be="*/".concat("*"),Ge=Z.createElement("a");Ge.href=Ee.href,ft.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ee.href,type:"GET",isLocal:ke.test(Ee.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ft.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?$($(t,ft.ajaxSettings),e):$(ft.ajaxSettings,t)},ajaxPrefilter:V(Pe),ajaxTransport:V(Fe),ajax:function(e,n){function r(e,n,r,a){var c,f,d,b,x,S=n;l||(l=!0,u&&t.clearTimeout(u),i=void 0,s=a||"",E.readyState=e>0?4:0,c=e>=200&&300>e||304===e,r&&(b=z(p,E,r)),b=Q(p,b,E,c),c?(p.ifModified&&(x=E.getResponseHeader("Last-Modified"),x&&(ft.lastModified[o]=x),x=E.getResponseHeader("etag"),x&&(ft.etag[o]=x)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=b.state,f=b.data,d=b.error,c=!d)):(d=S,!e&&S||(S="error",0>e&&(e=0))),E.status=e,E.statusText=(n||S)+"",c?m.resolveWith(g,[f,S,E]):m.rejectWith(g,[E,S,d]),E.statusCode(_),_=void 0,h&&v.trigger(c?"ajaxSuccess":"ajaxError",[E,p,c?f:d]),y.fireWith(g,[E,S]),h&&(v.trigger("ajaxComplete",[E,p]),--ft.active||ft.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var i,o,s,a,u,c,l,h,f,d,p=ft.ajaxSetup({},n),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?ft(g):ft.event,m=ft.Deferred(),y=ft.Callbacks("once memory"),_=p.statusCode||{},b={},x={},S="canceled",E={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=Ae.exec(s);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return l?s:null},setRequestHeader:function(t,e){return null==l&&(t=x[t.toLowerCase()]=x[t.toLowerCase()]||t,b[t]=e),this},overrideMimeType:function(t){return null==l&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(l)E.always(t[E.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||S;return i&&i.abort(e),r(0,e),this}};if(m.promise(E),p.url=((e||p.url||Ee.href)+"").replace(Ne,Ee.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ot)||[""],null==p.crossDomain){c=Z.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Ge.protocol+"//"+Ge.host!=c.protocol+"//"+c.host}catch(w){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=ft.param(p.data,p.traditional)),X(Pe,p,n,E),l)return E;h=ft.event&&p.global,h&&0===ft.active++&&ft.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Re.test(p.type),o=p.url.replace(De,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Le,"+")):(d=p.url.slice(o.length),p.data&&(o+=(Te.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(o=o.replace(Ie,""),d=(Te.test(o)?"&":"?")+"_="+we++ +d),p.url=o+d),p.ifModified&&(ft.lastModified[o]&&E.setRequestHeader("If-Modified-Since",ft.lastModified[o]),ft.etag[o]&&E.setRequestHeader("If-None-Match",ft.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Be+"; q=0.01":""):p.accepts["*"]);for(f in p.headers)E.setRequestHeader(f,p.headers[f]);if(p.beforeSend&&(p.beforeSend.call(g,E,p)===!1||l))return E.abort();if(S="abort",y.add(p.complete),E.done(p.success),E.fail(p.error),i=X(Fe,p,n,E)){if(E.readyState=1,h&&v.trigger("ajaxSend",[E,p]),l)return E;p.async&&p.timeout>0&&(u=t.setTimeout(function(){E.abort("timeout")},p.timeout));try{l=!1,i.send(b,r)}catch(w){if(l)throw w;r(-1,w)}}else r(-1,"No Transport");return E},getJSON:function(t,e,n){return ft.get(t,e,n,"json")},getScript:function(t,e){return ft.get(t,void 0,e,"script")}}),ft.each(["get","post"],function(t,e){ft[e]=function(t,n,r,i){return ft.isFunction(n)&&(i=i||r,r=n,n=void 0),ft.ajax(ft.extend({url:t,type:e,dataType:i,data:n,success:r},ft.isPlainObject(t)&&t))}}),ft._evalUrl=function(t){return ft.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ft.fn.extend({wrapAll:function(t){var e;return this[0]&&(ft.isFunction(t)&&(t=t.call(this[0])),e=ft(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ft.isFunction(t)?this.each(function(e){ft(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ft(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ft.isFunction(t);return this.each(function(n){ft(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ft(this).replaceWith(this.childNodes)}),this}}),ft.expr.pseudos.hidden=function(t){return!ft.expr.pseudos.visible(t)},ft.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ft.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var Ue={0:200,1223:204},Ye=ft.ajaxSettings.xhr();lt.cors=!!Ye&&"withCredentials"in Ye,lt.ajax=Ye=!!Ye,ft.ajaxTransport(function(e){var n,r;return lt.cors||Ye&&!e.crossDomain?{send:function(i,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(s in i)a.setRequestHeader(s,i[s]);n=function(t){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Ue[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(e.hasContent&&e.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}:void 0}),ft.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ft.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ft.globalEval(t),t}}}),ft.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ft.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=ft("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}});var He=[],We=/(=)\?(?=&|$)|\?\?/;ft.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=He.pop()||ft.expando+"_"+we++;return this[t]=!0,t}}),ft.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,s,a=e.jsonp!==!1&&(We.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=ft.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(We,"$1"+i):e.jsonp!==!1&&(e.url+=(Te.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return s||ft.error(i+" was not called"),s[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){s=arguments},r.always(function(){void 0===o?ft(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,He.push(i)),s&&ft.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),lt.createHTMLDocument=function(){var t=Z.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ft.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var r,i,o;return e||(lt.createHTMLDocument?(e=Z.implementation.createHTMLDocument(""),r=e.createElement("base"),r.href=Z.location.href,e.head.appendChild(r)):e=Z),i=xt.exec(t),o=!n&&[],i?[e.createElement(i[1])]:(i=y([t],e,o),o&&o.length&&ft(o).remove(),ft.merge([],i.childNodes))},ft.fn.load=function(t,e,n){var r,i,o,s=this,a=t.indexOf(" ");return a>-1&&(r=ft.trim(t.slice(a)),t=t.slice(0,a)),ft.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),s.length>0&&ft.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,s.html(r?ft("<div>").append(ft.parseHTML(t)).find(r):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ft.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ft.fn[e]=function(t){return this.on(e,t)}}),ft.expr.pseudos.animated=function(t){return ft.grep(ft.timers,function(e){return t===e.elem}).length},ft.offset={setOffset:function(t,e,n){var r,i,o,s,a,u,c,l=ft.css(t,"position"),h=ft(t),f={};"static"===l&&(t.style.position="relative"),a=h.offset(),o=ft.css(t,"top"),u=ft.css(t,"left"),c=("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1,c?(r=h.position(),s=r.top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),ft.isFunction(e)&&(e=e.call(t,n,ft.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+i),"using"in e?e.using.call(t,f):h.css(f)}},ft.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ft.offset.setOffset(this,t,e)});var e,n,r,i,o=this[0];return o?o.getClientRects().length?(r=o.getBoundingClientRect(),r.width||r.height?(i=o.ownerDocument,n=J(i),e=i.documentElement,{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===ft.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ft.nodeName(t[0],"html")||(r=t.offset()),r={top:r.top+ft.css(t[0],"borderTopWidth",!0),left:r.left+ft.css(t[0],"borderLeftWidth",!0)}),{top:e.top-r.top-ft.css(n,"marginTop",!0),left:e.left-r.left-ft.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ft.css(t,"position");)t=t.offsetParent;return t||$t})}}),ft.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ft.fn[t]=function(r){return Dt(this,function(t,r,i){var o=J(t);return void 0===i?o?o[e]:t[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i)},t,r,arguments.length)}}),ft.each(["top","left"],function(t,e){ft.cssHooks[e]=D(lt.pixelPosition,function(t,n){return n?(n=L(t,e),ie.test(n)?ft(t).position()[e]+"px":n):void 0})}),ft.each({Height:"height",Width:"width"},function(t,e){ft.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){ft.fn[r]=function(i,o){var s=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||o===!0?"margin":"border");return Dt(this,function(e,n,i){var o;return ft.isWindow(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?ft.css(e,n,a):ft.style(e,n,i,a)},e,s?i:void 0,s)}})}),ft.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ft.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ft});var qe=t.jQuery,Ve=t.$;return ft.noConflict=function(e){return t.$===ft&&(t.$=Ve),e&&t.jQuery===ft&&(t.jQuery=qe),ft},e||(t.jQuery=t.$=ft),ft}),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e,n,r){for(var i=-1,o=t?t.length:0;++i<o;){var s=t[i];e(r,s,n(s),t)}return r}function i(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););return t}function o(t,e){for(var n=t?t.length:0;n--&&!1!==e(t[n],n,t););return t}function s(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(!e(t[n],n,t))return!1;return!0}function a(t,e){for(var n=-1,r=t?t.length:0,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}function u(t,e){return!(!t||!t.length)&&-1<m(t,e,0)}function c(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function l(t,e){for(var n=-1,r=t?t.length:0,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function h(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function f(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function d(t,e,n,r){var i=t?t.length:0;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function p(t,e){for(var n=-1,r=t?t.length:0;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(t,e,n){var r;return n(t,function(t,n,i){return e(t,n,i)?(r=n,!1):void 0}),r}function v(t,e,n,r){var i=t.length;for(n+=r?1:-1;r?n--:++n<i;)if(e(t[n],n,t))return n;return-1}function m(t,e,n){if(e!==e)return v(t,_,n);--n;for(var r=t.length;++n<r;)if(t[n]===e)return n;return-1}function y(t,e,n,r){--n;for(var i=t.length;++n<i;)if(r(t[n],e))return n;return-1}function _(t){return t!==t}function b(t,e){var n=t?t.length:0;return n?T(t,e)/n:q}function x(t){return function(e){return null==e?H:e[t]}}function S(t){return function(e){return null==t?H:t[e]}}function E(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function w(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].c;return t}function T(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==H&&(n=n===H?o:n+o)}return n}function C(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function j(t,e){return l(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function M(t,e){return l(e,function(e){return t[e]})}function L(t,e){return t.has(e)}function D(t,e){for(var n=-1,r=t.length;++n<r&&-1<m(e,t[n],0););return n}function I(t,e){for(var n=t.length;n--&&-1<m(e,t[n],0););return n}function A(t){return"\\"+Ut[t]}function k(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function R(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function N(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function P(t){var e=Object;return function(n){return t(e(n))}}function F(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n];s!==e&&"__lodash_placeholder__"!==s||(t[n]="__lodash_placeholder__",o[i++]=n)}return o}function B(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function U(t){if(!t||!Rt.test(t))return t.length;for(var e=At.lastIndex=0;At.test(t);)e++;return e}function Y(S){function Ot(t){return Zi.call(t)}function Mt(t,e){return S.setTimeout.call(Vt,t,e)}function Lt(t){if(ci(t)&&!Ws(t)&&!(t instanceof Wt)){if(t instanceof Ut)return t;if(Qi.call(t,"__wrapped__"))return Or(t)}return new Ut(t)}function Gt(){}function Ut(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=H}function Wt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function qt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Xt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $t(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qt(t){var e=-1,n=t?t.length:0;for(this.__data__=new $t;++e<n;)this.add(t[e])}function ae(t){this.__data__=new Xt(t)}function ue(t,e,n,r){return t===H||ti(t,qi[n])&&!Qi.call(r,n)?e:t}function ce(t,e,n){(n===H||ti(t[e],n))&&("number"!=typeof e||n!==H||e in t)||(t[e]=n)}function le(t,e,n){var r=t[e];Qi.call(t,e)&&ti(r,n)&&(n!==H||e in t)||(t[e]=n)}function he(t,e){for(var n=t.length;n--;)if(ti(t[n][0],e))return n;return-1}function fe(t,e,n,r){return Vo(t,function(t,i,o){e(r,t,n(t),o)}),r}function de(t,e){return t&&In(e,Ei(e),t)}function pe(t,e){for(var n=-1,r=null==t,i=e.length,o=Fi(i);++n<i;)o[n]=r?H:xi(t,e[n]);return o}function ge(t,e,n){return t===t&&(n!==H&&(t=n>=t?t:n),e!==H&&(t=t>=e?t:e)),t}function ve(t,e,n,r,o,s,a){var u;if(r&&(u=s?r(t,o,s,a):r(t)),u!==H)return u;if(!ui(t))return t;if(o=Ws(t)){if(u=fr(t),!e)return Dn(t,u)}else{var c=Ot(t),l="[object Function]"==c||"[object GeneratorFunction]"==c;if(Vs(t))return Cn(t,e);if("[object Object]"==c||"[object Arguments]"==c||l&&!s){if(k(t))return s?t:{};if(u=dr(l?{}:t),!e)return An(t,de(u,t))}else{if(!Bt[c])return s?t:{};u=pr(t,c,ve,e)}}if(a||(a=new ae),s=a.get(t))return s;if(a.set(t,u),!o)var h=n?Le(t,Ei,ns):Ei(t);return i(h||t,function(i,o){h&&(o=i,i=t[o]),le(u,o,ve(i,e,n,r,o,t,a))}),u}function me(t){var e=Ei(t);return function(n){return ye(n,t,e)}}function ye(t,e,n){var r=n.length;if(null==t)return!r;for(;r--;){var i=n[r],o=e[i],s=t[i];if(s===H&&!(i in Object(t))||!o(s))return!1}return!0}function _e(t){return ui(t)?uo(t):{}}function be(t,e,n){if("function"!=typeof t)throw new Hi("Expected a function");return Mt(function(){t.apply(H,n)},e)}function xe(t,e,n,r){var i=-1,o=u,s=!0,a=t.length,h=[],f=e.length;if(!a)return h;n&&(e=l(e,O(n))),r?(o=c,s=!1):200<=e.length&&(o=L,s=!1,e=new Qt(e));t:for(;++i<a;){var d=t[i],p=n?n(d):d,d=r||0!==d?d:0;if(s&&p===p){for(var g=f;g--;)if(e[g]===p)continue t;h.push(d)}else o(e,p,r)||h.push(d)}return h}function Se(t,e){var n=!0;return Vo(t,function(t,r,i){return n=!!e(t,r,i)}),n}function Ee(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],s=e(o);if(null!=s&&(a===H?s===s&&!di(s):n(s,a)))var a=s,u=o}return u}function we(t,e){var n=[];return Vo(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function Te(t,e,n,r,i){var o=-1,s=t.length;for(n||(n=vr),i||(i=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?Te(a,e-1,n,r,i):h(i,a):r||(i[i.length]=a)}return i}function Ce(t,e){return t&&$o(t,e,Ei)}function je(t,e){return t&&zo(t,e,Ei)}function Oe(t,e){return a(e,function(e){return oi(t[e])})}function Me(t,e){e=_r(e,t)?[e]:wn(e);for(var n=0,r=e.length;null!=t&&r>n;)t=t[Tr(e[n++])];return n&&n==r?t:H}function Le(t,e,n){return e=e(t),Ws(t)?e:h(e,n(t))}function De(t,e){return t>e}function Ie(t,e){return null!=t&&(Qi.call(t,e)||"object"==typeof t&&e in t&&null===es(t))}function Ae(t,e){return null!=t&&e in Object(t)}function ke(t,e,n){for(var r=n?c:u,i=t[0].length,o=t.length,s=o,a=Fi(o),h=1/0,f=[];s--;){var d=t[s];s&&e&&(d=l(d,O(e))),h=So(d.length,h),a[s]=!n&&(e||i>=120&&120<=d.length)?new Qt(s&&d):H}var d=t[0],p=-1,g=a[0];t:for(;++p<i&&f.length<h;){var v=d[p],m=e?e(v):v,v=n||0!==v?v:0;if(g?!L(g,m):!r(f,m,n)){for(s=o;--s;){var y=a[s];if(y?!L(y,m):!r(t[s],m,n))continue t}g&&g.push(m),f.push(v)}}return f}function Re(t,e,n){var r={};return Ce(t,function(t,i,o){e(r,n(t),i,o)}),r}function Ne(t,e,r){return _r(e,t)||(e=wn(e),t=wr(t,e),e=kr(e)),e=null==t?t:t[Tr(e)],null==e?H:n(e,t,r)}function Pe(t){return ci(t)&&"[object ArrayBuffer]"==Zi.call(t)}function Fe(t){return ci(t)&&"[object Date]"==Zi.call(t)}function Be(t,e,n,r,i){if(t===e)e=!0;else if(null==t||null==e||!ui(t)&&!ci(e))e=t!==t&&e!==e;else t:{var o=Ws(t),s=Ws(e),a="[object Array]",u="[object Array]";o||(a=Ot(t),a="[object Arguments]"==a?"[object Object]":a),s||(u=Ot(e),u="[object Arguments]"==u?"[object Object]":u);var c="[object Object]"==a&&!k(t),s="[object Object]"==u&&!k(e);if((u=a==u)&&!c)i||(i=new ae),e=o||Js(t)?rr(t,e,Be,n,r,i):ir(t,e,a,Be,n,r,i);else{if(!(2&r)&&(o=c&&Qi.call(t,"__wrapped__"),a=s&&Qi.call(e,"__wrapped__"),o||a)){t=o?t.value():t,e=a?e.value():e,i||(i=new ae),e=Be(t,e,n,r,i);break t}if(u)e:if(i||(i=new ae),o=2&r,a=Ei(t),s=a.length,u=Ei(e).length,s==u||o){for(c=s;c--;){var l=a[c];if(!(o?l in e:Ie(e,l))){e=!1;break e}}if((u=i.get(t))&&i.get(e))e=u==e;else{u=!0,i.set(t,e),i.set(e,t);for(var h=o;++c<s;){var l=a[c],f=t[l],d=e[l];if(n)var p=o?n(d,f,l,e,t,i):n(f,d,l,t,e,i);if(p===H?f!==d&&!Be(f,d,n,r,i):!p){u=!1;break}h||(h="constructor"==l)}u&&!h&&(n=t.constructor,r=e.constructor,n!=r&&"constructor"in t&&"constructor"in e&&!("function"==typeof n&&n instanceof n&&"function"==typeof r&&r instanceof r)&&(u=!1)),i["delete"](t),i["delete"](e),e=u}}else e=!1;else e=!1}}return e}function Ge(t){return ci(t)&&"[object Map]"==Ot(t)}function Ue(t,e,n,r){var i=n.length,o=i,s=!r;if(null==t)return!o;for(t=Object(t);i--;){var a=n[i];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<o;){var a=n[i],u=a[0],c=t[u],l=a[1];if(s&&a[2]){if(c===H&&!(u in t))return!1}else{if(a=new ae,r)var h=r(c,l,u,t,e,a);if(h===H?!Be(l,c,r,3,a):!h)return!1}}return!0}function Ye(t){return!(!ui(t)||$i&&$i in t)&&(oi(t)||k(t)?eo:St).test(Cr(t))}function He(t){return ui(t)&&"[object RegExp]"==Zi.call(t)}function We(t){return ci(t)&&"[object Set]"==Ot(t)}function qe(t){return ci(t)&&ai(t.length)&&!!Ft[Zi.call(t)]}function Ve(t){return"function"==typeof t?t:null==t?Di:"object"==typeof t?Ws(t)?Je(t[0],t[1]):Qe(t):Ri(t)}function Xe(t){t=null==t?t:Object(t);var e,n=[];for(e in t)n.push(e);return n}function $e(t,e){return e>t}function ze(t,e){var n=-1,r=ni(t)?Fi(t.length):[];return Vo(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Qe(t){var e=cr(t);return 1==e.length&&e[0][2]?Sr(e[0][0],e[0][1]):function(n){return n===t||Ue(n,t,e)}}function Je(t,e){return _r(t)&&e===e&&!ui(e)?Sr(Tr(t),e):function(n){var r=xi(n,t);return r===H&&r===e?Si(n,t):Be(e,r,H,3)}}function Ke(t,e,n,r,o){if(t!==e){if(!Ws(e)&&!Js(e))var s=wi(e);i(s||e,function(i,a){if(s&&(a=i,i=e[a]),ui(i)){o||(o=new ae);var u=a,c=o,l=t[u],h=e[u],f=c.get(h);if(f)ce(t,u,f);else{var f=r?r(l,h,u+"",t,e,c):H,d=f===H;d&&(f=h,Ws(h)||Js(h)?Ws(l)?f=l:ri(l)?f=Dn(l):(d=!1,f=ve(h,!0)):hi(h)||ei(h)?ei(l)?f=_i(l):!ui(l)||n&&oi(l)?(d=!1,f=ve(h,!0)):f=l:d=!1),d&&(c.set(h,f),Ke(f,h,n,r,c),c["delete"](h)),ce(t,u,f)}}else u=r?r(t[a],i,a+"",t,e,o):H,u===H&&(u=i),ce(t,a,u)})}}function Ze(t,e){var n=t.length;return n?(e+=0>e?n:0,mr(e,n)?t[e]:H):void 0}function tn(t,e,n){var r=-1;return e=l(e.length?e:[Di],O(ar())),t=ze(t,function(t){return{a:l(e,function(e){return e(t)}),b:++r,c:t}}),w(t,function(t,e){var r;t:{r=-1;for(var i=t.a,o=e.a,s=i.length,a=n.length;++r<s;){var u=On(i[r],o[r]);if(u){r=r>=a?u:u*("desc"==n[r]?-1:1);break t}}r=t.b-e.b}return r})}function en(t,e){return t=Object(t),nn(t,e,function(e,n){return n in t})}function nn(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var s=e[r],a=t[s];n(a,s)&&(o[s]=a)}return o}function rn(t){return function(e){return Me(e,t)}}function on(t,e,n,r){var i=r?y:m,o=-1,s=e.length,a=t;for(t===e&&(e=Dn(e)),n&&(a=l(t,O(n)));++o<s;)for(var u=0,c=e[o],c=n?n(c):c;-1<(u=i(a,c,u,r));)a!==t&&lo.call(a,u,1),lo.call(t,u,1);return t}function sn(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;if(mr(i))lo.call(t,i,1);else if(_r(i,t))delete t[Tr(i)];else{var i=wn(i),s=wr(t,i);null!=s&&delete s[Tr(kr(i))]}}}}function an(t,e){return t+po(wo()*(e-t+1))}function un(t,e){var n="";if(!t||1>e||e>9007199254740991)return n;do e%2&&(n+=t),(e=po(e/2))&&(t+=t);while(e);return n}function cn(t,e){return e=xo(e===H?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=xo(r.length-e,0),s=Fi(o);++i<o;)s[i]=r[e+i];for(i=-1,o=Fi(e+1);++i<e;)o[i]=r[i];return o[e]=s,n(t,this,o)}}function ln(t,e,n,r){e=_r(e,t)?[e]:wn(e);for(var i=-1,o=e.length,s=o-1,a=t;null!=a&&++i<o;){var u=Tr(e[i]);if(ui(a)){var c=n;if(i!=s){var l=a[u],c=r?r(l,u,a):H;c===H&&(c=null==l?mr(e[i+1])?[]:{}:l)}le(a,u,c)}a=a[u]}return t}function hn(t,e,n){var r=-1,i=t.length;for(0>e&&(e=-e>i?0:i+e),n=n>i?i:n,0>n&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0,n=Fi(i);++r<i;)n[r]=t[r+e];return n}function fn(t,e){var n;return Vo(t,function(t,r,i){return n=e(t,r,i),!n}),!!n}function dn(t,e,n){var r=0,i=t?t.length:r;if("number"==typeof e&&e===e&&2147483647>=i){for(;i>r;){var o=r+i>>>1,s=t[o];null!==s&&!di(s)&&(n?e>=s:e>s)?r=o+1:i=o}return i}return pn(t,e,Di,n)}function pn(t,e,n,r){e=n(e);for(var i=0,o=t?t.length:0,s=e!==e,a=null===e,u=di(e),c=e===H;o>i;){var l=po((i+o)/2),h=n(t[l]),f=h!==H,d=null===h,p=h===h,g=di(h);(s?r||p:c?p&&(r||f):a?p&&f&&(r||!d):u?p&&f&&!d&&(r||!g):d||g?0:r?e>=h:e>h)?i=l+1:o=l}return So(o,4294967294)}function gn(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var s=t[n],a=e?e(s):s;if(!n||!ti(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function vn(t){return"number"==typeof t?t:di(t)?q:+t}function mn(t){if("string"==typeof t)return t;if(di(t))return qo?qo.call(t):"";var e=t+"";return"0"==e&&1/t==-W?"-0":e}function yn(t,e,n){var r=-1,i=u,o=t.length,s=!0,a=[],l=a;if(n)s=!1,i=c;else if(o>=200){if(i=e?null:Ko(t))return B(i);s=!1,i=L,l=new Qt}else l=e?[]:a;t:for(;++r<o;){var h=t[r],f=e?e(h):h,h=n||0!==h?h:0;if(s&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue t;e&&l.push(f),a.push(h)}else i(l,f,n)||(l!==a&&l.push(f),a.push(h))}return a}function _n(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?hn(t,r?0:o,r?o+1:i):hn(t,r?o+1:0,r?i:o)}function bn(t,e){var n=t;return n instanceof Wt&&(n=n.value()),f(e,function(t,e){return e.func.apply(e.thisArg,h([t],e.args))},n)}function xn(t,e,n){for(var r=-1,i=t.length;++r<i;)var o=o?h(xe(o,t[r],e,n),xe(t[r],o,e,n)):t[r];return o&&o.length?yn(o,e,n):[]}function Sn(t,e,n){for(var r=-1,i=t.length,o=e.length,s={};++r<i;)n(s,t[r],o>r?e[r]:H);return s}function En(t){return ri(t)?t:[]}function wn(t){return Ws(t)?t:as(t)}function Tn(t,e,n){var r=t.length;return n=n===H?r:n,!e&&n>=r?t:hn(t,e,n)}function Cn(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function jn(t){var e=new t.constructor(t.byteLength);return new oo(e).set(new oo(t)),e}function On(t,e){if(t!==e){var n=t!==H,r=null===t,i=t===t,o=di(t),s=e!==H,a=null===e,u=e===e,c=di(e);if(!a&&!c&&!o&&t>e||o&&s&&u&&!a&&!c||r&&s&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&e>t||c&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!u)return-1}return 0}function Mn(t,e,n,r){var i=-1,o=t.length,s=n.length,a=-1,u=e.length,c=xo(o-s,0),l=Fi(u+c);for(r=!r;++a<u;)l[a]=e[a];for(;++i<s;)(r||o>i)&&(l[n[i]]=t[i]);for(;c--;)l[a++]=t[i++];return l}function Ln(t,e,n,r){var i=-1,o=t.length,s=-1,a=n.length,u=-1,c=e.length,l=xo(o-a,0),h=Fi(l+c);for(r=!r;++i<l;)h[i]=t[i];for(l=i;++u<c;)h[l+u]=e[u];for(;++s<a;)(r||o>i)&&(h[l+n[s]]=t[i++]);return h}function Dn(t,e){var n=-1,r=t.length;for(e||(e=Fi(r));++n<r;)e[n]=t[n];return e}function In(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var s=e[i],a=r?r(n[s],t[s],s,n,t):H;le(n,s,a===H?t[s]:a)}return n}function An(t,e){return In(t,ns(t),e)}function kn(t,e){return function(n,i){var o=Ws(n)?r:fe,s=e?e():{};return o(n,t,ar(i,2),s)}}function Rn(t){return cn(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:H,s=i>2?n[2]:H,o=3<t.length&&"function"==typeof o?(i--,o):H;for(s&&yr(n[0],n[1],s)&&(o=3>i?H:o,i=1),e=Object(e);++r<i;)(s=n[r])&&t(e,s,r,o);return e})}function Nn(t,e){return function(n,r){if(null==n)return n;if(!ni(n))return t(n,r);for(var i=n.length,o=e?i:-1,s=Object(n);(e?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Pn(t){return function(e,n,r){var i=-1,o=Object(e);r=r(e);for(var s=r.length;s--;){var a=r[t?s:++i];if(!1===n(o[a],a,o))break}return e}}function Fn(t,e,n){function r(){return(this&&this!==Vt&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=1&e,o=Un(t);return r}function Bn(t){return function(e){e=bi(e);var n=Rt.test(e)?e.match(At):H,r=n?n[0]:e.charAt(0);return e=n?Tn(n,1).join(""):e.slice(1),r[t]()+e}}function Gn(t){return function(e){return f(Mi(Oi(e).replace(Dt,"")),t,"")}}function Un(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=_e(t.prototype),e=t.apply(n,e);return ui(e)?e:n}}function Yn(t,e,r){function i(){for(var s=arguments.length,a=Fi(s),u=s,c=sr(i);u--;)a[u]=arguments[u];return u=3>s&&a[0]!==c&&a[s-1]!==c?[]:F(a,c),s-=u.length,r>s?Zn(t,e,qn,i.placeholder,H,a,u,H,H,r-s):n(this&&this!==Vt&&this instanceof i?o:t,this,a)}var o=Un(t);return i}function Hn(t){return function(e,n,r){var i=Object(e);if(!ni(e)){var o=ar(n,3);e=Ei(e),n=function(t){return o(i[t],t,i)}}return n=t(e,n,r),n>-1?i[o?e[n]:n]:H}}function Wn(t){return cn(function(e){e=Te(e,1);var n=e.length,r=n,i=Ut.prototype.thru;for(t&&e.reverse();r--;){var o=e[r];if("function"!=typeof o)throw new Hi("Expected a function");if(i&&!s&&"wrapper"==or(o))var s=new Ut([],!0)}for(r=s?r:n;++r<n;)var o=e[r],i=or(o),a="wrapper"==i?Zo(o):H,s=a&&br(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?s[or(a[0])].apply(s,a[3]):1==o.length&&br(o)?s[i]():s.thru(o);return function(){var t=arguments,r=t[0];if(s&&1==t.length&&Ws(r)&&200<=r.length)return s.plant(r).value();for(var i=0,t=n?e[i].apply(this,t):r;++i<n;)t=e[i].call(this,t);return t}})}function qn(t,e,n,r,i,o,s,a,u,c){function l(){for(var m=arguments.length,y=Fi(m),_=m;_--;)y[_]=arguments[_];if(p){var b,x=sr(l),_=y.length;for(b=0;_--;)y[_]===x&&b++}if(r&&(y=Mn(y,r,i,p)),o&&(y=Ln(y,o,s,p)),m-=b,p&&c>m)return x=F(y,x),Zn(t,e,qn,l.placeholder,n,y,x,a,u,c-m);if(x=f?n:this,_=d?x[t]:t,m=y.length,a){b=y.length;for(var S=So(a.length,b),E=Dn(y);S--;){var w=a[S];y[S]=mr(w,b)?E[w]:H}}else g&&m>1&&y.reverse();return h&&m>u&&(y.length=u),this&&this!==Vt&&this instanceof l&&(_=v||Un(_)),_.apply(x,y)}var h=128&e,f=1&e,d=2&e,p=24&e,g=512&e,v=d?H:Un(t);return l}function Vn(t,e){return function(n,r){return Re(n,t,e(r))}}function Xn(t,e){return function(n,r){var i;if(n===H&&r===H)return e;if(n!==H&&(i=n),r!==H){if(i===H)return r;"string"==typeof n||"string"==typeof r?(n=mn(n),r=mn(r)):(n=vn(n),r=vn(r)),i=t(n,r)}return i}}function $n(t){return cn(function(e){return e=1==e.length&&Ws(e[0])?l(e[0],O(ar())):l(Te(e,1),O(ar())),cn(function(r){var i=this;return t(e,function(t){return n(t,i,r)})})})}function zn(t,e){e=e===H?" ":mn(e);var n=e.length;return 2>n?n?un(e,t):e:(n=un(e,fo(t/U(e))),Rt.test(e)?Tn(n.match(At),0,t).join(""):n.slice(0,t))}function Qn(t,e,r,i){function o(){for(var e=-1,u=arguments.length,c=-1,l=i.length,h=Fi(l+u),f=this&&this!==Vt&&this instanceof o?a:t;++c<l;)h[c]=i[c];for(;u--;)h[c++]=arguments[++e];return n(f,s?r:this,h)}var s=1&e,a=Un(t);return o}function Jn(t){return function(e,n,r){r&&"number"!=typeof r&&yr(e,n,r)&&(n=r=H),e=gi(e),n===H?(n=e,e=0):n=gi(n),r=r===H?n>e?1:-1:gi(r);var i=-1;n=xo(fo((n-e)/(r||1)),0);for(var o=Fi(n);n--;)o[t?n:++i]=e,e+=r;return o}}function Kn(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=yi(e),n=yi(n)),t(e,n)}}function Zn(t,e,n,r,i,o,s,a,u,c){var l=8&e,h=l?s:H;s=l?H:s;var f=l?o:H;return o=l?H:o,e=(e|(l?32:64))&~(l?64:32),4&e||(e&=-4),i=[t,e,i,f,h,o,s,a,u,c],n=n.apply(H,i),br(t)&&os(n,i),n.placeholder=r,ss(n,t,e)}function tr(t){var e=Ui[t];return function(t,n){if(t=yi(t),n=So(vi(n),292)){var r=(bi(t)+"e").split("e"),r=e(r[0]+"e"+(+r[1]+n)),r=(bi(r)+"e").split("e");return+(r[0]+"e"+(+r[1]-n))}return e(t)}}function er(t){return function(e){var n=Ot(e);return"[object Map]"==n?N(e):"[object Set]"==n?G(e):j(e,t(e))}}function nr(t,e,n,r,i,o,s,a){var u=2&e;if(!u&&"function"!=typeof t)throw new Hi("Expected a function");var c=r?r.length:0;if(c||(e&=-97,r=i=H),s=s===H?s:xo(vi(s),0),a=a===H?a:vi(a),c-=i?i.length:0,64&e){var l=r,h=i;r=i=H}var f=u?H:Zo(t);return o=[t,e,n,r,i,l,h,o,s,a],f&&(n=o[1],t=f[1],e=n|t,r=128==t&&8==n||128==t&&256==n&&o[7].length<=f[8]||384==t&&f[7].length<=f[8]&&8==n,131>e||r)&&(1&t&&(o[2]=f[2],e|=1&n?0:4),(n=f[3])&&(r=o[3],o[3]=r?Mn(r,n,f[4]):n,o[4]=r?F(o[3],"__lodash_placeholder__"):f[4]),(n=f[5])&&(r=o[5],o[5]=r?Ln(r,n,f[6]):n,
o[6]=r?F(o[5],"__lodash_placeholder__"):f[6]),(n=f[7])&&(o[7]=n),128&t&&(o[8]=null==o[8]?f[8]:So(o[8],f[8])),null==o[9]&&(o[9]=f[9]),o[0]=f[0],o[1]=e),t=o[0],e=o[1],n=o[2],r=o[3],i=o[4],a=o[9]=null==o[9]?u?0:t.length:xo(o[9]-c,0),!a&&24&e&&(e&=-25),ss((f?Jo:os)(e&&1!=e?8==e||16==e?Yn(t,e,a):32!=e&&33!=e||i.length?qn.apply(H,o):Qn(t,e,n,r):Fn(t,e,n),o),t,e)}function rr(t,e,n,r,i,o){var s=2&i,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;if((u=o.get(t))&&o.get(e))return u==e;var u=-1,c=!0,l=1&i?new Qt:H;for(o.set(t,e),o.set(e,t);++u<a;){var h=t[u],f=e[u];if(r)var d=s?r(f,h,u,e,t,o):r(h,f,u,t,e,o);if(d!==H){if(d)continue;c=!1;break}if(l){if(!p(e,function(t,e){return l.has(e)||h!==t&&!n(h,t,r,i,o)?void 0:l.add(e)})){c=!1;break}}else if(h!==f&&!n(h,f,r,i,o)){c=!1;break}}return o["delete"](t),o["delete"](e),c}function ir(t,e,n,r,i,o,s){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)break;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":if(t.byteLength!=e.byteLength||!r(new oo(t),new oo(e)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return ti(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=N;case"[object Set]":if(a||(a=B),t.size!=e.size&&!(2&o))break;return(n=s.get(t))?n==e:(o|=1,s.set(t,e),e=rr(a(t),a(e),r,i,o,s),s["delete"](t),e);case"[object Symbol]":if(Wo)return Wo.call(t)==Wo.call(e)}return!1}function or(t){for(var e=t.name+"",n=Po[e],r=Qi.call(Po,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function sr(t){return(Qi.call(Lt,"placeholder")?Lt:t).placeholder}function ar(){var t=Lt.iteratee||Ii,t=t===Ii?Ve:t;return arguments.length?t(arguments[0],arguments[1]):t}function ur(t,e){var n=t.__data__,r=typeof e;return("string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==e:null===e)?n["string"==typeof e?"string":"hash"]:n.map}function cr(t){for(var e=Ei(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,i===i&&!ui(i)]}return e}function lr(t,e){var n=null==t?H:t[e];return Ye(n)?n:H}function hr(t,e,n){e=_r(e,t)?[e]:wn(e);for(var r,i=-1,o=e.length;++i<o;){var s=Tr(e[i]);if(!(r=null!=t&&n(t,s)))break;t=t[s]}return r?r:(o=t?t.length:0,!!o&&ai(o)&&mr(s,o)&&(Ws(t)||fi(t)||ei(t)))}function fr(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Qi.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function dr(t){return"function"!=typeof t.constructor||xr(t)?{}:_e(es(t))}function pr(n,r,i,o){var s=n.constructor;switch(r){case"[object ArrayBuffer]":return jn(n);case"[object Boolean]":case"[object Date]":return new s(+n);case"[object DataView]":return r=o?jn(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return r=o?jn(n.buffer):n.buffer,new n.constructor(r,n.byteOffset,n.length);case"[object Map]":return r=o?i(N(n),!0):N(n),f(r,t,new n.constructor);case"[object Number]":case"[object String]":return new s(n);case"[object RegExp]":return r=new n.constructor(n.source,yt.exec(n)),r.lastIndex=n.lastIndex,r;case"[object Set]":return r=o?i(B(n),!0):B(n),f(r,e,new n.constructor);case"[object Symbol]":return Wo?Object(Wo.call(n)):{}}}function gr(t){var e=t?t.length:H;return ai(e)&&(Ws(t)||fi(t)||ei(t))?C(e,String):null}function vr(t){return Ws(t)||ei(t)||!!(ho&&t&&t[ho])}function mr(t,e){return e=null==e?9007199254740991:e,!!e&&("number"==typeof t||wt.test(t))&&t>-1&&0==t%1&&e>t}function yr(t,e,n){if(!ui(n))return!1;var r=typeof e;return!!("number"==r?ni(n)&&mr(e,n.length):"string"==r&&e in n)&&ti(n[e],t)}function _r(t,e){if(Ws(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!di(t))||it.test(t)||!rt.test(t)||null!=e&&t in Object(e)}function br(t){var e=or(t),n=Lt[e];return"function"==typeof n&&e in Wt.prototype&&(t===n||(e=Zo(n),!!e&&t===e[0]))}function xr(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||qi)}function Sr(t,e){return function(n){return null!=n&&n[t]===e&&(e!==H||t in Object(n))}}function Er(t,e,n,r,i,o){return ui(t)&&ui(e)&&(o.set(e,t),Ke(t,e,H,Er,o),o["delete"](e)),t}function wr(t,e){return 1==e.length?t:Me(t,hn(e,0,-1))}function Tr(t){if("string"==typeof t||di(t))return t;var e=t+"";return"0"==e&&1/t==-W?"-0":e}function Cr(t){if(null!=t){try{return zi.call(t)}catch(t){}return t+""}return""}function jr(t,e){return i(V,function(n){var r="_."+n[0];e&n[1]&&!u(t,r)&&t.push(r)}),t.sort()}function Or(t){if(t instanceof Wt)return t.clone();var e=new Ut(t.__wrapped__,t.__chain__);return e.__actions__=Dn(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Mr(t,e,n){var r=t?t.length:0;return r?(e=n||e===H?1:vi(e),hn(t,0>e?0:e,r)):[]}function Lr(t,e,n){var r=t?t.length:0;return r?(e=n||e===H?1:vi(e),e=r-e,hn(t,0,0>e?0:e)):[]}function Dr(t,e,n){var r=t?t.length:0;return r?(n=null==n?0:vi(n),0>n&&(n=xo(r+n,0)),v(t,ar(e,3),n)):-1}function Ir(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r-1;return n!==H&&(i=vi(n),i=0>n?xo(r+i,0):So(i,r-1)),v(t,ar(e,3),i,!0)}function Ar(t){return t&&t.length?t[0]:H}function kr(t){var e=t?t.length:0;return e?t[e-1]:H}function Rr(t,e){return t&&t.length&&e&&e.length?on(t,e):t}function Nr(t){return t?Co.call(t):t}function Pr(t){if(!t||!t.length)return[];var e=0;return t=a(t,function(t){return ri(t)?(e=xo(t.length,e),!0):void 0}),C(e,function(e){return l(t,x(e))})}function Fr(t,e){if(!t||!t.length)return[];var r=Pr(t);return null==e?r:l(r,function(t){return n(e,H,t)})}function Br(t){return t=Lt(t),t.__chain__=!0,t}function Gr(t,e){return e(t)}function Ur(){return this}function Yr(t,e){return(Ws(t)?i:Vo)(t,ar(e,3))}function Hr(t,e){return(Ws(t)?o:Xo)(t,ar(e,3))}function Wr(t,e){return(Ws(t)?l:ze)(t,ar(e,3))}function qr(t,e,n){var r=-1,i=pi(t),o=i.length,s=o-1;for(e=(n?yr(t,e,n):e===H)?1:ge(vi(e),0,o);++r<e;)t=an(r,s),n=i[t],i[t]=i[r],i[r]=n;return i.length=e,i}function Vr(){return Bi.now()}function Xr(t,e,n){return e=n?H:e,e=t&&null==e?t.length:e,nr(t,128,H,H,H,H,e)}function $r(t,e){var n;if("function"!=typeof e)throw new Hi("Expected a function");return t=vi(t),function(){return 0<--t&&(n=e.apply(this,arguments)),1>=t&&(e=H),n}}function zr(t,e,n){return e=n?H:e,t=nr(t,8,H,H,H,H,H,e),t.placeholder=zr.placeholder,t}function Qr(t,e,n){return e=n?H:e,t=nr(t,16,H,H,H,H,H,e),t.placeholder=Qr.placeholder,t}function Jr(t,e,n){function r(e){var n=u,r=c;return u=c=H,p=e,h=t.apply(r,n)}function i(t){var n=t-d;return t-=p,d===H||n>=e||0>n||v&&t>=l}function o(){var t=Vr();if(i(t))return s(t);var n;n=t-p,t=e-(t-d),n=v?So(t,l-n):t,f=Mt(o,n)}function s(t){return f=H,m&&u?r(t):(u=c=H,h)}function a(){var t=Vr(),n=i(t);if(u=arguments,c=this,d=t,n){if(f===H)return p=t=d,f=Mt(o,e),g?r(t):h;if(v)return f=Mt(o,e),r(d)}return f===H&&(f=Mt(o,e)),h}var u,c,l,h,f,d,p=0,g=!1,v=!1,m=!0;if("function"!=typeof t)throw new Hi("Expected a function");return e=yi(e)||0,ui(n)&&(g=!!n.leading,l=(v="maxWait"in n)?xo(yi(n.maxWait)||0,e):l,m="trailing"in n?!!n.trailing:m),a.cancel=function(){f!==H&&S.clearTimeout.call(Vt,f),p=0,u=d=c=f=H},a.flush=function(){return f===H?h:s(Vr())},a}function Kr(t,e){function n(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;return o.has(i)?o.get(i):(r=t.apply(this,r),n.cache=o.set(i,r),r)}if("function"!=typeof t||e&&"function"!=typeof e)throw new Hi("Expected a function");return n.cache=new(Kr.Cache||$t),n}function Zr(t){if("function"!=typeof t)throw new Hi("Expected a function");return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ti(t,e){return t===e||t!==t&&e!==e}function ei(t){return ri(t)&&Qi.call(t,"callee")&&(!co.call(t,"callee")||"[object Arguments]"==Zi.call(t))}function ni(t){return null!=t&&ai(ts(t))&&!oi(t)}function ri(t){return ci(t)&&ni(t)}function ii(t){return!!ci(t)&&("[object Error]"==Zi.call(t)||"string"==typeof t.message&&"string"==typeof t.name)}function oi(t){return t=ui(t)?Zi.call(t):"","[object Function]"==t||"[object GeneratorFunction]"==t}function si(t){return"number"==typeof t&&t==vi(t)}function ai(t){return"number"==typeof t&&t>-1&&0==t%1&&9007199254740991>=t}function ui(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function ci(t){return!!t&&"object"==typeof t}function li(t){return"number"==typeof t||ci(t)&&"[object Number]"==Zi.call(t)}function hi(t){return!(!ci(t)||"[object Object]"!=Zi.call(t)||k(t))&&(t=es(t),null===t||(t=Qi.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&zi.call(t)==Ki))}function fi(t){return"string"==typeof t||!Ws(t)&&ci(t)&&"[object String]"==Zi.call(t)}function di(t){return"symbol"==typeof t||ci(t)&&"[object Symbol]"==Zi.call(t)}function pi(t){if(!t)return[];if(ni(t))return fi(t)?t.match(At):Dn(t);if(ao&&t[ao])return R(t[ao]());var e=Ot(t);return("[object Map]"==e?N:"[object Set]"==e?B:Ci)(t)}function gi(t){return t?(t=yi(t),t===W||t===-W?1.7976931348623157e308*(0>t?-1:1):t===t?t:0):0===t?t:0}function vi(t){t=gi(t);var e=t%1;return t===t?e?t-e:t:0}function mi(t){return t?ge(vi(t),0,4294967295):0}function yi(t){if("number"==typeof t)return t;if(di(t))return q;if(ui(t)&&(t=oi(t.valueOf)?t.valueOf():t,t=ui(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(ct,"");var e=xt.test(t);return e||Et.test(t)?Ht(t.slice(2),e?2:8):bt.test(t)?q:+t}function _i(t){return In(t,wi(t))}function bi(t){return null==t?"":mn(t)}function xi(t,e,n){return t=null==t?H:Me(t,e),t===H?n:t}function Si(t,e){return null!=t&&hr(t,e,Ae)}function Ei(t){var e=xr(t);if(!e&&!ni(t))return Qo(t);var n,r=gr(t),i=!!r,r=r||[],o=r.length;for(n in t)!Ie(t,n)||i&&("length"==n||mr(n,o))||e&&"constructor"==n||r.push(n);return r}function wi(t){for(var e=-1,n=xr(t),r=Xe(t),i=r.length,o=gr(t),s=!!o,o=o||[],a=o.length;++e<i;){var u=r[e];s&&("length"==u||mr(u,a))||"constructor"==u&&(n||!Qi.call(t,u))||o.push(u)}return o}function Ti(t,e){return null==t?{}:nn(t,Le(t,wi,rs),ar(e))}function Ci(t){return t?M(t,Ei(t)):[]}function ji(t){return Ea(bi(t).toLowerCase())}function Oi(t){return(t=bi(t))&&t.replace(Tt,re).replace(It,"")}function Mi(t,e,n){return t=bi(t),e=n?H:e,e===H&&(e=Nt.test(t)?kt:gt),t.match(e)||[]}function Li(t){return function(){return t}}function Di(t){return t}function Ii(t){return Ve("function"==typeof t?t:ve(t,!0))}function Ai(t,e,n){var r=Ei(e),o=Oe(e,r);null!=n||ui(e)&&(o.length||!r.length)||(n=e,e=t,t=this,o=Oe(e,Ei(e)));var s=!(ui(n)&&"chain"in n&&!n.chain),a=oi(t);return i(o,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__);return(n.__actions__=Dn(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,h([this.value()],arguments))})}),t}function ki(){}function Ri(t){return _r(t)?x(Tr(t)):rn(t)}function Ni(){return[]}function Pi(){return!1}S=S?se.defaults({},S,se.pick(Vt,Pt)):Vt;var Fi=S.Array,Bi=S.Date,Gi=S.Error,Ui=S.Math,Yi=S.RegExp,Hi=S.TypeError,Wi=S.Array.prototype,qi=S.Object.prototype,Vi=S.String.prototype,Xi=S["__core-js_shared__"],$i=function(){var t=/[^.]+$/.exec(Xi&&Xi.keys&&Xi.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),zi=S.Function.prototype.toString,Qi=qi.hasOwnProperty,Ji=0,Ki=zi.call(Object),Zi=qi.toString,to=Vt._,eo=Yi("^"+zi.call(Qi).replace(at,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),no=zt?S.Buffer:H,ro=S.Reflect,io=S.Symbol,oo=S.Uint8Array,so=ro?ro.g:H,ao=io?io.iterator:H,uo=S.Object.create,co=qi.propertyIsEnumerable,lo=Wi.splice,ho=io?io.isConcatSpreadable:H,fo=Ui.ceil,po=Ui.floor,go=Object.getPrototypeOf,vo=Object.getOwnPropertySymbols,mo=no?no.isBuffer:H,yo=S.isFinite,_o=Wi.join,bo=Object.keys,xo=Ui.max,So=Ui.min,Eo=S.parseInt,wo=Ui.random,To=Vi.replace,Co=Wi.reverse,jo=Vi.split,Oo=lr(S,"DataView"),Mo=lr(S,"Map"),Lo=lr(S,"Promise"),Do=lr(S,"Set"),Io=lr(S,"WeakMap"),Ao=lr(S.Object,"create"),ko=function(){var t=lr(S.Object,"defineProperty"),e=lr.name;return e&&2<e.length?t:H}(),Ro=Io&&new Io,No=!co.call({valueOf:1},"valueOf"),Po={},Fo=Cr(Oo),Bo=Cr(Mo),Go=Cr(Lo),Uo=Cr(Do),Yo=Cr(Io),Ho=io?io.prototype:H,Wo=Ho?Ho.valueOf:H,qo=Ho?Ho.toString:H;Lt.templateSettings={escape:tt,evaluate:et,interpolate:nt,variable:"",imports:{_:Lt}},Lt.prototype=Gt.prototype,Lt.prototype.constructor=Lt,Ut.prototype=_e(Gt.prototype),Ut.prototype.constructor=Ut,Wt.prototype=_e(Gt.prototype),Wt.prototype.constructor=Wt,qt.prototype.clear=function(){this.__data__=Ao?Ao(null):{}},qt.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},qt.prototype.get=function(t){var e=this.__data__;return Ao?(t=e[t],"__lodash_hash_undefined__"===t?H:t):Qi.call(e,t)?e[t]:H},qt.prototype.has=function(t){var e=this.__data__;return Ao?e[t]!==H:Qi.call(e,t)},qt.prototype.set=function(t,e){return this.__data__[t]=Ao&&e===H?"__lodash_hash_undefined__":e,this},Xt.prototype.clear=function(){this.__data__=[]},Xt.prototype["delete"]=function(t){var e=this.__data__;return t=he(e,t),!(0>t||(t==e.length-1?e.pop():lo.call(e,t,1),0))},Xt.prototype.get=function(t){var e=this.__data__;return t=he(e,t),0>t?H:e[t][1]},Xt.prototype.has=function(t){return-1<he(this.__data__,t)},Xt.prototype.set=function(t,e){var n=this.__data__,r=he(n,t);return 0>r?n.push([t,e]):n[r][1]=e,this},$t.prototype.clear=function(){this.__data__={hash:new qt,map:new(Mo||Xt),string:new qt}},$t.prototype["delete"]=function(t){return ur(this,t)["delete"](t)},$t.prototype.get=function(t){return ur(this,t).get(t)},$t.prototype.has=function(t){return ur(this,t).has(t)},$t.prototype.set=function(t,e){return ur(this,t).set(t,e),this},Qt.prototype.add=Qt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Qt.prototype.has=function(t){return this.__data__.has(t)},ae.prototype.clear=function(){this.__data__=new Xt},ae.prototype["delete"]=function(t){return this.__data__["delete"](t)},ae.prototype.get=function(t){return this.__data__.get(t)},ae.prototype.has=function(t){return this.__data__.has(t)},ae.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Xt){if(n=n.__data__,!Mo||199>n.length)return n.push([t,e]),this;n=this.__data__=new $t(n)}return n.set(t,e),this};var Vo=Nn(Ce),Xo=Nn(je,!0),$o=Pn(),zo=Pn(!0),Qo=P(bo);so&&!co.call({valueOf:1},"valueOf")&&(Xe=function(t){return R(so(t))});var Jo=Ro?function(t,e){return Ro.set(t,e),t}:Di,Ko=Do&&1/B(new Do([,-0]))[1]==W?function(t){return new Do(t)}:ki,Zo=Ro?function(t){return Ro.get(t)}:ki,ts=x("length"),es=P(go),ns=vo?P(vo):Ni,rs=vo?function(t){for(var e=[];t;)h(e,ns(t)),t=es(t);return e}:Ni;(Oo&&"[object DataView]"!=Ot(new Oo(new ArrayBuffer(1)))||Mo&&"[object Map]"!=Ot(new Mo)||Lo&&"[object Promise]"!=Ot(Lo.resolve())||Do&&"[object Set]"!=Ot(new Do)||Io&&"[object WeakMap]"!=Ot(new Io))&&(Ot=function(t){var e=Zi.call(t);if(t=(t="[object Object]"==e?t.constructor:H)?Cr(t):H)switch(t){case Fo:return"[object DataView]";case Bo:return"[object Map]";case Go:return"[object Promise]";case Uo:return"[object Set]";case Yo:return"[object WeakMap]"}return e});var is=Xi?oi:Pi,os=function(){var t=0,e=0;return function(n,r){var i=Vr(),o=16-(i-e);if(e=i,o>0){if(150<=++t)return n}else t=0;return Jo(n,r)}}(),ss=ko?function(t,e,n){e+="";var r;r=(r=e.match(dt))?r[1].split(pt):[],n=jr(r,n),r=n.length;var i=r-1;return n[i]=(r>1?"& ":"")+n[i],n=n.join(r>2?", ":" "),e=e.replace(ft,"{\n/* [wrapped with "+n+"] */\n"),ko(t,"toString",{configurable:!0,enumerable:!1,value:Li(e)})}:Di,as=Kr(function(t){t=bi(t);var e=[];return ot.test(t)&&e.push(""),t.replace(st,function(t,n,r,i){e.push(r?i.replace(vt,"$1"):n||t)}),e}),us=cn(function(t,e){return ri(t)?xe(t,Te(e,1,ri,!0)):[]}),cs=cn(function(t,e){var n=kr(e);return ri(n)&&(n=H),ri(t)?xe(t,Te(e,1,ri,!0),ar(n,2)):[]}),ls=cn(function(t,e){var n=kr(e);return ri(n)&&(n=H),ri(t)?xe(t,Te(e,1,ri,!0),H,n):[]}),hs=cn(function(t){var e=l(t,En);return e.length&&e[0]===t[0]?ke(e):[]}),fs=cn(function(t){var e=kr(t),n=l(t,En);return e===kr(n)?e=H:n.pop(),n.length&&n[0]===t[0]?ke(n,ar(e,2)):[]}),ds=cn(function(t){var e=kr(t),n=l(t,En);return e===kr(n)?e=H:n.pop(),n.length&&n[0]===t[0]?ke(n,H,e):[]}),ps=cn(Rr),gs=cn(function(t,e){e=Te(e,1);var n=t?t.length:0,r=pe(t,e);return sn(t,l(e,function(t){return mr(t,n)?+t:t}).sort(On)),r}),vs=cn(function(t){return yn(Te(t,1,ri,!0))}),ms=cn(function(t){var e=kr(t);return ri(e)&&(e=H),yn(Te(t,1,ri,!0),ar(e,2))}),ys=cn(function(t){var e=kr(t);return ri(e)&&(e=H),yn(Te(t,1,ri,!0),H,e)}),_s=cn(function(t,e){return ri(t)?xe(t,e):[]}),bs=cn(function(t){return xn(a(t,ri))}),xs=cn(function(t){var e=kr(t);return ri(e)&&(e=H),xn(a(t,ri),ar(e,2))}),Ss=cn(function(t){var e=kr(t);return ri(e)&&(e=H),xn(a(t,ri),H,e)}),Es=cn(Pr),ws=cn(function(t){var e=t.length,e=e>1?t[e-1]:H,e="function"==typeof e?(t.pop(),e):H;return Fr(t,e)}),Ts=cn(function(t){function e(e){return pe(e,t)}t=Te(t,1);var n=t.length,r=n?t[0]:0,i=this.__wrapped__;return!(n>1||this.__actions__.length)&&i instanceof Wt&&mr(r)?(i=i.slice(r,+r+(n?1:0)),i.__actions__.push({func:Gr,args:[e],thisArg:H}),new Ut(i,this.__chain__).thru(function(t){return n&&!t.length&&t.push(H),t})):this.thru(e)}),Cs=kn(function(t,e,n){Qi.call(t,n)?++t[n]:t[n]=1}),js=Hn(Dr),Os=Hn(Ir),Ms=kn(function(t,e,n){Qi.call(t,n)?t[n].push(e):t[n]=[e]}),Ls=cn(function(t,e,r){var i=-1,o="function"==typeof e,s=_r(e),a=ni(t)?Fi(t.length):[];return Vo(t,function(t){var u=o?e:s&&null!=t?t[e]:H;a[++i]=u?n(u,t,r):Ne(t,e,r)}),a}),Ds=kn(function(t,e,n){t[n]=e}),Is=kn(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),As=cn(function(t,e){if(null==t)return[];var n=e.length;return n>1&&yr(t,e[0],e[1])?e=[]:n>2&&yr(e[0],e[1],e[2])&&(e=[e[0]]),tn(t,Te(e,1),[])}),ks=cn(function(t,e,n){var r=1;if(n.length)var i=F(n,sr(ks)),r=32|r;return nr(t,r,e,n,i)}),Rs=cn(function(t,e,n){var r=3;if(n.length)var i=F(n,sr(Rs)),r=32|r;return nr(e,r,t,n,i)}),Ns=cn(function(t,e){return be(t,1,e)}),Ps=cn(function(t,e,n){return be(t,yi(e)||0,n)});Kr.Cache=$t;var Fs=cn(function(t,e){e=1==e.length&&Ws(e[0])?l(e[0],O(ar())):l(Te(e,1),O(ar()));var r=e.length;return cn(function(i){for(var o=-1,s=So(i.length,r);++o<s;)i[o]=e[o].call(this,i[o]);return n(t,this,i)})}),Bs=cn(function(t,e){var n=F(e,sr(Bs));return nr(t,32,H,e,n)}),Gs=cn(function(t,e){var n=F(e,sr(Gs));return nr(t,64,H,e,n)}),Us=cn(function(t,e){return nr(t,256,H,H,H,Te(e,1))}),Ys=Kn(De),Hs=Kn(function(t,e){return t>=e}),Ws=Fi.isArray,qs=Jt?O(Jt):Pe,Vs=mo||Pi,Xs=Kt?O(Kt):Fe,$s=Zt?O(Zt):Ge,zs=te?O(te):He,Qs=ee?O(ee):We,Js=ne?O(ne):qe,Ks=Kn($e),Zs=Kn(function(t,e){return e>=t}),ta=Rn(function(t,e){if(No||xr(e)||ni(e))In(e,Ei(e),t);else for(var n in e)Qi.call(e,n)&&le(t,n,e[n])}),ea=Rn(function(t,e){if(No||xr(e)||ni(e))In(e,wi(e),t);else for(var n in e)le(t,n,e[n])}),na=Rn(function(t,e,n,r){In(e,wi(e),t,r)}),ra=Rn(function(t,e,n,r){In(e,Ei(e),t,r)}),ia=cn(function(t,e){return pe(t,Te(e,1))}),oa=cn(function(t){return t.push(H,ue),n(na,H,t)}),sa=cn(function(t){return t.push(H,Er),n(ha,H,t)}),aa=Vn(function(t,e,n){t[e]=n},Li(Di)),ua=Vn(function(t,e,n){Qi.call(t,e)?t[e].push(n):t[e]=[n]},ar),ca=cn(Ne),la=Rn(function(t,e,n){Ke(t,e,n)}),ha=Rn(function(t,e,n,r){Ke(t,e,n,r)}),fa=cn(function(t,e){return null==t?{}:(e=l(Te(e,1),Tr),en(t,xe(Le(t,wi,rs),e)))}),da=cn(function(t,e){return null==t?{}:en(t,l(Te(e,1),Tr))}),pa=er(Ei),ga=er(wi),va=Gn(function(t,e,n){return e=e.toLowerCase(),t+(n?ji(e):e)}),ma=Gn(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),ya=Gn(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),_a=Bn("toLowerCase"),ba=Gn(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),xa=Gn(function(t,e,n){return t+(n?" ":"")+Ea(e)}),Sa=Gn(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Ea=Bn("toUpperCase"),wa=cn(function(t,e){try{return n(t,H,e)}catch(t){return ii(t)?t:new Gi(t)}}),Ta=cn(function(t,e){return i(Te(e,1),function(e){e=Tr(e),t[e]=ks(t[e],t)}),t}),Ca=Wn(),ja=Wn(!0),Oa=cn(function(t,e){return function(n){return Ne(n,t,e)}}),Ma=cn(function(t,e){return function(n){return Ne(t,n,e)}}),La=$n(l),Da=$n(s),Ia=$n(p),Aa=Jn(),ka=Jn(!0),Ra=Xn(function(t,e){return t+e},0),Na=tr("ceil"),Pa=Xn(function(t,e){return t/e},1),Fa=tr("floor"),Ba=Xn(function(t,e){return t*e},1),Ga=tr("round"),Ua=Xn(function(t,e){return t-e},0);return Lt.after=function(t,e){if("function"!=typeof e)throw new Hi("Expected a function");return t=vi(t),function(){return 1>--t?e.apply(this,arguments):void 0}},Lt.ary=Xr,Lt.assign=ta,Lt.assignIn=ea,Lt.assignInWith=na,Lt.assignWith=ra,Lt.at=ia,Lt.before=$r,Lt.bind=ks,Lt.bindAll=Ta,Lt.bindKey=Rs,Lt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Ws(t)?t:[t]},Lt.chain=Br,Lt.chunk=function(t,e,n){if(e=(n?yr(t,e,n):e===H)?1:xo(vi(e),0),n=t?t.length:0,!n||1>e)return[];for(var r=0,i=0,o=Fi(fo(n/e));n>r;)o[i++]=hn(t,r,r+=e);return o},Lt.compact=function(t){for(var e=-1,n=t?t.length:0,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i},Lt.concat=function(){for(var t=arguments.length,e=Fi(t?t-1:0),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return t?h(Ws(n)?Dn(n):[n],Te(e,1)):[]},Lt.cond=function(t){var e=t?t.length:0,r=ar();return t=e?l(t,function(t){if("function"!=typeof t[1])throw new Hi("Expected a function");return[r(t[0]),t[1]]}):[],cn(function(r){for(var i=-1;++i<e;){var o=t[i];if(n(o[0],this,r))return n(o[1],this,r)}})},Lt.conforms=function(t){return me(ve(t,!0))},Lt.constant=Li,Lt.countBy=Cs,Lt.create=function(t,e){var n=_e(t);return e?de(n,e):n},Lt.curry=zr,Lt.curryRight=Qr,Lt.debounce=Jr,Lt.defaults=oa,Lt.defaultsDeep=sa,Lt.defer=Ns,Lt.delay=Ps,Lt.difference=us,Lt.differenceBy=cs,Lt.differenceWith=ls,Lt.drop=Mr,Lt.dropRight=Lr,Lt.dropRightWhile=function(t,e){return t&&t.length?_n(t,ar(e,3),!0,!0):[]},Lt.dropWhile=function(t,e){return t&&t.length?_n(t,ar(e,3),!0):[]},Lt.fill=function(t,e,n,r){var i=t?t.length:0;if(!i)return[];for(n&&"number"!=typeof n&&yr(t,e,n)&&(n=0,r=i),i=t.length,n=vi(n),0>n&&(n=-n>i?0:i+n),r=r===H||r>i?i:vi(r),0>r&&(r+=i),r=n>r?0:mi(r);r>n;)t[n++]=e;return t},Lt.filter=function(t,e){return(Ws(t)?a:we)(t,ar(e,3))},Lt.flatMap=function(t,e){return Te(Wr(t,e),1)},Lt.flatMapDeep=function(t,e){return Te(Wr(t,e),W)},Lt.flatMapDepth=function(t,e,n){return n=n===H?1:vi(n),Te(Wr(t,e),n)},Lt.flatten=function(t){return t&&t.length?Te(t,1):[]},Lt.flattenDeep=function(t){return t&&t.length?Te(t,W):[]},Lt.flattenDepth=function(t,e){return t&&t.length?(e=e===H?1:vi(e),Te(t,e)):[]},Lt.flip=function(t){return nr(t,512)},Lt.flow=Ca,Lt.flowRight=ja,Lt.fromPairs=function(t){for(var e=-1,n=t?t.length:0,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Lt.functions=function(t){return null==t?[]:Oe(t,Ei(t))},Lt.functionsIn=function(t){return null==t?[]:Oe(t,wi(t))},Lt.groupBy=Ms,Lt.initial=function(t){return Lr(t,1)},Lt.intersection=hs,Lt.intersectionBy=fs,Lt.intersectionWith=ds,Lt.invert=aa,Lt.invertBy=ua,Lt.invokeMap=Ls,Lt.iteratee=Ii,Lt.keyBy=Ds,Lt.keys=Ei,Lt.keysIn=wi,Lt.map=Wr,Lt.mapKeys=function(t,e){var n={};return e=ar(e,3),Ce(t,function(t,r,i){n[e(t,r,i)]=t}),n},Lt.mapValues=function(t,e){var n={};return e=ar(e,3),Ce(t,function(t,r,i){n[r]=e(t,r,i)}),n},Lt.matches=function(t){return Qe(ve(t,!0))},Lt.matchesProperty=function(t,e){return Je(t,ve(e,!0))},Lt.memoize=Kr,Lt.merge=la,Lt.mergeWith=ha,Lt.method=Oa,Lt.methodOf=Ma,Lt.mixin=Ai,Lt.negate=Zr,Lt.nthArg=function(t){return t=vi(t),cn(function(e){return Ze(e,t)})},Lt.omit=fa,Lt.omitBy=function(t,e){return Ti(t,Zr(ar(e)))},Lt.once=function(t){return $r(2,t)},Lt.orderBy=function(t,e,n,r){return null==t?[]:(Ws(e)||(e=null==e?[]:[e]),n=r?H:n,Ws(n)||(n=null==n?[]:[n]),tn(t,e,n))},Lt.over=La,Lt.overArgs=Fs,Lt.overEvery=Da,Lt.overSome=Ia,Lt.partial=Bs,Lt.partialRight=Gs,Lt.partition=Is,Lt.pick=da,Lt.pickBy=Ti,Lt.property=Ri,Lt.propertyOf=function(t){return function(e){return null==t?H:Me(t,e)}},Lt.pull=ps,Lt.pullAll=Rr,Lt.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?on(t,e,ar(n,2)):t},Lt.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?on(t,e,H,n):t},Lt.pullAt=gs,Lt.range=Aa,Lt.rangeRight=ka,Lt.rearg=Us,Lt.reject=function(t,e){return(Ws(t)?a:we)(t,Zr(ar(e,3)))},Lt.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=ar(e,3);++r<o;){var s=t[r];e(s,r,t)&&(n.push(s),i.push(r))}return sn(t,i),n},Lt.rest=function(t,e){if("function"!=typeof t)throw new Hi("Expected a function");return e=e===H?e:vi(e),cn(t,e)},Lt.reverse=Nr,Lt.sampleSize=qr,Lt.set=function(t,e,n){return null==t?t:ln(t,e,n)},Lt.setWith=function(t,e,n,r){return r="function"==typeof r?r:H,null==t?t:ln(t,e,n,r)},Lt.shuffle=function(t){return qr(t,4294967295)},Lt.slice=function(t,e,n){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&yr(t,e,n)?(e=0,n=r):(e=null==e?0:vi(e),n=n===H?r:vi(n)),hn(t,e,n)):[]},Lt.sortBy=As,Lt.sortedUniq=function(t){return t&&t.length?gn(t):[]},Lt.sortedUniqBy=function(t,e){return t&&t.length?gn(t,ar(e,2)):[]},Lt.split=function(t,e,n){return n&&"number"!=typeof n&&yr(t,e,n)&&(e=n=H),n=n===H?4294967295:n>>>0,n?(t=bi(t))&&("string"==typeof e||null!=e&&!zs(e))&&(e=mn(e),""==e&&Rt.test(t))?Tn(t.match(At),0,n):jo.call(t,e,n):[]},Lt.spread=function(t,e){if("function"!=typeof t)throw new Hi("Expected a function");return e=e===H?0:xo(vi(e),0),cn(function(r){var i=r[e];return r=Tn(r,0,e),i&&h(r,i),n(t,this,r)})},Lt.tail=function(t){return Mr(t,1)},Lt.take=function(t,e,n){return t&&t.length?(e=n||e===H?1:vi(e),hn(t,0,0>e?0:e)):[]},Lt.takeRight=function(t,e,n){var r=t?t.length:0;return r?(e=n||e===H?1:vi(e),e=r-e,hn(t,0>e?0:e,r)):[]},Lt.takeRightWhile=function(t,e){return t&&t.length?_n(t,ar(e,3),!1,!0):[]},Lt.takeWhile=function(t,e){return t&&t.length?_n(t,ar(e,3)):[]},Lt.tap=function(t,e){return e(t),t},Lt.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Hi("Expected a function");return ui(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Jr(t,e,{leading:r,maxWait:e,trailing:i})},Lt.thru=Gr,Lt.toArray=pi,Lt.toPairs=pa,Lt.toPairsIn=ga,Lt.toPath=function(t){return Ws(t)?l(t,Tr):di(t)?[t]:Dn(as(t))},Lt.toPlainObject=_i,Lt.transform=function(t,e,n){var r=Ws(t)||Js(t);if(e=ar(e,4),null==n)if(r||ui(t)){var o=t.constructor;n=r?Ws(t)?new o:[]:oi(o)?_e(es(t)):{}}else n={};return(r?i:Ce)(t,function(t,r,i){return e(n,t,r,i)}),n},Lt.unary=function(t){return Xr(t,1)},Lt.union=vs,Lt.unionBy=ms,Lt.unionWith=ys,Lt.uniq=function(t){return t&&t.length?yn(t):[]},Lt.uniqBy=function(t,e){return t&&t.length?yn(t,ar(e,2)):[]},Lt.uniqWith=function(t,e){return t&&t.length?yn(t,H,e):[]},Lt.unset=function(t,e){var n;if(null==t)n=!0;else{n=t;var r=e,r=_r(r,n)?[r]:wn(r);n=wr(n,r),r=Tr(kr(r)),n=!(null!=n&&Ie(n,r))||delete n[r]}return n},Lt.unzip=Pr,Lt.unzipWith=Fr,Lt.update=function(t,e,n){return null==t?t:ln(t,e,("function"==typeof n?n:Di)(Me(t,e)),void 0)},Lt.updateWith=function(t,e,n,r){return r="function"==typeof r?r:H,null!=t&&(t=ln(t,e,("function"==typeof n?n:Di)(Me(t,e)),r)),t},Lt.values=Ci,Lt.valuesIn=function(t){return null==t?[]:M(t,wi(t))},Lt.without=_s,Lt.words=Mi,Lt.wrap=function(t,e){return e=null==e?Di:e,Bs(e,t)},Lt.xor=bs,Lt.xorBy=xs,Lt.xorWith=Ss,Lt.zip=Es,Lt.zipObject=function(t,e){return Sn(t||[],e||[],le)},Lt.zipObjectDeep=function(t,e){return Sn(t||[],e||[],ln)},Lt.zipWith=ws,Lt.entries=pa,Lt.entriesIn=ga,Lt.extend=ea,Lt.extendWith=na,Ai(Lt,Lt),Lt.add=Ra,Lt.attempt=wa,Lt.camelCase=va,Lt.capitalize=ji,Lt.ceil=Na,Lt.clamp=function(t,e,n){return n===H&&(n=e,e=H),n!==H&&(n=yi(n),n=n===n?n:0),e!==H&&(e=yi(e),e=e===e?e:0),ge(yi(t),e,n)},Lt.clone=function(t){return ve(t,!1,!0)},Lt.cloneDeep=function(t){return ve(t,!0,!0)},Lt.cloneDeepWith=function(t,e){return ve(t,!0,!0,e)},Lt.cloneWith=function(t,e){return ve(t,!1,!0,e)},Lt.conformsTo=function(t,e){return null==e||ye(t,e,Ei(e))},Lt.deburr=Oi,Lt.defaultTo=function(t,e){return null==t||t!==t?e:t},Lt.divide=Pa,Lt.endsWith=function(t,e,n){t=bi(t),e=mn(e);var r=t.length,r=n=n===H?r:ge(vi(n),0,r);return n-=e.length,n>=0&&t.slice(n,r)==e},Lt.eq=ti,Lt.escape=function(t){return(t=bi(t))&&Z.test(t)?t.replace(J,ie):t},Lt.escapeRegExp=function(t){return(t=bi(t))&&ut.test(t)?t.replace(at,"\\$&"):t},Lt.every=function(t,e,n){var r=Ws(t)?s:Se;return n&&yr(t,e,n)&&(e=H),r(t,ar(e,3))},Lt.find=js,Lt.findIndex=Dr,Lt.findKey=function(t,e){return g(t,ar(e,3),Ce)},Lt.findLast=Os,Lt.findLastIndex=Ir,Lt.findLastKey=function(t,e){return g(t,ar(e,3),je)},Lt.floor=Fa,Lt.forEach=Yr,Lt.forEachRight=Hr,Lt.forIn=function(t,e){return null==t?t:$o(t,ar(e,3),wi)},Lt.forInRight=function(t,e){return null==t?t:zo(t,ar(e,3),wi)},Lt.forOwn=function(t,e){return t&&Ce(t,ar(e,3))},Lt.forOwnRight=function(t,e){return t&&je(t,ar(e,3))},Lt.get=xi,Lt.gt=Ys,Lt.gte=Hs,Lt.has=function(t,e){return null!=t&&hr(t,e,Ie)},Lt.hasIn=Si,Lt.head=Ar,Lt.identity=Di,Lt.includes=function(t,e,n,r){return t=ni(t)?t:Ci(t),n=n&&!r?vi(n):0,r=t.length,0>n&&(n=xo(r+n,0)),fi(t)?r>=n&&-1<t.indexOf(e,n):!!r&&-1<m(t,e,n)},Lt.indexOf=function(t,e,n){var r=t?t.length:0;return r?(n=null==n?0:vi(n),0>n&&(n=xo(r+n,0)),m(t,e,n)):-1},Lt.inRange=function(t,e,n){return e=gi(e),n===H?(n=e,e=0):n=gi(n),t=yi(t),t>=So(e,n)&&t<xo(e,n)},Lt.invoke=ca,Lt.isArguments=ei,Lt.isArray=Ws,Lt.isArrayBuffer=qs,Lt.isArrayLike=ni,Lt.isArrayLikeObject=ri,Lt.isBoolean=function(t){return!0===t||!1===t||ci(t)&&"[object Boolean]"==Zi.call(t)},Lt.isBuffer=Vs,Lt.isDate=Xs,Lt.isElement=function(t){return!!t&&1===t.nodeType&&ci(t)&&!hi(t)},Lt.isEmpty=function(t){if(ni(t)&&(Ws(t)||fi(t)||oi(t.splice)||ei(t)||Vs(t)))return!t.length;if(ci(t)){var e=Ot(t);if("[object Map]"==e||"[object Set]"==e)return!t.size}for(var n in t)if(Qi.call(t,n))return!1;return!(No&&Ei(t).length)},Lt.isEqual=function(t,e){return Be(t,e)},Lt.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:H)?n(t,e):H;return r===H?Be(t,e,n):!!r},Lt.isError=ii,Lt.isFinite=function(t){return"number"==typeof t&&yo(t)},Lt.isFunction=oi,Lt.isInteger=si,Lt.isLength=ai,Lt.isMap=$s,Lt.isMatch=function(t,e){return t===e||Ue(t,e,cr(e))},Lt.isMatchWith=function(t,e,n){return n="function"==typeof n?n:H,Ue(t,e,cr(e),n)},Lt.isNaN=function(t){return li(t)&&t!=+t},Lt.isNative=function(t){if(is(t))throw new Gi("This method is not supported with core-js. Try https://github.com/es-shims.");return Ye(t)},Lt.isNil=function(t){return null==t},Lt.isNull=function(t){return null===t},Lt.isNumber=li,Lt.isObject=ui,Lt.isObjectLike=ci,Lt.isPlainObject=hi,Lt.isRegExp=zs,Lt.isSafeInteger=function(t){return si(t)&&t>=-9007199254740991&&9007199254740991>=t},Lt.isSet=Qs,Lt.isString=fi,Lt.isSymbol=di,Lt.isTypedArray=Js,Lt.isUndefined=function(t){return t===H},Lt.isWeakMap=function(t){return ci(t)&&"[object WeakMap]"==Ot(t)},Lt.isWeakSet=function(t){return ci(t)&&"[object WeakSet]"==Zi.call(t)},Lt.join=function(t,e){return t?_o.call(t,e):""},Lt.kebabCase=ma,Lt.last=kr,Lt.lastIndexOf=function(t,e,n){var r=t?t.length:0;if(!r)return-1;var i=r;if(n!==H&&(i=vi(n),i=(0>i?xo(r+i,0):So(i,r-1))+1),e!==e)return v(t,_,i-1,!0);for(;i--;)if(t[i]===e)return i;return-1},Lt.lowerCase=ya,Lt.lowerFirst=_a,Lt.lt=Ks,Lt.lte=Zs,Lt.max=function(t){return t&&t.length?Ee(t,Di,De):H},Lt.maxBy=function(t,e){return t&&t.length?Ee(t,ar(e,2),De):H},Lt.mean=function(t){return b(t,Di)},Lt.meanBy=function(t,e){return b(t,ar(e,2))},Lt.min=function(t){return t&&t.length?Ee(t,Di,$e):H},Lt.minBy=function(t,e){return t&&t.length?Ee(t,ar(e,2),$e):H},Lt.stubArray=Ni,Lt.stubFalse=Pi,Lt.stubObject=function(){return{}},Lt.stubString=function(){return""},Lt.stubTrue=function(){return!0},Lt.multiply=Ba,Lt.nth=function(t,e){return t&&t.length?Ze(t,vi(e)):H},Lt.noConflict=function(){return Vt._===this&&(Vt._=to),this},Lt.noop=ki,Lt.now=Vr,Lt.pad=function(t,e,n){t=bi(t);var r=(e=vi(e))?U(t):0;return!e||r>=e?t:(e=(e-r)/2,zn(po(e),n)+t+zn(fo(e),n))},Lt.padEnd=function(t,e,n){t=bi(t);var r=(e=vi(e))?U(t):0;
return e&&e>r?t+zn(e-r,n):t},Lt.padStart=function(t,e,n){t=bi(t);var r=(e=vi(e))?U(t):0;return e&&e>r?zn(e-r,n)+t:t},Lt.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),t=bi(t).replace(ct,""),Eo(t,e||(_t.test(t)?16:10))},Lt.random=function(t,e,n){if(n&&"boolean"!=typeof n&&yr(t,e,n)&&(e=n=H),n===H&&("boolean"==typeof e?(n=e,e=H):"boolean"==typeof t&&(n=t,t=H)),t===H&&e===H?(t=0,e=1):(t=gi(t),e===H?(e=t,t=0):e=gi(e)),t>e){var r=t;t=e,e=r}return n||t%1||e%1?(n=wo(),So(t+n*(e-t+Yt("1e-"+((n+"").length-1))),e)):an(t,e)},Lt.reduce=function(t,e,n){var r=Ws(t)?f:E,i=3>arguments.length;return r(t,ar(e,4),n,i,Vo)},Lt.reduceRight=function(t,e,n){var r=Ws(t)?d:E,i=3>arguments.length;return r(t,ar(e,4),n,i,Xo)},Lt.repeat=function(t,e,n){return e=(n?yr(t,e,n):e===H)?1:vi(e),un(bi(t),e)},Lt.replace=function(){var t=arguments,e=bi(t[0]);return 3>t.length?e:To.call(e,t[1],t[2])},Lt.result=function(t,e,n){e=_r(e,t)?[e]:wn(e);var r=-1,i=e.length;for(i||(t=H,i=1);++r<i;){var o=null==t?H:t[Tr(e[r])];o===H&&(r=i,o=n),t=oi(o)?o.call(t):o}return t},Lt.round=Ga,Lt.runInContext=Y,Lt.sample=function(t){t=ni(t)?t:Ci(t);var e=t.length;return e>0?t[an(0,e-1)]:H},Lt.size=function(t){if(null==t)return 0;if(ni(t)){var e=t.length;return e&&fi(t)?U(t):e}return ci(t)&&(e=Ot(t),"[object Map]"==e||"[object Set]"==e)?t.size:Ei(t).length},Lt.snakeCase=ba,Lt.some=function(t,e,n){var r=Ws(t)?p:fn;return n&&yr(t,e,n)&&(e=H),r(t,ar(e,3))},Lt.sortedIndex=function(t,e){return dn(t,e)},Lt.sortedIndexBy=function(t,e,n){return pn(t,e,ar(n,2))},Lt.sortedIndexOf=function(t,e){var n=t?t.length:0;if(n){var r=dn(t,e);if(n>r&&ti(t[r],e))return r}return-1},Lt.sortedLastIndex=function(t,e){return dn(t,e,!0)},Lt.sortedLastIndexBy=function(t,e,n){return pn(t,e,ar(n,2),!0)},Lt.sortedLastIndexOf=function(t,e){if(t&&t.length){var n=dn(t,e,!0)-1;if(ti(t[n],e))return n}return-1},Lt.startCase=xa,Lt.startsWith=function(t,e,n){return t=bi(t),n=ge(vi(n),0,t.length),e=mn(e),t.slice(n,n+e.length)==e},Lt.subtract=Ua,Lt.sum=function(t){return t&&t.length?T(t,Di):0},Lt.sumBy=function(t,e){return t&&t.length?T(t,ar(e,2)):0},Lt.template=function(t,e,n){var r=Lt.templateSettings;n&&yr(t,e,n)&&(e=H),t=bi(t),e=na({},e,r,ue),n=na({},e.imports,r.imports,ue);var i,o,s=Ei(n),a=M(n,s),u=0;n=e.interpolate||Ct;var c="__p+='";n=Yi((e.escape||Ct).source+"|"+n.source+"|"+(n===nt?mt:Ct).source+"|"+(e.evaluate||Ct).source+"|$","g");var l="sourceURL"in e?"//# sourceURL="+e.sourceURL+"\n":"";if(t.replace(n,function(e,n,r,s,a,l){return r||(r=s),c+=t.slice(u,l).replace(jt,A),n&&(i=!0,c+="'+__e("+n+")+'"),a&&(o=!0,c+="';"+a+";\n__p+='"),r&&(c+="'+((__t=("+r+"))==null?'':__t)+'"),u=l+e.length,e}),c+="';",(e=e.variable)||(c="with(obj){"+c+"}"),c=(o?c.replace(X,""):c).replace($,"$1").replace(z,"$1;"),c="function("+(e||"obj")+"){"+(e?"":"obj||(obj={});")+"var __t,__p=''"+(i?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+c+"return __p}",e=wa(function(){return Function(s,l+"return "+c).apply(H,a)}),e.source=c,ii(e))throw e;return e},Lt.times=function(t,e){if(t=vi(t),1>t||t>9007199254740991)return[];var n=4294967295,r=So(t,4294967295);for(e=ar(e),t-=4294967295,r=C(r,e);++n<t;)e(n);return r},Lt.toFinite=gi,Lt.toInteger=vi,Lt.toLength=mi,Lt.toLower=function(t){return bi(t).toLowerCase()},Lt.toNumber=yi,Lt.toSafeInteger=function(t){return ge(vi(t),-9007199254740991,9007199254740991)},Lt.toString=bi,Lt.toUpper=function(t){return bi(t).toUpperCase()},Lt.trim=function(t,e,n){return(t=bi(t))&&(n||e===H)?t.replace(ct,""):t&&(e=mn(e))?(t=t.match(At),n=e.match(At),e=D(t,n),n=I(t,n)+1,Tn(t,e,n).join("")):t},Lt.trimEnd=function(t,e,n){return(t=bi(t))&&(n||e===H)?t.replace(ht,""):t&&(e=mn(e))?(t=t.match(At),e=I(t,e.match(At))+1,Tn(t,0,e).join("")):t},Lt.trimStart=function(t,e,n){return(t=bi(t))&&(n||e===H)?t.replace(lt,""):t&&(e=mn(e))?(t=t.match(At),e=D(t,e.match(At)),Tn(t,e).join("")):t},Lt.truncate=function(t,e){var n=30,r="...";if(ui(e))var i="separator"in e?e.separator:i,n="length"in e?vi(e.length):n,r="omission"in e?mn(e.omission):r;t=bi(t);var o=t.length;if(Rt.test(t))var s=t.match(At),o=s.length;if(n>=o)return t;if(o=n-U(r),1>o)return r;if(n=s?Tn(s,0,o).join(""):t.slice(0,o),i===H)return n+r;if(s&&(o+=n.length-o),zs(i)){if(t.slice(o).search(i)){var a=n;for(i.global||(i=Yi(i.source,bi(yt.exec(i))+"g")),i.lastIndex=0;s=i.exec(a);)var u=s.index;n=n.slice(0,u===H?o:u)}}else t.indexOf(mn(i),o)!=o&&(i=n.lastIndexOf(i),i>-1&&(n=n.slice(0,i)));return n+r},Lt.unescape=function(t){return(t=bi(t))&&K.test(t)?t.replace(Q,oe):t},Lt.uniqueId=function(t){var e=++Ji;return bi(t)+e},Lt.upperCase=Sa,Lt.upperFirst=Ea,Lt.each=Yr,Lt.eachRight=Hr,Lt.first=Ar,Ai(Lt,function(){var t={};return Ce(Lt,function(e,n){Qi.call(Lt.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),Lt.VERSION="4.14.1",i("bind bindKey curry curryRight partial partialRight".split(" "),function(t){Lt[t].placeholder=Lt}),i(["drop","take"],function(t,e){Wt.prototype[t]=function(n){var r=this.__filtered__;if(r&&!e)return new Wt(this);n=n===H?1:xo(vi(n),0);var i=this.clone();return r?i.__takeCount__=So(n,i.__takeCount__):i.__views__.push({size:So(n,4294967295),type:t+(0>i.__dir__?"Right":"")}),i},Wt.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),i(["filter","map","takeWhile"],function(t,e){var n=e+1,r=1==n||3==n;Wt.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:ar(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),i(["head","last"],function(t,e){var n="take"+(e?"Right":"");Wt.prototype[t]=function(){return this[n](1).value()[0]}}),i(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Wt.prototype[t]=function(){return this.__filtered__?new Wt(this):this[n](1)}}),Wt.prototype.compact=function(){return this.filter(Di)},Wt.prototype.find=function(t){return this.filter(t).head()},Wt.prototype.findLast=function(t){return this.reverse().find(t)},Wt.prototype.invokeMap=cn(function(t,e){return"function"==typeof t?new Wt(this):this.map(function(n){return Ne(n,t,e)})}),Wt.prototype.reject=function(t){return this.filter(Zr(ar(t)))},Wt.prototype.slice=function(t,e){t=vi(t);var n=this;return n.__filtered__&&(t>0||0>e)?new Wt(n):(0>t?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==H&&(e=vi(e),n=0>e?n.dropRight(-e):n.take(e-t)),n)},Wt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wt.prototype.toArray=function(){return this.take(4294967295)},Ce(Wt.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),i=Lt[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);i&&(Lt.prototype[e]=function(){function e(t){return t=i.apply(Lt,h([t],a)),r&&f?t[0]:t}var s=this.__wrapped__,a=r?[1]:arguments,u=s instanceof Wt,c=a[0],l=u||Ws(s);l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var f=this.__chain__,d=!!this.__actions__.length,c=o&&!f,u=u&&!d;return!o&&l?(s=u?s:new Wt(this),s=t.apply(s,a),s.__actions__.push({func:Gr,args:[e],thisArg:H}),new Ut(s,f)):c&&u?t.apply(this,a):(s=this.thru(e),c?r?s.value()[0]:s.value():s)})}),i("pop push shift sort splice unshift".split(" "),function(t){var e=Wi[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Lt.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply(Ws(i)?i:[],t)}return this[n](function(n){return e.apply(Ws(n)?n:[],t)})}}),Ce(Wt.prototype,function(t,e){var n=Lt[e];if(n){var r=n.name+"";(Po[r]||(Po[r]=[])).push({name:e,func:n})}}),Po[qn(H,2).name]=[{name:"wrapper",func:H}],Wt.prototype.clone=function(){var t=new Wt(this.__wrapped__);return t.__actions__=Dn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Dn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Dn(this.__views__),t},Wt.prototype.reverse=function(){if(this.__filtered__){var t=new Wt(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},Wt.prototype.value=function(){var t,e=this.__wrapped__.value(),n=this.__dir__,r=Ws(e),i=0>n,o=r?e.length:0;t=o;for(var s=this.__views__,a=0,u=-1,c=s.length;++u<c;){var l=s[u],h=l.size;switch(l.type){case"drop":a+=h;break;case"dropRight":t-=h;break;case"take":t=So(t,a+h);break;case"takeRight":a=xo(a,t-h)}}if(t={start:a,end:t},s=t.start,a=t.end,t=a-s,i=i?a:s-1,s=this.__iteratees__,a=s.length,u=0,c=So(t,this.__takeCount__),!r||200>o||o==t&&c==t)return bn(e,this.__actions__);r=[];t:for(;t--&&c>u;){for(i+=n,o=-1,l=e[i];++o<a;){var f=s[o],h=f.type,f=f.iteratee(l);if(2==h)l=f;else if(!f){if(1==h)continue t;break t}}r[u++]=l}return r},Lt.prototype.at=Ts,Lt.prototype.chain=function(){return Br(this)},Lt.prototype.commit=function(){return new Ut(this.value(),this.__chain__)},Lt.prototype.next=function(){this.__values__===H&&(this.__values__=pi(this.value()));var t=this.__index__>=this.__values__.length,e=t?H:this.__values__[this.__index__++];return{done:t,value:e}},Lt.prototype.plant=function(t){for(var e,n=this;n instanceof Gt;){var r=Or(n);r.__index__=0,r.__values__=H,e?i.__wrapped__=r:e=r;var i=r,n=n.__wrapped__}return i.__wrapped__=t,e},Lt.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof Wt?(this.__actions__.length&&(t=new Wt(this)),t=t.reverse(),t.__actions__.push({func:Gr,args:[Nr],thisArg:H}),new Ut(t,this.__chain__)):this.thru(Nr)},Lt.prototype.toJSON=Lt.prototype.valueOf=Lt.prototype.value=function(){return bn(this.__wrapped__,this.__actions__)},Lt.prototype.first=Lt.prototype.head,ao&&(Lt.prototype[ao]=Ur),Lt}var H,W=1/0,q=NaN,V=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],X=/\b__p\+='';/g,$=/\b(__p\+=)''\+/g,z=/(__e\(.*?\)|\b__t\))\+'';/g,Q=/&(?:amp|lt|gt|quot|#39|#96);/g,J=/[&<>"'`]/g,K=RegExp(Q.source),Z=RegExp(J.source),tt=/<%-([\s\S]+?)%>/g,et=/<%([\s\S]+?)%>/g,nt=/<%=([\s\S]+?)%>/g,rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,it=/^\w*$/,ot=/^\./,st=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,at=/[\\^$.*+?()[\]{}|]/g,ut=RegExp(at.source),ct=/^\s+|\s+$/g,lt=/^\s+/,ht=/\s+$/,ft=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,dt=/\{\n\/\* \[wrapped with (.+)\] \*/,pt=/,? & /,gt=/[a-zA-Z0-9]+/g,vt=/\\(\\)?/g,mt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,_t=/^0x/i,bt=/^[-+]0x[0-9a-f]+$/i,xt=/^0b[01]+$/i,St=/^\[object .+?Constructor\]$/,Et=/^0o[0-7]+$/i,wt=/^(?:0|[1-9]\d*)$/,Tt=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Ct=/($^)/,jt=/['\n\r\u2028\u2029\\]/g,Ot="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",Mt="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Ot,Lt="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Dt=RegExp("[']","g"),It=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),At=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Lt+Ot,"g"),kt=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['](?:D|LL|M|RE|S|T|VE))?|\\d+",Mt].join("|"),"g"),Rt=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Nt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Pt="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Ft={};Ft["[object Float32Array]"]=Ft["[object Float64Array]"]=Ft["[object Int8Array]"]=Ft["[object Int16Array]"]=Ft["[object Int32Array]"]=Ft["[object Uint8Array]"]=Ft["[object Uint8ClampedArray]"]=Ft["[object Uint16Array]"]=Ft["[object Uint32Array]"]=!0,Ft["[object Arguments]"]=Ft["[object Array]"]=Ft["[object ArrayBuffer]"]=Ft["[object Boolean]"]=Ft["[object DataView]"]=Ft["[object Date]"]=Ft["[object Error]"]=Ft["[object Function]"]=Ft["[object Map]"]=Ft["[object Number]"]=Ft["[object Object]"]=Ft["[object RegExp]"]=Ft["[object Set]"]=Ft["[object String]"]=Ft["[object WeakMap]"]=!1;var Bt={};Bt["[object Arguments]"]=Bt["[object Array]"]=Bt["[object ArrayBuffer]"]=Bt["[object DataView]"]=Bt["[object Boolean]"]=Bt["[object Date]"]=Bt["[object Float32Array]"]=Bt["[object Float64Array]"]=Bt["[object Int8Array]"]=Bt["[object Int16Array]"]=Bt["[object Int32Array]"]=Bt["[object Map]"]=Bt["[object Number]"]=Bt["[object Object]"]=Bt["[object RegExp]"]=Bt["[object Set]"]=Bt["[object String]"]=Bt["[object Symbol]"]=Bt["[object Uint8Array]"]=Bt["[object Uint8ClampedArray]"]=Bt["[object Uint16Array]"]=Bt["[object Uint32Array]"]=!0,Bt["[object Error]"]=Bt["[object Function]"]=Bt["[object WeakMap]"]=!1;var Gt,Ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Yt=parseFloat,Ht=parseInt,Wt="object"==typeof global&&global&&global.Object===Object&&global,qt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Wt||qt||Function("return this")(),Xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,$t=Xt&&"object"==typeof module&&module&&!module.nodeType&&module,zt=$t&&$t.exports===Xt,Qt=zt&&Wt.h;t:{try{Gt=Qt&&Qt.f("util");break t}catch(t){}Gt=void 0}var Jt=Gt&&Gt.isArrayBuffer,Kt=Gt&&Gt.isDate,Zt=Gt&&Gt.isMap,te=Gt&&Gt.isRegExp,ee=Gt&&Gt.isSet,ne=Gt&&Gt.isTypedArray,re=S({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"}),ie=S({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),oe=S({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"}),se=Y();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Vt._=se,define(function(){return se})):$t?(($t.exports=se)._=se,Xt._=se):Vt._=se}.call(this),function(){var t,e=this,n=e.Backbone,r=[],i=r.push,o=r.slice,s=r.splice;t="undefined"!=typeof exports?exports:e.Backbone={},t.VERSION="1.0.0";var a=e._;a||"undefined"==typeof require||(a=require("underscore")),t.$=e.jQuery||e.Zepto||e.ender||e.$,t.noConflict=function(){return e.Backbone=n,this},t.emulateHTTP=!1,t.emulateJSON=!1;var u=t.Events={on:function(t,e,n){if(!l(this,"on",t,[e,n])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);return r.push({callback:e,context:n,ctx:n||this}),this},once:function(t,e,n){if(!l(this,"once",t,[e,n])||!e)return this;var r=this,i=a.once(function(){r.off(t,i),e.apply(this,arguments)});return i._callback=e,this.on(t,i,n)},off:function(t,e,n){var r,i,o,s,u,c,h,f;if(!this._events||!l(this,"off",t,[e,n]))return this;if(!t&&!e&&!n)return this._events={},this;for(s=t?[t]:a.keys(this._events),u=0,c=s.length;c>u;u++)if(t=s[u],o=this._events[t]){if(this._events[t]=r=[],e||n)for(h=0,f=o.length;f>h;h++)i=o[h],(e&&e!==i.callback&&e!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[t]}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!l(this,"trigger",t,e))return this;var n=this._events[t],r=this._events.all;return n&&h(n,e),r&&h(r,arguments),this},stopListening:function(t,e,n){var r=this._listeners;if(!r)return this;var i=!e&&!n;"object"==typeof e&&(n=this),t&&((r={})[t._listenerId]=t);for(var o in r)r[o].off(e,n,this),i&&delete this._listeners[o];return this}},c=/\s+/,l=function(t,e,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)t[e].apply(t,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var o=n.split(c),s=0,a=o.length;a>s;s++)t[e].apply(t,[o[s]].concat(r));return!1}return!0},h=function(t,e){var n,r=-1,i=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,s,a);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e)}},f={listenTo:"on",listenToOnce:"once"};a.each(f,function(t,e){u[e]=function(e,n,r){var i=this._listeners||(this._listeners={}),o=e._listenerId||(e._listenerId=a.uniqueId("l"));return i[o]=e,"object"==typeof n&&(r=this),e[t](n,r,this),this}}),u.bind=u.on,u.unbind=u.off,a.extend(t,u);var d=t.Model=function(t,e){var n,r=t||{};e||(e={}),this.cid=a.uniqueId("c"),this.attributes={},a.extend(this,a.pick(e,p)),e.parse&&(r=this.parse(r,e)||{}),(n=a.result(this,"defaults"))&&(r=a.defaults({},r,n)),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)},p=["url","urlRoot","collection"];a.extend(d.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return a.escape(this.get(t))},has:function(t){return null!=this.get(t)},set:function(t,e,n){var r,i,o,s,u,c,l,h;if(null==t)return this;if("object"==typeof t?(i=t,n=e):(i={})[t]=e,n||(n={}),!this._validate(i,n))return!1;o=n.unset,u=n.silent,s=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=a.clone(this.attributes),this.changed={}),h=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)e=i[r],a.isEqual(h[r],e)||s.push(r),a.isEqual(l[r],e)?delete this.changed[r]:this.changed[r]=e,o?delete h[r]:h[r]=e;if(!u){s.length&&(this._pending=!0);for(var f=0,d=s.length;d>f;f++)this.trigger("change:"+s[f],this,h[s[f]],n)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,a.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,a.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!a.isEmpty(this.changed):a.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?a.clone(this.changed):!1;var e,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in t)a.isEqual(r[i],e=t[i])||((n||(n={}))[i]=e);return n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=this,n=t.success;return t.success=function(r){return e.set(e.parse(r,t),t)?(n&&n(e,r,t),void e.trigger("sync",e,r,t)):!1},P(this,t),this.sync("read",this,t)},save:function(t,e,n){var r,i,o,s=this.attributes;if(null==t||"object"==typeof t?(r=t,n=e):(r={})[t]=e,r&&(!n||!n.wait)&&!this.set(r,n))return!1;if(n=a.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=a.extend({},s,r)),void 0===n.parse&&(n.parse=!0);var u=this,c=n.success;return n.success=function(t){u.attributes=s;var e=u.parse(t,n);return n.wait&&(e=a.extend(r||{},e)),a.isObject(e)&&!u.set(e,n)?!1:(c&&c(u,t,n),void u.trigger("sync",u,t,n))},P(this,n),i=this.isNew()?"create":n.patch?"patch":"update","patch"===i&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=s),o},destroy:function(t){t=t?a.clone(t):{};var e=this,n=t.success,r=function(){e.trigger("destroy",e,e.collection,t)};if(t.success=function(i){(t.wait||e.isNew())&&r(),n&&n(e,i,t),e.isNew()||e.trigger("sync",e,i,t)},this.isNew())return t.success(),!1;P(this,t);var i=this.sync("delete",this,t);return t.wait||r(),i},url:function(){var t=a.result(this,"urlRoot")||a.result(this.collection,"url")||N();return this.isNew()?t:t+("/"===t.charAt(t.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(t){return this._validate({},a.extend(t||{},{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=a.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return n?(this.trigger("invalid",this,n,a.extend(e||{},{validationError:n})),!1):!0}});var g=["keys","values","pairs","invert","pick","omit"];a.each(g,function(t){d.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.attributes),a[t].apply(a,e)}});var v=t.Collection=function(t,e){e||(e={}),e.url&&(this.url=e.url),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,a.extend({silent:!0},e))},m={add:!0,remove:!0,merge:!0},y={add:!0,merge:!1,remove:!1};a.extend(v.prototype,u,{model:d,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return t.sync.apply(this,arguments)},add:function(t,e){return this.set(t,a.defaults(e||{},y))},remove:function(t,e){t=a.isArray(t)?t.slice():[t],e||(e={});var n,r,i,o;for(n=0,r=t.length;r>n;n++)o=this.get(t[n]),o&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,e.silent||(e.index=i,o.trigger("remove",o,this,e)),this._removeReference(o));return this},set:function(t,e){e=a.defaults(e||{},m),e.parse&&(t=this.parse(t,e)),a.isArray(t)||(t=t?[t]:[]);var n,r,o,u,c,l=e.at,h=this.comparator&&null==l&&e.sort!==!1,f=a.isString(this.comparator)?this.comparator:null,d=[],p=[],g={};for(n=0,r=t.length;r>n;n++)(o=this._prepareModel(t[n],e))&&((u=this.get(o))?(e.remove&&(g[u.cid]=!0),e.merge&&(u.set(o.attributes,e),h&&!c&&u.hasChanged(f)&&(c=!0))):e.add&&(d.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(e.remove){for(n=0,r=this.length;r>n;++n)g[(o=this.models[n]).cid]||p.push(o);p.length&&this.remove(p,e)}if(d.length&&(h&&(c=!0),this.length+=d.length,null!=l?s.apply(this.models,[l,0].concat(d)):i.apply(this.models,d)),c&&this.sort({silent:!0}),e.silent)return this;for(n=0,r=d.length;r>n;n++)(o=d[n]).trigger("add",o,this,e);return c&&this.trigger("sort",this,e),this},reset:function(t,e){e||(e={});for(var n=0,r=this.models.length;r>n;n++)this._removeReference(this.models[n]);return e.previousModels=this.models,this._reset(),this.add(t,a.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),this},push:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:this.length},e)),t},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t),e},unshift:function(t,e){return t=this._prepareModel(t,e),this.add(t,a.extend({at:0},e)),t},shift:function(t){var e=this.at(0);return this.remove(e,t),e},slice:function(t,e){return this.models.slice(t,e)},get:function(t){return null==t?void 0:this._byId[null!=t.id?t.id:t.cid||t]},at:function(t){return this.models[t]},where:function(t,e){return a.isEmpty(t)?e?void 0:[]:this[e?"find":"filter"](function(e){for(var n in t)if(t[n]!==e.get(n))return!1;return!0})},findWhere:function(t){return this.where(t,!0)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return t||(t={}),a.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(a.bind(this.comparator,this)),t.silent||this.trigger("sort",this,t),this},sortedIndex:function(t,e,n){e||(e=this.comparator);var r=a.isFunction(e)?e:function(t){return t.get(e)};return a.sortedIndex(this.models,t,r,n)},pluck:function(t){return a.invoke(this.models,"get",t)},fetch:function(t){t=t?a.clone(t):{},void 0===t.parse&&(t.parse=!0);var e=t.success,n=this;return t.success=function(r){var i=t.reset?"reset":"set";n[i](r,t),e&&e(n,r,t),n.trigger("sync",n,r,t)},P(this,t),this.sync("read",this,t)},create:function(t,e){if(e=e?a.clone(e):{},!(t=this._prepareModel(t,e)))return!1;e.wait||this.add(t,e);var n=this,r=e.success;return e.success=function(i){e.wait&&n.add(t,e),r&&r(t,i,e)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(t instanceof d)return t.collection||(t.collection=this),t;e||(e={}),e.collection=this;var n=new this.model(t,e);return n._validate(t,e)?n:(this.trigger("invalid",this,t,e),!1)},_removeReference:function(t){this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){("add"!==t&&"remove"!==t||n===this)&&("destroy"===t&&this.remove(e,r),e&&t==="change:"+e.idAttribute&&(delete this._byId[e.previous(e.idAttribute)],null!=e.id&&(this._byId[e.id]=e)),this.trigger.apply(this,arguments))}});var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];a.each(_,function(t){v.prototype[t]=function(){var e=o.call(arguments);return e.unshift(this.models),a[t].apply(a,e)}});var b=["groupBy","countBy","sortBy"];a.each(b,function(t){v.prototype[t]=function(e,n){var r=a.isFunction(e)?e:function(t){return t.get(e)};return a[t](this.models,r,n)}});var x=t.View=function(t){this.cid=a.uniqueId("view"),this._configure(t||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},S=/^(\S+)\s*(.*)$/,E=["model","collection","el","id","attributes","className","tagName","events"];a.extend(x.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(t){if(!t&&!(t=a.result(this,"events")))return this;this.undelegateEvents();for(var e in t){var n=t[e];if(a.isFunction(n)||(n=this[t[e]]),n){var r=e.match(S),i=r[1],o=r[2];n=a.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(t){this.options&&(t=a.extend({},a.result(this,"options"),t)),a.extend(this,a.pick(t,E)),this.options=t},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"),!1);else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e["class"]=a.result(this,"className"));var n=t.$("<"+a.result(this,"tagName")+">").attr(e);this.setElement(n,!1)}}}),t.sync=function(e,n,r){var i=w[e];a.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=a.result(n,"url")||N()),null!=r.data||!n||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var s=r.beforeSend;r.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",i),s?s.apply(this,arguments):void 0}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=t.ajax(a.extend(o,r));return n.trigger("request",n,u,r),u};var w={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,j=/(\(\?)?:\w+/g,O=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(T.prototype,u,{initialize:function(){},route:function(e,n,r){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return t.history.route(e,function(o){var s=i._extractParameters(e,o);r&&r.apply(i,s),i.trigger.apply(i,["route:"+n].concat(s)),i.trigger("route",n,s),t.history.trigger("route",i,n,s)}),this},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var t,e=a.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(M,"\\$&").replace(C,"(?:$1)?").replace(j,function(t,e){return e?t:"([^/]+)"}).replace(O,"(.*?)"),new RegExp("^"+t+"$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return a.map(n,function(t){return t?decodeURIComponent(t):null})}});var L=t.History=function(){this.handlers=[],a.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},D=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,A=/msie [\w.]+/,k=/\/$/;L.started=!1,a.extend(L.prototype,u,{interval:50,getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(null==t)if(this._hasPushState||!this._wantsHashChange||e){t=this.location.pathname;var n=this.root.replace(k,"");t.indexOf(n)||(t=t.substr(n.length))}else t=this.getHash();return t.replace(D,"")},start:function(e){if(L.started)throw new Error("Backbone.history has already been started");L.started=!0,this.options=a.extend({},{root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,
this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=A.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);this.root=("/"+this.root+"/").replace(I,"/"),i&&this._wantsHashChange&&(this.iframe=t.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,s=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!s?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&s&&o.hash&&(this.fragment=this.getHash().replace(D,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),L.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(t){var e=this.fragment=this.getFragment(t),n=a.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0});return n},navigate:function(t,e){if(!L.started)return!1;if(e&&e!==!0||(e={trigger:e}),t=this.getFragment(t||""),this.fragment!==t){this.fragment=t;var n=this.root+t;if(this._hasPushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getFragment(this.getHash(this.iframe))&&(e.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,t,e.replace))}e.trigger&&this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),t.history=new L;var R=function(t,e){var n,r=this;n=t&&a.has(t,"constructor")?t.constructor:function(){return r.apply(this,arguments)},a.extend(n,r,e);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,t&&a.extend(n.prototype,t),n.__super__=r.prototype,n};d.extend=v.extend=T.extend=x.extend=L.extend=R;var N=function(){throw new Error('A "url" property or function must be specified')},P=function(t,e){var n=e.error;e.error=function(r){n&&n(t,r,e),t.trigger("error",t,r,e)}}}.call(this),function(t){function e(t,e){for(var n=t.length;n--;)if(t[n]===e)return n;return-1}function n(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function r(t){for(_ in x)x[_]=t[j[_]]}function i(t){var n,i,o,s,u,c;if(n=t.keyCode,-1==e(C,n)&&C.push(n),(93==n||224==n)&&(n=91),n in x){x[n]=!0;for(o in E)E[o]==n&&(a[o]=!0)}else if(r(t),a.filter.call(this,t)&&n in b)for(c=d(),s=0;s<b[n].length;s++)if(i=b[n][s],i.scope==c||"all"==i.scope){u=i.mods.length>0;for(o in x)(!x[o]&&e(i.mods,+o)>-1||x[o]&&-1==e(i.mods,+o))&&(u=!1);(0==i.mods.length&&!x[16]&&!x[18]&&!x[17]&&!x[91]||u)&&i.method(t,i)===!1&&(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble&&(t.cancelBubble=!0))}}function o(t){var n,r=t.keyCode,i=e(C,r);if(i>=0&&C.splice(i,1),(93==r||224==r)&&(r=91),r in x){x[r]=!1;for(n in E)E[n]==r&&(a[n]=!1)}}function s(){for(_ in x)x[_]=!1;for(_ in E)a[_]=!1}function a(t,e,n){var r,i;r=g(t),void 0===n&&(n=e,e="all");for(var o=0;o<r.length;o++)i=[],t=r[o].split("+"),t.length>1&&(i=v(t),t=[t[t.length-1]]),t=t[0],t=T(t),t in b||(b[t]=[]),b[t].push({shortcut:r[o],scope:e,method:n,key:r[o],mods:i})}function u(t,e){var r,i,o,s,a,u=[];for(r=g(t),s=0;s<r.length;s++){if(i=r[s].split("+"),i.length>1&&(u=v(i)),t=i[i.length-1],t=T(t),void 0===e&&(e=d()),!b[t])return;for(o=0;o<b[t].length;o++)a=b[t][o],a.scope===e&&n(a.mods,u)&&(b[t][o]={})}}function c(t){return"string"==typeof t&&(t=T(t)),-1!=e(C,t)}function l(){return C.slice(0)}function h(t){var e=(t.target||t.srcElement).tagName;return"INPUT"!=e&&"SELECT"!=e&&"TEXTAREA"!=e}function f(t){S=t||"all"}function d(){return S||"all"}function p(t){var e,n,r;for(e in b)for(n=b[e],r=0;r<n.length;)n[r].scope===t?n.splice(r,1):r++}function g(t){var e;return t=t.replace(/\s/g,""),e=t.split(","),""==e[e.length-1]&&(e[e.length-2]+=","),e}function v(t){for(var e=t.slice(0,t.length-1),n=0;n<e.length;n++)e[n]=E[e[n]];return e}function m(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(){n(window.event)})}function y(){var e=t.key;return t.key=O,e}var _,b={},x={16:!1,18:!1,17:!1,91:!1},S="all",E={"":16,shift:16,"":18,alt:18,option:18,"":17,ctrl:17,control:17,"":91,command:91},w={backspace:8,tab:9,clear:12,enter:13,"return":13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,"delete":46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},T=function(t){return w[t]||t.toUpperCase().charCodeAt(0)},C=[];for(_=1;20>_;_++)w["f"+_]=111+_;var j={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};for(_ in E)a[_]=!1;m(document,"keydown",function(t){i(t)}),m(document,"keyup",o),m(window,"focus",s);var O=t.key;t.key=a,t.key.setScope=f,t.key.getScope=d,t.key.deleteScope=p,t.key.filter=h,t.key.isPressed=c,t.key.getPressedKeyCodes=l,t.key.noConflict=y,t.key.unbind=u,"undefined"!=typeof module&&(module.exports=a)}(this),function(){"use strict";function t(t){return t=String(t),t.charAt(0).toUpperCase()+t.slice(1)}function e(t,e,n){var i={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return e&&n&&/^Win/i.test(t)&&!/^Windows Phone /i.test(t)&&(i=i[/[\d.]+$/.exec(t)])&&(t="Windows "+i),t=String(t),e&&n&&(t=t.replace(RegExp(e,"i"),n)),t=r(t.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}function n(t,e){var n=-1,r=t?t.length:0;if("number"==typeof r&&r>-1&&m>=r)for(;++n<r;)e(t[n],n,t);else i(t,e)}function r(e){return e=c(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:t(e)}function i(t,e){for(var n in t)x.call(t,n)&&e(t[n],n,t)}function o(e){return null==e?t(e):S.call(e).slice(8,-1)}function s(t,e){var n=null!=t?typeof t[e]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"==n?!!t[e]:!0)}function a(t){return String(t).replace(/([ -])(?!$)/g,"$1?")}function u(t,e){var r=null;return n(t,function(n,i){r=e(r,n,i,t)}),r}function c(t){return String(t).replace(/^ +| +$/g,"")}function l(t){function n(e){return u(e,function(e,n){return e||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(t)&&(n.label||n)})}function h(e){return u(e,function(e,n,r){return e||(n[z]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(z)]||RegExp("\\b"+a(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})}function p(e){return u(e,function(e,n){return e||RegExp("\\b"+(n.pattern||a(n))+"\\b","i").exec(t)&&(n.label||n)})}function g(n){return u(n,function(n,r){var i=r.pattern||a(r);return!n&&(n=RegExp("\\b"+i+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(n=e(n,i,r.label||r)),n})}function v(e){return u(e,function(e,n){var i=n.pattern||a(n);return!e&&(e=RegExp("\\b"+i+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+i+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+i+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(i,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=r(e[0].replace(RegExp(i,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e})}function m(e){return u(e,function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null})}function b(){return this.description||""}var x=f,E=t&&"object"==typeof t&&"String"!=o(t);E&&(x=t,t=null);var w=x.navigator||{},T=w.userAgent||"";t||(t=T);var C,j,O=E||_==d,M=E?!!w.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(S.toString()),L="Object",D=E?L:"ScriptBridgingProxyObject",I=E?L:"Environment",A=E&&x.java?"JavaPackage":o(x.java),k=E?L:"RuntimeObject",R=/\bJava/.test(A)&&x.java,N=R&&o(x.environment)==I,P=R?"a":"",F=R?"b":"",B=x.document||{},G=x.operamini||x.opera,U=y.test(U=E&&G?G["[[Class]]"]:o(G))?U:G=null,Y=t,H=[],W=null,q=t==T,V=q&&G&&"function"==typeof G.version&&G.version(),X=n([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"]),$=p(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"Edge"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Waterfox","WebPositive","Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),z=v([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),Q=h({Apple:{iPad:1,iPhone:1,iPod:1},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1}}),J=g(["Windows Phone","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);if(X&&(X=[X]),Q&&!z&&(z=v([Q])),(C=/\bGoogle TV\b/.exec(z))&&(z=C[0]),/\bSimulator\b/i.test(t)&&(z=(z?z+" ":"")+"Simulator"),"Opera Mini"==$&&/\bOPiOS\b/.test(t)&&H.push("running in Turbo/Uncompressed mode"),"IE"==$&&/\blike iPhone OS\b/.test(t)?(C=l(t.replace(/like iPhone OS/,"")),Q=C.manufacturer,z=C.product):/^iP/.test(z)?($||($="Safari"),J="iOS"+((C=/ OS ([\d_]+)/i.exec(t))?" "+C[1].replace(/_/g,"."):"")):"Konqueror"!=$||/buntu/i.test(J)?Q&&"Google"!=Q&&(/Chrome/.test($)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(z))||/\bAndroid\b/.test(J)&&/^Chrome/.test($)&&/\bVersion\//i.test(t)?($="Android Browser",J=/\bAndroid\b/.test(J)?J:"Android"):"Silk"==$?(/\bMobi/i.test(t)||(J="Android",H.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&H.unshift("accelerated")):"PaleMoon"==$&&(C=/\bFirefox\/([\d.]+)\b/.exec(t))?H.push("identifying as Firefox "+C[1]):"Firefox"==$&&(C=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(J||(J="Firefox OS"),z||(z=C[1])):!$||(C=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec($))?($&&!z&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(C+"/")+8))&&($=null),(C=z||Q||J)&&(z||Q||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(J))&&($=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(J)?J:C)+" Browser")):"Electron"==$&&(C=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&H.push("Chromium "+C):J="Kubuntu",V||(V=m(["(?:Cloud9|CriOS|CrMo|Edge|FxiOS|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$))","Version",a($),"(?:Firefox|Minefield|NetFront)"])),(C="iCab"==X&&parseFloat(V)>3&&"WebKit"||/\bOpera\b/.test($)&&(/\bOPR\b/.test(t)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(X)&&"WebKit"||!X&&/\bMSIE\b/i.test(t)&&("Mac OS"==J?"Tasman":"Trident")||"WebKit"==X&&/\bPlayStation\b(?! Vita\b)/i.test($)&&"NetFront")&&(X=[C]),"IE"==$&&(C=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?($+=" Mobile",J="Windows Phone "+(/\+$/.test(C)?C:C+".x"),H.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?($="IE Mobile",J="Windows Phone 8.x",H.unshift("desktop mode"),V||(V=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=$&&"Trident"==X&&(C=/\brv:([\d.]+)/.exec(t))&&($&&H.push("identifying as "+$+(V?" "+V:"")),$="IE",V=C[1]),q){if(s(x,"global"))if(R&&(C=R.lang.System,Y=C.getProperty("os.arch"),J=J||C.getProperty("os.name")+" "+C.getProperty("os.version")),O&&s(x,"system")&&(C=[x.system])[0]){J||(J=C[0].os||null);try{C[1]=x.require("ringo/engine").version,V=C[1].join("."),$="RingoJS"}catch(K){C[0].global.system==x.system&&($="Narwhal")}}else"object"==typeof x.process&&!x.process.browser&&(C=x.process)?"object"==typeof C.versions?"string"==typeof C.versions.electron?(H.push("Node "+C.versions.node),$="Electron",V=C.versions.electron):"string"==typeof C.versions.nw&&(H.push("Chromium "+V,"Node "+C.versions.node),$="NW.js",V=C.versions.nw):($="Node.js",Y=C.arch,J=C.platform,V=/[\d.]+/.exec(C.version),V=V?V[0]:"unknown"):N&&($="Rhino");else o(C=x.runtime)==D?($="Adobe AIR",J=C.flash.system.Capabilities.os):o(C=x.phantom)==k?($="PhantomJS",V=(C=C.version||null)&&C.major+"."+C.minor+"."+C.patch):"number"==typeof B.documentMode&&(C=/\bTrident\/(\d+)/i.exec(t))?(V=[V,B.documentMode],(C=+C[1]+4)!=V[1]&&(H.push("IE "+V[1]+" mode"),X&&(X[1]=""),V[1]=C),V="IE"==$?String(V[1].toFixed(1)):V[0]):"number"==typeof B.documentMode&&/^(?:Chrome|Firefox)\b/.test($)&&(H.push("masking as "+$+" "+V),$="IE",V="11.0",X=["Trident"],J="Windows");J=J&&r(J)}if(V&&(C=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(V)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(q&&w.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(W=/b/i.test(C)?"beta":"alpha",V=V.replace(RegExp(C+"\\+?$"),"")+("beta"==W?F:P)+(/\d+\+?/.exec(C)||"")),"Fennec"==$||"Firefox"==$&&/\b(?:Android|Firefox OS)\b/.test(J))$="Firefox Mobile";else if("Maxthon"==$&&V)V=V.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(z))"Xbox 360"==z&&(J=null),"Xbox 360"==z&&/\bIEMobile\b/.test(t)&&H.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test($)&&(!$||z||/Browser|Mobi/.test($))||"Windows CE"!=J&&!/Mobi/i.test(t))if("IE"==$&&q)try{null===x.external&&H.unshift("platform preview")}catch(K){H.unshift("embedded")}else(/\bBlackBerry\b/.test(z)||/\bBB10\b/.test(t))&&(C=(RegExp(z.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||V)?(C=[C,/BB10/.test(t)],J=(C[1]?(z=null,Q="BlackBerry"):"Device Software")+" "+C[0],V=null):this!=i&&"Wii"!=z&&(q&&G||/Opera/.test($)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==$&&/\bOS X (?:\d+\.){2,}/.test(J)||"IE"==$&&(J&&!/^Win/.test(J)&&V>5.5||/\bWindows XP\b/.test(J)&&V>8||8==V&&!/\bTrident\b/.test(t)))&&!y.test(C=l.call(i,t.replace(y,"")+";"))&&C.name&&(C="ing as "+C.name+((C=C.version)?" "+C:""),y.test($)?(/\bIE\b/.test(C)&&"Mac OS"==J&&(J=null),C="identify"+C):(C="mask"+C,$=U?r(U.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(C)&&(J=null),q||(V=null)),X=["Presto"],H.push(C));else $+=" Mobile";(C=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(C=[parseFloat(C.replace(/\.(\d)$/,".0$1")),C],"Safari"==$&&"+"==C[1].slice(-1)?($="WebKit Nightly",W="alpha",V=C[1].slice(0,-1)):(V==C[1]||V==(C[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1]))&&(V=null),C[1]=(/\bChrome\/([\d.]+)/i.exec(t)||0)[1],537.36==C[0]&&537.36==C[2]&&parseFloat(C[1])>=28&&"WebKit"==X&&(X=["Blink"]),q&&(M||C[1])?(X&&(X[1]="like Chrome"),C=C[1]||(C=C[0],530>C?1:532>C?2:532.05>C?3:533>C?4:534.03>C?5:534.07>C?6:534.1>C?7:534.13>C?8:534.16>C?9:534.24>C?10:534.3>C?11:535.01>C?12:535.02>C?"13+":535.07>C?15:535.11>C?16:535.19>C?17:536.05>C?18:536.1>C?19:537.01>C?20:537.11>C?"21+":537.13>C?23:537.18>C?24:537.24>C?25:537.36>C?26:"Blink"!=X?"27":"28")):(X&&(X[1]="like Safari"),C=C[0],C=400>C?1:500>C?2:526>C?3:533>C?4:534>C?"4+":535>C?5:537>C?6:538>C?7:601>C?8:"8"),X&&(X[1]+=" "+(C+="number"==typeof C?".x":/[.+]/.test(C)?"":"+")),"Safari"==$&&(!V||parseInt(V)>45)&&(V=C)),"Opera"==$&&(C=/\bzbov|zvav$/.exec(J))?($+=" ",H.unshift("desktop mode"),"zvav"==C?($+="Mini",V=null):$+="Mobile",J=J.replace(RegExp(" *"+C+"$"),"")):"Safari"==$&&/\bChrome\b/.exec(X&&X[1])&&(H.unshift("desktop mode"),$="Chrome Mobile",V=null,/\bOS X\b/.test(J)?(Q="Apple",J="iOS 4.3+"):J=null),V&&0==V.indexOf(C=/[\d.]+$/.exec(J))&&t.indexOf("/"+C+"-")>-1&&(J=c(J.replace(C,""))),X&&!/\b(?:Avant|Nook)\b/.test($)&&(/Browser|Lunascape|Maxthon/.test($)||"Safari"!=$&&/^iOS/.test(J)&&/\bSafari\b/.test(X[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|Web)/.test($)&&X[1])&&(C=X[X.length-1])&&H.push(C),H.length&&(H=["("+H.join("; ")+")"]),Q&&z&&z.indexOf(Q)<0&&H.push("on "+Q),z&&H.push((/^on /.test(H[H.length-1])?"":"on ")+z),J&&(C=/ ([\d.+]+)$/.exec(J),j=C&&"/"==J.charAt(J.length-C[0].length-1),J={architecture:32,family:C&&!j?J.replace(C[0],""):J,version:C?C[1]:null,toString:function(){var t=this.version;return this.family+(t&&!j?" "+t:"")+(64==this.architecture?" 64-bit":"")}}),(C=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(Y))&&!/\bi686\b/i.test(Y)?(J&&(J.architecture=64,J.family=J.family.replace(RegExp(" *"+C),"")),$&&(/\bWOW64\b/i.test(t)||q&&/\w(?:86|32)$/.test(w.cpuClass||w.platform)&&!/\bWin64; x64\b/i.test(t))&&H.unshift("32-bit")):J&&/^OS X/.test(J.family)&&"Chrome"==$&&parseFloat(V)>=39&&(J.architecture=64),t||(t=null);var Z={};return Z.description=t,Z.layout=X&&X[0],Z.manufacturer=Q,Z.name=$,Z.prerelease=W,Z.product=z,Z.ua=t,Z.version=$&&V,Z.os=J||{architecture:null,family:null,version:null,toString:function(){return"null"}},Z.parse=l,Z.toString=b,Z.version&&H.unshift(V),Z.name&&H.unshift($),J&&$&&(J!=String(J).split(" ")[0]||J!=$.split(" ")[0]&&!z)&&H.push(z?"("+J+")":"on "+J),H.length&&(Z.description=H.join(" ")),Z}var h={"function":!0,object:!0},f=h[typeof window]&&window||this,d=f,p=h[typeof exports]&&exports,g=h[typeof module]&&module&&!module.nodeType&&module,v=p&&g&&"object"==typeof global&&global;!v||v.global!==v&&v.window!==v&&v.self!==v||(f=v);var m=Math.pow(2,53)-1,y=/\bOpera/,_=this,b=Object.prototype,x=b.hasOwnProperty,S=b.toString,E=l();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(f.platform=E,define(function(){return E})):p&&g?i(E,function(t,e){p[e]=t}):f.platform=E}.call(this),function(){var t=this.createjs=this.createjs||{},t=t.PreloadJS=t.PreloadJS||{};t.version="0.3.1",t.buildDate="Thu, 09 May 2013 22:04:32 GMT"}(),this.createjs=this.createjs||{},function(){var t=function(){this.initialize()},e=t.prototype;t.initialize=function(t){t.addEventListener=e.addEventListener,t.removeEventListener=e.removeEventListener,t.removeAllEventListeners=e.removeAllEventListeners,t.hasEventListener=e.hasEventListener,t.dispatchEvent=e.dispatchEvent},e._listeners=null,e.initialize=function(){},e.addEventListener=function(t,e){var n=this._listeners;n?this.removeEventListener(t,e):n=this._listeners={};var r=n[t];return r||(r=n[t]=[]),r.push(e),e},e.removeEventListener=function(t,e){var n=this._listeners;if(n){var r=n[t];if(r)for(var i=0,o=r.length;o>i;i++)if(r[i]==e){1==o?delete n[t]:r.splice(i,1);break}}},e.removeAllEventListeners=function(t){t?this._listeners&&delete this._listeners[t]:this._listeners=null},e.dispatchEvent=function(t,e){var n=!1,r=this._listeners;if(t&&r){if("string"==typeof t&&(t={type:t}),r=r[t.type],!r)return n;t.target=e||this;for(var r=r.slice(),i=0,o=r.length;o>i;i++)var s=r[i],n=s.handleEvent?n||s.handleEvent(t):n||s(t)}return!!n},e.hasEventListener=function(t){var e=this._listeners;return!(!e||!e[t])},e.toString=function(){return"[EventDispatcher]"},createjs.EventDispatcher=t}(),this.createjs=this.createjs||{},function(){var t=function(){this.init()};t.prototype={};var e=t.prototype;t.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([\/.]*?(?:[^?]+)?\/)?((?:[^\/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.loaded=!1,e.canceled=!1,e.progress=0,e._item=null,e._basePath=null,e.onProgress=null,e.onLoadStart=null,e.onComplete=null,e.onError=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.getItem=function(){return this._item},e.init=function(){},e.load=function(){},e.close=function(){},e._sendLoadStart=function(){this._isCanceled()||(this.onLoadStart&&this.onLoadStart({target:this}),this.dispatchEvent("loadStart"),this.dispatchEvent("loadstart"))},e._sendProgress=function(t){if(!this._isCanceled()){var e=null;"number"==typeof t?(this.progress=t,e={loaded:this.progress,total:1}):(e=t,this.progress=t.loaded/t.total,(isNaN(this.progress)||this.progress==1/0)&&(this.progress=0)),e.target=this,e.type="progress",e.progress=this.progress,this.onProgress&&this.onProgress(e),this.dispatchEvent(e)}},e._sendComplete=function(){this._isCanceled()||(this.onComplete&&this.onComplete({target:this}),this.dispatchEvent("complete"))},e._sendError=function(t){this._isCanceled()||(null==t&&(t={}),t.target=this,t.type="error",this.onError&&this.onError(t),this.dispatchEvent(t))},e._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},e._parseURI=function(e){return e?e.match(t.FILE_PATTERN):null},e._formatQueryString=function(t,e){if(null==t)throw Error("You must specify data.");var n,r=[];for(n in t)r.push(n+"="+escape(t[n]));return e&&(r=r.concat(e)),r.join("&")},e.buildPath=function(t,e,n){if(null!=e){var r=this._parseURI(t);(null==r[1]||""==r[1])&&(t=e+t)}if(null==n)return t;if(e=[],r=t.indexOf("?"),-1!=r)var i=t.slice(r+1),e=e.concat(i.split("&"));return-1!=r?t.slice(0,r)+"?"+this._formatQueryString(n,e):t+"?"+this._formatQueryString(n,e)},e.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.init(t,e)},e=t.prototype=new createjs.AbstractLoader;t.LOAD_TIMEOUT=8e3,t.BINARY="binary",t.CSS="css",t.IMAGE="image",t.JAVASCRIPT="javascript",t.JSON="json",t.JSONP="jsonp",t.SOUND="sound",t.SVG="svg",t.TEXT="text",t.XML="xml",t.POST="POST",t.GET="GET",e.useXHR=!0,e.stopOnError=!1,e.maintainScriptOrder=!0,e.next=null,e.onFileLoad=null,e.onFileProgress=null,e._typeCallbacks=null,e._extensionCallbacks=null,e._loadStartWasDispatched=!1,e._maxConnections=1,e._currentlyLoadingScript=null,e._currentLoads=null,e._loadQueue=null,e._loadQueueBackup=null,e._loadItemsById=null,e._loadItemsBySrc=null,e._loadedResults=null,e._loadedRawResults=null,e._numItems=0,e._numItemsLoaded=0,e._scriptOrder=null,e._loadedScripts=null,e.init=function(t,e){this._numItems=this._numItemsLoaded=0,this._loadStartWasDispatched=this._paused=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this._basePath=e,this.setUseXHR(t)},e.setUseXHR=function(t){return this.useXHR=0!=t&&null!=window.XMLHttpRequest},e.removeAll=function(){this.remove()},e.remove=function(t){var e=null;if(!t||t instanceof Array?t&&(e=t):e=[t],t=!1,e){for(;e.length;){for(var n=e.pop(),r=this.getResult(n),i=this._loadQueue.length-1;i>=0;i--)if(o=this._loadQueue[i].getItem(),o.id==n||o.src==n){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;i>=0;i--)if(o=this._loadQueueBackup[i].getItem(),o.id==n||o.src==n){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(r)delete this._loadItemsById[r.id],delete this._loadItemsBySrc[r.src],this._disposeItem(r);else for(var i=this._currentLoads.length-1;i>=0;i--){var o=this._currentLoads[i].getItem();if(o.id==n||o.src==n){this._currentLoads.splice(i,1)[0].cancel(),t=!0;break}}}t&&this._loadNext()}else{this.close();for(n in this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.useXHR)}},e.reset=function(){this.close();for(var t in this._loadItemsById)this._disposeItem(this._loadItemsById[t]);for(t=[],i=0,l=this._loadQueueBackup.length;i<l;i++)t.push(this._loadQueueBackup[i].getItem());this.loadManifest(t,!1)},t.isBinary=function(t){switch(t){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},e.installPlugin=function(t){if(null!=t&&null!=t.getPreloadHandlers){if(t=t.getPreloadHandlers(),null!=t.types)for(var e=0,n=t.types.length;n>e;e++)this._typeCallbacks[t.types[e]]=t.callback;if(null!=t.extensions)for(e=0,n=t.extensions.length;n>e;e++)this._extensionCallbacks[t.extensions[e]]=t.callback}},e.setMaxConnections=function(t){this._maxConnections=t,!this._paused&&this._loadQueue.length>0&&this._loadNext()},e.loadFile=function(t,e,n){null==t?this._sendError({text:"PRELOAD_NO_FILE"}):(this._addItem(t,n),e!==!1?this.setPaused(!1):this.setPaused(!0))},e.loadManifest=function(t,e,n){var r=null;if(t instanceof Array){if(0==t.length)return void this._sendError({text:"PRELOAD_MANIFEST_EMPTY"});r=t}else{if(null==t)return void this._sendError({text:"PRELOAD_MANIFEST_NULL"});r=[t]}for(var t=0,i=r.length;i>t;t++)this._addItem(r[t],n);e!==!1?this.setPaused(!1):this.setPaused(!0)},e.load=function(){this.setPaused(!1)},e.getItem=function(t){return this._loadItemsById[t]||this._loadItemsBySrc[t]},e.getResult=function(t,e){var n=this._loadItemsById[t]||this._loadItemsBySrc[t];return null==n?null:(n=n.id,e&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n])},e.setPaused=function(t){(this._paused=t)||this._loadNext()},e.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},e._addItem=function(t,e){var n=this._createLoadItem(t);if(null!=n){var r=this._createLoader(n,e);null!=r&&(this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT&&r instanceof createjs.XHRLoader&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},e._createLoadItem=function(t){var e=null;switch(typeof t){case"string":e={src:t};break;case"object":e=window.HTMLAudioElement&&t instanceof HTMLAudioElement?{tag:t,src:e.tag.src,type:createjs.LoadQueue.SOUND}:t}if(t=this._parseURI(e.src),null!=t&&(e.ext=t[5]),null==e.type&&(e.type=this._getTypeByExtension(e.ext)),e.type==createjs.LoadQueue.JSON&&null!=e.callback&&(e.type=createjs.LoadQueue.JSONP),e.type==createjs.LoadQueue.JSONP&&null==e.callback)throw Error("callback is required for loading JSONP requests.");if(null==e.tag&&(e.tag=this._createTag(e.type)),(null==e.id||""==e.id)&&(e.id=e.src),t=this._typeCallbacks[e.type]||this._extensionCallbacks[e.ext]){if(t=t(e.src,e.type,e.id,e.data),t===!1)return null;t!==!0&&(null!=t.src&&(e.src=t.src),null!=t.id&&(e.id=t.id),null!=t.tag&&t.tag.load instanceof Function&&(e.tag=t.tag),null!=t.completeHandler&&(e.completeHandler=t.completeHandler)),t.type&&(e.type=t.type),t=this._parseURI(e.src),null!=t&&null!=t[5]&&(e.ext=t[5].toLowerCase())}return this._loadItemsById[e.id]=e,this._loadItemsBySrc[e.src]=e},e._createLoader=function(t,e){var n=this.useXHR;switch(t.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:n=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:n=!1}return null==e&&(e=this._basePath),n?new createjs.XHRLoader(t,e):new createjs.TagLoader(t,e)},e._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded&&(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load());for(var t=0,e=this._loadQueue.length;e>t&&!(this._currentLoads.length>=this._maxConnections);t++){var n=this._loadQueue[t];if(this.maintainScriptOrder&&n instanceof createjs.TagLoader&&n.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(t,1),t--,e--,this._loadItem(n)}}},e._loadItem=function(t){t.addEventListener("progress",createjs.proxy(this._handleProgress,this)),t.addEventListener("complete",createjs.proxy(this._handleFileComplete,this)),t.addEventListener("error",createjs.proxy(this._handleFileError,this)),this._currentLoads.push(t),this._sendFileStart(t.getItem()),t.load()},e._handleFileError=function(t){var e=t.target;this._numItemsLoaded++,this._updateProgress(),t={item:e.getItem()},this._sendError(t),this.stopOnError||(this._removeLoadItem(e),this._loadNext())},e._handleFileComplete=function(t){var t=t.target,e=t.getItem();if(this._loadedResults[e.id]=t.getResult(),t instanceof createjs.XHRLoader&&(this._loadedRawResults[e.id]=t.getResult(!0)),this._removeLoadItem(t),this.maintainScriptOrder&&e.type==createjs.LoadQueue.JAVASCRIPT){if(!(t instanceof createjs.TagLoader))return this._loadedScripts[this._scriptOrder.indexOf(e)]=e,void this._checkScriptLoadOrder(t);this._currentlyLoadingScript=!1}this._processFinishedLoad(e,t)},e._processFinishedLoad=function(t,e){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(t,e),this._loadNext()},e._checkScriptLoadOrder=function(){for(var t=this._loadedScripts.length,e=0;t>e;e++){var n=this._loadedScripts[e];if(null===n)break;n!==!0&&(this._processFinishedLoad(n),this._loadedScripts[e]=!0,e--,t--)}},e._removeLoadItem=function(t){for(var e=this._currentLoads.length,n=0;e>n;n++)if(this._currentLoads[n]==t){this._currentLoads.splice(n,1);break}},e._handleProgress=function(t){t=t.target,this._sendFileProgress(t.getItem(),t.progress),this._updateProgress()},e._updateProgress=function(){var t=this._numItemsLoaded/this._numItems,e=this._numItems-this._numItemsLoaded;if(e>0){for(var n=0,r=0,i=this._currentLoads.length;i>r;r++)n+=this._currentLoads[r].progress;t+=n/e*(e/this._numItems)}this._sendProgress(t)},e._disposeItem=function(t){delete this._loadedResults[t.id],delete this._loadedRawResults[t.id],delete this._loadItemsById[t.id],delete this._loadItemsBySrc[t.src]},e._createTag=function(t){var e=null;switch(t){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return e=document.createElement("audio"),e.autoplay=!1,e;case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:return e=document.createElement("script"),e.type="text/javascript",e;case createjs.LoadQueue.CSS:return e=this.useXHR?document.createElement("style"):document.createElement("link"),e.rel="stylesheet",e.type="text/css",e;case createjs.LoadQueue.SVG:return this.useXHR?e=document.createElement("svg"):(e=document.createElement("object"),
e.type="image/svg+xml"),e}return null},e._getTypeByExtension=function(t){switch(t.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},e._sendFileProgress=function(t,e){if(this._isCanceled())this._cleanUp();else{var n={target:this,type:"fileprogress",progress:e,loaded:e,total:1,item:t};this.onFileProgress&&this.onFileProgress(n),this.dispatchEvent(n)}},e._sendFileComplete=function(t,e){if(!this._isCanceled()){var n={target:this,type:"fileload",loader:e,item:t,result:this._loadedResults[t.id],rawResult:this._loadedRawResults[t.id]};t.completeHandler&&t.completeHandler(n),this.onFileLoad&&this.onFileLoad(n),this.dispatchEvent(n)}},e._sendFileStart=function(t){this.dispatchEvent({target:this,type:"filestart",item:t})},e.toString=function(){return"[PreloadJS LoadQueue]"},t.proxy=function(t,e){return function(){return t.apply(e,arguments)}},createjs.LoadQueue=t,createjs.proxy||(createjs.proxy=function(t,e){var n=Array.prototype.slice.call(arguments,2);return function(){return t.apply(e,Array.prototype.slice.call(arguments,0).concat(n))}});var n=function(){};n.init=function(){var t=navigator.userAgent;n.isFirefox=t.indexOf("Firefox")>-1,n.isOpera=null!=window.opera,n.isChrome=t.indexOf("Chrome")>-1,n.isIOS=t.indexOf("iPod")>-1||t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1},n.init(),createjs.LoadQueue.BrowserDetect=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(t){if(null==this)throw new TypeError;var e=Object(this),n=e.length>>>0;if(0===n)return-1;var r=0;if(arguments.length>1&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&r!=1/0&&r!=-(1/0)&&(r=(r>0||-1)*Math.floor(Math.abs(r)))),r>=n)return-1;for(r=r>=0?r:Math.max(n-Math.abs(r),0);n>r;r++)if(r in e&&e[r]===t)return r;return-1})}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.init(t,e)},e=t.prototype=new createjs.AbstractLoader;e._loadTimeout=null,e._tagCompleteProxy=null,e._isAudio=!1,e._tag=null,e._jsonResult=null,e.init=function(t,e){this._item=t,this._basePath=e,this._tag=t.tag,this._isAudio=window.HTMLAudioElement&&t.tag instanceof HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},e.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP?this._jsonResult:this._tag},e.cancel=function(){this.canceled=!0,this._clean(),this.getItem()},e.load=function(){var t=this._item,e=this._tag;clearTimeout(this._loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT),this._isAudio&&(e.src=null,e.preload="auto"),e.onerror=createjs.proxy(this._handleError,this),this._isAudio?(e.onstalled=createjs.proxy(this._handleStalled,this),e.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(e.onload=createjs.proxy(this._handleLoad,this),e.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var n=this.buildPath(t.src,this._basePath,t.values);switch(t.type){case createjs.LoadQueue.CSS:e.href=n;break;case createjs.LoadQueue.SVG:e.data=n;break;default:e.src=n}if(t.type==createjs.LoadQueue.JSONP){if(null==t.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[t.callback])throw Error('JSONP callback "'+t.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[t.callback]=createjs.proxy(this._handleJSONPLoad,this)}(t.type==createjs.LoadQueue.SVG||t.type==createjs.LoadQueue.JSONP||t.type==createjs.LoadQueue.JSON||t.type==createjs.LoadQueue.JAVASCRIPT||t.type==createjs.LoadQueue.CSS)&&(this._startTagVisibility=e.style.visibility,e.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(e)),null!=e.load&&e.load()},e._handleJSONPLoad=function(t){this._jsonResult=t},e._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},e._handleStalled=function(){},e._handleError=function(){this._clean(),this._sendError()},e._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var t=this.getItem().tag;("loaded"==t.readyState||"complete"==t.readyState)&&this._handleLoad()},e._handleLoad=function(){if(!this._isCanceled()){var t=this.getItem(),e=t.tag;if(!(this.loaded||this.isAudio&&4!==e.readyState)){switch(this.loaded=!0,t.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSONP:e.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(e)}this._clean(),this._sendComplete()}}},e._clean=function(){clearTimeout(this._loadTimeout);var t=this.getItem().tag;t.onload=null,t.removeEventListener&&t.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),t.onstalled=null,t.onprogress=null,t.onerror=null,t.parentNode&&t.parentNode.removeChild(t),t=this.getItem(),t.type==createjs.LoadQueue.JSONP&&(window[t.callback]=null)},e.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=t}(),this.createjs=this.createjs||{},function(){var t=function(t,e){this.init(t,e)},e=t.prototype=new createjs.AbstractLoader;e._request=null,e._loadTimeout=null,e._xhrLevel=1,e._response=null,e._rawResponse=null,e.init=function(t,e){this._item=t,this._basePath=e,this._createXHR(t)},e.getResult=function(t){return t&&this._rawResponse?this._rawResponse:this._response},e.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},e.load=function(){if(null==this._request)this._handleError();else{this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT)),this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(t){this._sendError({source:t})}}},e.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},e.getResponseHeader=function(t){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(t):null},e._handleProgress=function(t){t.loaded>0&&0==t.total||this._sendProgress({loaded:t.loaded,total:t.total})},e._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},e._handleAbort=function(){this._clean(),this._sendError()},e._handleError=function(){this._clean(),this._sendError()},e._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},e._handleLoad=function(){this.loaded||(this.loaded=!0,this._checkError()?(this._response=this._getResponse(),this._clean(),this._generateTag()&&this._sendComplete()):this._handleError())},e._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},e._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0},e._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(t){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(e){}return null},e._createXHR=function(t){var e=document.createElement("a");e.href=this.buildPath(t.src,this._basePath);var n=document.createElement("a");if(n.href=location.href,e=""!=e.hostname&&(e.port!=n.port||e.protocol!=n.protocol||e.hostname!=n.hostname),n=null,e&&window.XDomainRequest)n=new XDomainRequest;else if(window.XMLHttpRequest)n=new XMLHttpRequest;else try{n=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){try{n=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(i){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(o){return!1}}}t.type==createjs.LoadQueue.TEXT&&n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),this._xhrLevel="string"==typeof n.responseType?2:1;var s=null,s=t.method==createjs.LoadQueue.GET?this.buildPath(t.src,this._basePath,t.values):this.buildPath(t.src,this._basePath);return n.open(t.method||createjs.LoadQueue.GET,s,!0),e&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&n.setRequestHeader("Origin",location.origin),t.values&&t.method==createjs.LoadQueue.POST&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(t.type)&&(n.responseType="arraybuffer"),this._request=n,!0},e._clean=function(){clearTimeout(this._loadTimeout);var t=this._request;t.onloadstart=null,t.onprogress=null,t.onabort=null,t.onerror=null,t.onload=null,t.ontimeout=null,t.onloadend=null,t.onreadystatechange=null},e._generateTag=function(){var t=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return t.onload=createjs.proxy(this._handleTagReady,this),t.src=this.buildPath(this._item.src,this._basePath,this._item.values),this._rawResponse=this._response,this._response=t,!1;case createjs.LoadQueue.JAVASCRIPT:t=document.createElement("script"),this._rawResponse=t.text=this._response,this._response=t;break;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.cssText=this._response;else{var e=document.createTextNode(this._response);t.appendChild(e)}this._rawResponse=this._response,this._response=t;break;case createjs.LoadQueue.XML:this._response=e=this._parseXML(this._response,"text/xml");break;case createjs.LoadQueue.SVG:e=this._parseXML(this._response,"image/svg+xml"),this._rawResponse=this._response,null!=e.documentElement?(t.appendChild(e.documentElement),this._response=t):this._response=e;break;case createjs.LoadQueue.JSON:t={};try{t=JSON.parse(this._response)}catch(n){t=n}this._rawResponse=this._response,this._response=t}return!0},e._parseXML=function(t,e){var n=null;return window.DOMParser?n=(new DOMParser).parseFromString(t,e):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(t)),n},e._handleTagReady=function(){this._sendComplete()},e.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=t}(),"object"!=typeof JSON&&(JSON={}),function(){function c(t){return 10>t?"0"+t:t}function a(t){return e.lastIndex=0,e.test(t)?'"'+t.replace(e,function(t){var e=o[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function d(t,e){var n,r,i,o,s,u=j,c=e[t];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(t)),"function"==typeof h&&(c=h.call(e,t,c)),typeof c){case"string":return a(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(j+=f,s=[],"[object Array]"===Object.prototype.toString.apply(c)){for(o=c.length,n=0;o>n;n+=1)s[n]=d(n,c)||"null";return i=0===s.length?"[]":j?"[\n"+j+s.join(",\n"+j)+"\n"+u+"]":"["+s.join(",")+"]",j=u,i}if(h&&"object"==typeof h)for(o=h.length,n=0;o>n;n+=1)"string"==typeof h[n]&&(r=h[n],(i=d(r,c))&&s.push(a(r)+(j?": ":":")+i));else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(i=d(r,c))&&s.push(a(r)+(j?": ":":")+i);return i=0===s.length?"{}":j?"{\n"+j+s.join(",\n"+j)+"\n"+u+"}":"{"+s.join(",")+"}",j=u,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!=typeof JSON.stringify&&(JSON.stringify=function(t,e,n){var r;if(f=j="","number"==typeof n)for(r=0;n>r;r+=1)f+=" ";else"string"==typeof n&&(f=n);if((h=e)&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw Error("JSON.stringify");return d("",{"":t})}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,c){function d(t,e){var n,r,i=t[e];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=d(i,n),void 0!==r?i[n]=r:delete i[n]);return c.call(t,e,i)}var e,a=String(a);if(b.lastIndex=0,b.test(a)&&(a=a.replace(b,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof c?d({"":e},""):e;throw new SyntaxError("JSON.parse")})}();var componentIdRepository=function(){var t=this;return t.nextId=1,t.getNextId=function(){var e=t.nextId;return t.nextId++,e},t}(),component=function(t){var e={};return e.id=componentIdRepository.getNextId(),e.componentType=t,e},componentTypeEnum=Object.freeze({VIEW:"view",BOUNDS:"bounds",GRID:"grid",CELL:"cell",TEXT:"text",SCORE:"score"}),viewComponent=function(t,e,n){var r=component(componentTypeEnum.VIEW);return r.init=t,r.render=e,r.remove=n,r},boundsComponent=function(t){var e=component(componentTypeEnum.BOUNDS);t||(t={x:0,y:0,width:100,height:100});var n={x:0,y:0,width:100,height:100};return e.relative=t,e.absolute=n,e.originalRelative=_.cloneDeep(t),e},gridComponent=function(t){var e=component(componentTypeEnum.GRID);return e.grid=t||[],e.cursor={cells:[]},e},cellComponent=function(t,e,n){var r=component(componentTypeEnum.CELL);return r.i=t,r.j=e,r.digit=n,r},textComponent=function(t,e){var n=component(componentTypeEnum.TEXT);return n.i=t,n.text=e,n},scoreComponent=function(){var t=component(componentTypeEnum.SCORE);return t.score=0,t},entityComponentSystem=function(){var t={};t.entities=[];var e=function(t,n){_.forEach(t,function(t){if(t){var r=n(t);r&&e(t.subEntities,n)}})},n=function(n){e(t.entities,n)},r=function(t,e){n(function(n){return n.hasRequiredComponents(t)&&e(n),!0})},i=function(t,e){var r=!0;n(function(n){return n.hasRequiredComponents(t)&&(e(n),r=!1),r})},o=function(e,r){if(!e)return void t.entities.push(r);var i=!0;n(function(t){return t.name===e&&(r.parent=t,t.subEntities.push(r),i=!1),i})},s=function(t,e){_.forEach(e,function(e){o(t,e)})},a=function(t){n(function(e){return _.remove(e.subEntities,function(e){return e.name===t}),!0})},u=function(t){var e=_(t).map(function(t){return t.id}).keyBy().mapValues(function(){return!0}).value();n(function(t){return _.remove(t.subEntities,function(t){return e[t.id]===!0}),!0})};return{runSystem:r,runSystemOnce:i,addEntity:o,addEntities:s,removeEntities:a,removeEntitiesById:u}},entityIdRepository=function(){var t=this;return t.nextId=1,t.getNextId=function(){var e=t.nextId;return t.nextId++,e},t}(),entity=function(t,e,n){var r={};r.name=t,r.id=entityIdRepository.getNextId(),r.components={},r.subEntities=n||[],_.forEach(e,function(t){r.components[t.componentType]=t,t.parentEntity=r}),_.forEach(r.subEntities,function(t){t.parent=r});var i=function(){return _.keys(r.components)},o=function(t){return _.intersection(t,i()).length===t.length};return r.getComponentNames=i,r.hasRequiredComponents=o,r},backgroundEntityFactory=function(){var t=boundsComponent({x:0,y:0,width:100,height:100}),e=[coverViewComponent(),t],n=entity("cover",e),r=config.isVerticalLayout?100:50,i=config.isVerticalLayout?55:100,o=config.isVerticalLayout?45:0,s=boundsComponent({x:0,y:o,width:r,height:i}),a=[gridBackgroundViewComponent(),s],u=entity("grid_background",a),c=boundsComponent({x:50,y:o,width:r,height:i}),l=[gridBackgroundViewComponent(),c],h=entity("right_page_background",l),f=config.isVerticalLayout?0:50,d=boundsComponent({x:f,y:0,width:r,height:15}),p=[titleViewComponent(),d],g=entity("title",p),v=boundsComponent({x:f,y:15,width:r,height:25}),m=[menuViewComponent(),v],y=entity("menu",m),_=boundsComponent({x:f,y:40,width:r,height:5}),b=[scoreViewComponent(),_,scoreComponent()],x=entity("score",b),S=boundsComponent({x:f-5,y:0,width:5}),E=[bindingsViewComponent(),S],w=entity("bindings",E),T=boundsComponent({x:f,y:0,width:50,height:50}),C=[endpaperViewComponent(),T],j=entity("endpaper",C),O=[n,u];config.isVerticalLayout||(O.push(h),O.push(j),O.push(w)),O.push(g),O.push(y),O.push(x);var M=[backgroundViewComponent(),boundsComponent()],L=entity("background_view",M,O);return L},classicEntityFactory=function(t){var e=t.loadGrid();if(e)eventManager.vent.trigger("SYSTEM:SCORE:LOAD"),eventManager.vent.trigger("SYSTEM:LEVEL:LOAD"),eventManager.vent.trigger("SYSTEM:TIMER:LOAD");else{var n=eventManager.vent.trigger("SYSTEM:LEVEL:GET_LEVEL");e=n.grid,t.saveGrid(e),eventManager.vent.trigger("SYSTEM:SCORE:RESET"),eventManager.vent.trigger("SYSTEM:TIMER:RESET"),n.timer&&eventManager.vent.trigger("SYSTEM:TIMER:SET",n.timer,"SYSTEM:LOGIC:TIMER_EXPIRED")}var r=gridComponent(e),i=boundsComponent(),o=gridEntityFactory(r),s=cursorEntityFactory(r),a=refillGridEntityFactory();return entity("classic",[i],[o,a,s])},cursorEntityFactory=function(t){var e=cursorViewComponentFactory();return entity("cursor",[e,t])},gridEntityFactory=function(t){var e={x:5,y:5,width:50,height:100},n=boundsComponent(e),r=[t,n];return entity("grid",r)},refillGridEntityFactory=function(){var t=refillGridViewComponentFactory(),e=boundsComponent();return e.relative.x=0,e.relative.width=100,e.relative.height=100/config.numRows,entity("refill_grid",[t,e])},tutorialEntityFactory=function(t){var e=gridComponent(),n=boundsComponent(),r=gridEntityFactory(e),i=cursorEntityFactory(e);return entity("tutorial",[n],[r,i])},boundsSystem=function(t,e){var n={};n.background={relative:{height:100}};var r=function(){var t=$("#canvas").width(),e=$("#canvas").height(),n={absolute:{x:0,y:0,width:t,height:e}};return n},i=function(){t.runSystem([componentTypeEnum.BOUNDS],function(t){var i=t.components[componentTypeEnum.BOUNDS],o=r(),s=t.parent?t.parent.components[componentTypeEnum.BOUNDS]:o,a=Math.floor(o.absolute.height*(n.background.relative.height/100));n.background.absolute={height:a},i.background=n.background,i.absolute.width=Math.floor(i.relative.width/100*s.absolute.width),i.absolute.height=Math.floor(i.relative.height/100*s.absolute.height),i.absolute.x=Math.floor(i.relative.x/100*s.absolute.width+s.absolute.x),i.absolute.y=Math.floor(i.relative.y/100*s.absolute.height+s.absolute.y),n.previousHeightBeyoundBounds=n.heightBeyondBounds,n.heightBeyondBounds=n.background.absolute.height-o.absolute.height,n.previousHeightBeyoundBounds!==n.heightBeyondBounds&&e.vent.trigger("SYSTEM:SCROLL:HEIGHT_BEYOND_BOUNDS",n.heightBeyondBounds),config.gizmoSystemEnabled&&e.vent.trigger("SYSTEM:GIZMO:UPDATE",t)}),e.vent.trigger("SYSTEM:RENDER:RENDER")},o=function(e,n,r){t.runSystem([componentTypeEnum.BOUNDS],function(t){if(t.name===e){var i=t.components[componentTypeEnum.BOUNDS];n&&(i.relative.x=n),r&&(i.relative.y=r)}})},s=function(t,e){if(t>100){var r=100-e,i=t*(e/100);n.background.relative.height=r+i}},a=function(){e.vent.on("SYSTEM:BOUNDS:UPDATE",i),$(window).resize(function(){setTimeout(i,50)})},u=function(){e.vent.on("SYSTEM:BOUNDS:START",a),e.vent.on("SYSTEM:BOUNDS:MOVE",o),e.vent.on("SYSTEM:BOUNDS:UPDATE_MAX_HEIGHT",s)};u()},cellUtilFactory=function(){var t={},e=function(t,e){return t.i==e.i&&t.j==e.j},n=function(t,e){if(t.i<=e.i){if(t.i<e.i)return!0;if(t.j<e.j)return!0}return!1};return t.equals=e,t.isBefore=n,t},cursorSystem=function(t,e,n,r){var i={};i.maxLength=2,i.states={speed:"SPEED",select:"SELECT"};var o=function(t,e,n){if(0===t[n.i][n.j])return!1;for(var i=0;i<e.cells.length;i++)if(r.equals(n,e.cells[i]))return!1;return!0},s=function(t){return t.cells.length===i.maxLength},a=function(t,n,r){o(t,n,r)&&(n.state||(n.state=i.states.speed),n.state===i.states.speed?(n.cells.push(r),n.cells.length>i.maxLength&&n.cells.shift()):n.cells[1]=r,e.vent.trigger("VIEWSYSTEM:CURSOR:UPDATED"))},u=function(t,r,o){"undefined"!=typeof o&&a(t,r,o),console.log("cells:");for(var u=0;u<r.cells.length;u++)console.log("cell i:"+r.cells[u].i+" j:"+r.cells[u].j);var c=!1;s(r)&&(c=n.check(t,r.cells[0],r.cells[1])),console.log("Valid move:"+c),r.state||(r.state=i.states.speed),c?(e.vent.trigger("SYSTEM:LOGIC:MAKE_MOVE",r.cells[0],r.cells[1]),r.cells=[],r.state=i.states.speed):o&&r.state===i.states.speed&&0!=o.digit?(r.cells=[o],r.state=i.states.select):r.state=i.states.speed,e.vent.trigger("VIEWSYSTEM:CURSOR:UPDATED")},c=function(t){t.cells=[],t.state=i.states.speed,e.vent.trigger("VIEWSYSTEM:CURSOR:UPDATED")},l=function(e){t.runSystem([componentTypeEnum.GRID],function(t){var e=t.components[componentTypeEnum.GRID],n=e.cursor;c(n)})},h=function(e){var n={};t.runSystemOnce([componentTypeEnum.GRID],function(t){var r=t.components[componentTypeEnum.GRID],i=r.grid,o=r.cursor;n[i.id]!==!0&&(n[i.id]=!0,a(i,o,e))})},f=function(e){var n={};t.runSystemOnce([componentTypeEnum.GRID],function(t){var r=t.components[componentTypeEnum.GRID],i=r.grid,o=r.cursor;n[i.id]!==!0&&(n[i.id]=!0,u(i,o,e))})},d=function(){e.vent.on("SYSTEM:CURSOR:CHECK",f),e.vent.on("SYSTEM:CURSOR:ADD",h),e.vent.on("SYSTEM:CURSOR:RESET",l)};d()},gizmoSystem=function(t,e){var n={},r=function(t,e){var r=e.components[componentTypeEnum.VIEW].id;n.renderSystem=t,i(e),console.log("Gizmo drawn for entity: "+e.name+" with id: "+r)},i=function(t){var e=t.components[componentTypeEnum.VIEW],r=t.components[componentTypeEnum.BOUNDS];if(r&&e&&n.renderSystem){e.gizmo&&n.renderSystem.stage.removeChild(e.gizmo);var i=new createjs.Graphics;i.setStrokeStyle(1),i.beginStroke("black"),i.moveTo(r.absolute.x,r.absolute.y),i.lineTo(r.absolute.x+r.absolute.width,r.absolute.y),i.lineTo(r.absolute.x+r.absolute.width,r.absolute.y+r.absolute.height),i.lineTo(r.absolute.x,r.absolute.y+r.absolute.height),i.lineTo(r.absolute.x,r.absolute.y);var o=new createjs.Shape(i);e.gizmo=o,n.renderSystem.stage.addChild(o),n.renderSystem.stage.setChildIndex(o,n.renderSystem.stage.getNumChildren()-1)}},o=function(){e.vent.on("SYSTEM:GIZMO:INIT",r),e.vent.on("SYSTEM:GIZMO:UPDATE",i)};o()},gridUtilFactory=function(t){var e={},n=function(t,e,n){var r=config.numColumns+1,i=t[e.i][e.j],o=t[n.i][n.j];return i==o||i+o==r?!0:!1},r=function(t,e,n){var r=e,i=n;if(n.i<e.i&&(r=n,i=e),r.j!=i.j)return!1;for(var o=r.i+1;o<i.i;o++){var s=r.j;if(console.log("Horizontal:"+t[o][s]),t[o][s]>0)return!1}return!0},i=function(e,n,r){var i=n,o=r;t.isBefore(r,n)&&(i=r,o=n);var s=_.clone(i);if(t.equals(s,o))return!1;for(s.j++;t.isBefore(s,o);){if(e[s.i][s.j]>0)return!1;s.j++,s.j>=e[0].length&&(s.i++,s.j=0)}return!0},o=function(t,e,o){var s=n(t,e,o),a=r(t,e,o),u=i(t,e,o),c=a||u;return s&&c},s=function(t){for(var e=[],n=0,r=0;r<t.length;r++)if(Array.isArray(t[r]))for(var i=0;i<t[r].length;i++){var o=t[r][i];o>0&&e.push(o),n+=1}for(var s=0,a=0,r=t.length-1;r>=0;r--)if(Array.isArray(t[r]))for(var i=t[r].length;i>=0;i--){var u=t[r][i];u>0&&(a=i+1,s=r,r=-1,i=-1)}for(r=0;r<e.length;r++)u=e[r],a==config.numColumns?(s+=1,a=0,t[s]=[u]):t[s][a]=u,a+=1;var c={type:moveTypes.REFILL_GRID,cellsCount:e.length};eventManager.vent.trigger("SYSTEM:UNDO:ADD",c)},a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))for(var n=0;n<t[e].length;n++){var r=t[e][n];if(r>0)return!1}return!0},u=function(t,e,n){for(var e=_.clone(e),n=_.clone(n),r=[e,n],i={},o=0;o<r.length;o++){var s=r[o].i,a=r[o].j;r[o].digit=t[s][a],t[s][a]=0,i[s]=!0}var u={type:moveTypes.MAKE_MOVE,firstCell:e,secondCell:n};eventManager.vent.trigger("SYSTEM:UNDO:ADD",u),c(t,i)},c=function(t,e){_.forEach(_.keys(e),function(e){l(t,e)})},l=function(t,e){var n=t[e];if(Array.isArray(n)){var r=_.every(n,function(t){return 0===t});if(r){t[e]=[],eventManager.vent.trigger("SYSTEM:SCORE:ADD",10);var i={type:moveTypes.CLEAR_LINE,index:e};return eventManager.vent.trigger("SYSTEM:UNDO:ADD",i),!0}}return!1},h=function(t){return _(t).map(function(t){return!Array.isArray(t)}).some()},f=function(t){return t?void(h(t)||localStorage.setItem("grid",JSON.stringify(t))):void localStorage.removeItem("grid")};e.savedGridLoaded=!1;var d=function(){if(e.savedGridLoaded)return null;var t=localStorage.getItem("grid");return t&&(t=JSON.parse(t)),e.savedGridLoaded=!0,t},p=function(t,e){var n=e.firstCell,r=e.secondCell;t[n.i][n.j]=n.digit,t[r.i][r.j]=r.digit},g=function(t,e){for(var n=e.cellsCount;n>0;){var r=t[t.length-1],i=r.length;r.length<=n?t.length=t.length-1:(r.length=r.length-n,i=n),n-=i}},v=function(t,e){var n=_.times(9,function(){return 0});t.splice(e.index,1,n),eventManager.vent.trigger("SYSTEM:SCORE:ADD",-10)};return e.makeMove=u,e.refillGrid=s,e.check=o,e.checkCompleted=a,e.saveGrid=f,e.loadGrid=d,e.undoMakeMove=p,e.undoRefillGrid=g,e.undoClearLine=v,e},leaderboardSystem=function(t){var e={};e.isLoggedIn=!1;var n=function(t,e){if(window.webkit&&window.webkit.messageHandlers){var t={event:t,params:e};window.webkit.messageHandlers.swift.postMessage(t)}},r=function(){console.log("Log in"),window.AppInterface&&window.AppInterface.logIn()},i=function(){console.log("Open leaderboards"),window.AppInterface&&window.AppInterface.isSignedIn()&&window.AppInterface.openLeaderboards(),n("SYSTEM:SWIFT:OPEN_LEADERBOARDS")},o=function(){var r="tutorial"===t.vent.trigger("SYSTEM:MODE:GET").mode;if(!r&&e.isLoggedIn){var i=t.vent.trigger("SYSTEM:SCORE:GET").score;window.AppInterface&&window.AppInterface.isSignedIn()&&window.AppInterface.updateLeaderboards(i),n("SYSTEM:SWIFT:UPDATE_LEADERBOARDS",i)}},s=function(){e.isLoggedIn=!0,t.vent.trigger("SYSTEM:BOUNDS:UPDATE")},a=function(){e.isLoggedIn=!1,t.vent.trigger("SYSTEM:BOUNDS:UPDATE")},u=function(){window.AppInterface&&(window.AppInterface.isSignedIn()?e.isLoggedIn=!0:e.isLoggedIn=!1),n("SYSTEM:SWIFT:CHECK_LOGIN"),console.log("Log in state set to: "+e.isLoggedIn)};u();var c=function(){this.isLoggedIn=e.isLoggedIn},l=function(){t.vent.on("SYSTEM:LEADERBOARDS:OPEN_LEADERBOARDS",i),t.vent.on("SYSTEM:LEADERBOARDS:LOG_IN",r),t.vent.on("SYSTEM:LEADERBOARDS:GET_IS_LOGGED_IN",c),t.vent.on("SYSTEM:LEADERBOARDS:LOGGED_IN",s),t.vent.on("SYSTEM:LEADERBOARDS:LOGGED_OUT",a),t.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",o)};l()},levelSystem=function(t){var e=this;e.currentLevel=1,e.currentUnlockedLevel=1,e.nextLevel=1;var n=function(){for(var t=[[],[],[]],e=t[0],n=t[1],r=t[2],i=1;i<=config.numColumns;i++)e[i-1]=i,i%2==1?n[i-1]=1:n[i-1]=i/2,config.numColumns%2==1?i%2==1?r[i-1]=i/2+(config.numColumns/2+1)-1:r[i-1]=1:i%2==1?r[i-1]=1:r[i-1]=i/2+(config.numColumns/2+1)-1;return t};e.levels=[{grid:[[8,2,9,7,7,1,3,8,1],[9,2,8,1,5,5,7,8,1]]},{grid:[[1,9,5,1,5,1,1,9,5],[5,9,1,5,9,1,5,5,1]]},{grid:[[9,7,1,3,1,3,7,9,1],[3,9,1,3,7,9,7,1,3]]},{grid:[[1,2,3,2,2,3,1,2,3],[2,3,1,2,3,1,2,2,1]]},{grid:[[5,5,5,9,1,2,3,4,7],[1,2,3,5,7,8,2,1,4]]},{grid:[[2,1,4,2,1,4,2,1,4],[1,2,4,1,1,3,4,2,1]]},{grid:n()},{grid:[[1,2,3,5,1,2,3,5,1],[5,1,2,3,5,1,5,3,1]]},{grid:[[1,9,1,2,3,4,5,6,7],[2,3,4,5,6,7,8,8,2],[7,3,1,2,3,4,5,6,7]]},{grid:[[1,2,3,4,5,6,7,8,9],[2,3,4,5,6,7,8,9,1],[3,4,5,6,7,8,9,1,2]]},{grid:[[8,2,9,7,7,1,3,8,1],[9,2,8,1,5,5,7,8,1]],timer:20},{grid:[[1,2,3,4,5,6,7,8,9],[2,3,4,5,6,7,8,9,1],[3,4,5,6,7,8,9,1,2]],timer:30},{grid:[[1,9,5,1,5,1,1,9,5],[5,9,1,5,9,1,5,5,1]],timer:30},{grid:[[9,7,1,3,1,3,7,9,1],[3,9,1,3,7,9,7,1,3]],timer:30},{grid:n(),timer:60},{grid:[[2,1,4,2,1,4,2,1,4],[1,2,4,1,1,3,4,2,1]],timer:80},{grid:[[1,2,3,5,1,2,3,5,1],[5,1,2,3,5,1,5,3,1]],timer:100},{grid:[[1,9,1,2,3,4,5,6,7],[2,3,4,5,6,7,8,8,2],[7,3,1,2,3,4,5,6,7]],timer:100},{grid:[[1,2,3,2,2,3,1,2,3],[2,3,1,2,3,1,2,2,1]],timer:120},{grid:[[5,5,5,9,1,2,3,4,7],[1,2,3,5,7,8,2,1,4]],timer:120}];var r=function(){this.number=e.currentLevel},i=function(){e.currentLevel=e.nextLevel,this.number=e.nextLevel,this.grid=_.cloneDeep(e.levels[e.currentLevel-1].grid),this.timer=e.levels[e.currentLevel-1].timer,c()},o=function(){this.number=e.nextLevel},s=function(){var n="tutorial"===t.vent.trigger("SYSTEM:MODE:GET").mode;n||(e.nextLevel++,e.nextLevel>e.currentUnlockedLevel&&(e.nextLevel=1),c())},a=function(){var n="tutorial"===t.vent.trigger("SYSTEM:MODE:GET").mode;if(!n){var r=e.currentLevel+1;r>e.currentUnlockedLevel&&r<=e.levels.length&&(e.currentUnlockedLevel=r),c()}},u=function(){this.number=e.levels.length},c=function(){localStorage.setItem("nextLevel",JSON.stringify(e.nextLevel)),localStorage.setItem("currentLevel",JSON.stringify(e.currentLevel)),localStorage.setItem("currentUnlockedLevel",JSON.stringify(e.currentUnlockedLevel))},l=function(t){var e=localStorage.getItem(t);return e&&"undefined"!==e?JSON.parse(e):1},h=function(){e.nextLevel=l("nextLevel"),e.currentLevel=l("currentLevel"),e.currentUnlockedLevel=l("currentUnlockedLevel")},f=function(){t.vent.on("SYSTEM:LEVEL:GET_LEVEL",i),t.vent.on("SYSTEM:LEVEL:GET_CURRENT_NUMBER",r),t.vent.on("SYSTEM:LEVEL:GET_NEXT_NUMBER",o),t.vent.on("SYSTEM:LEVEL:GET_MAX_NUMBER",u),t.vent.on("SYSTEM:LEVEL:NEXT",s),t.vent.on("SYSTEM:LEVEL:LOAD",h),t.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",a),t.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",s)};f(),h()},logicSystem=function(t,e,n){var r=function(n){var r={};t.runSystemOnce([componentTypeEnum.GRID],function(t){var e=t.components[componentTypeEnum.GRID].grid;r[e.id]!==!0&&(r[e.id]=!0,n(e))}),e.vent.trigger("VIEWSYSTEM:CELLS:GRID_CHANGED")},i=function(){r(function(t){n.refillGrid(t),n.saveGrid(t)})},o=function(t,i){r(function(r){var o=n.check(r,t,i);o&&(n.makeMove(r,t,i),n.saveGrid(r),n.checkCompleted(r)&&e.vent.trigger("SYSTEM:LOGIC:GRID_COMPLETED"))})},s=function(){n.saveGrid(null);var i=e.vent.trigger("SYSTEM:LEVEL:GET_CURRENT_NUMBER").number,o=e.vent.trigger("SYSTEM:LEVEL:GET_MAX_NUMBER").number;r(function(t){var e=["Well done you have","completed level "+i+" of ","Notebook Numbers!","Click the new game button","to play the next level.","","Tip: Click the level button to","cycle through the unlocked","levels."];if(i===o)var e=["Congratulations you have","completed Notebook Numbers!","You're an absolute legend!","Click new game to play again."];t.length=0,Array.prototype.push.apply(t,e)}),t.removeEntities("refill_grid")},a=function(){e.vent.trigger("SYSTEM:CURSOR:RESET"),n.saveGrid(null),r(function(t){var e=["Oh dear, the","time limit has","expired!","","Click the new game button","to play again."];t.length=0,Array.prototype.push.apply(t,e)}),t.removeEntities("refill_grid")},u=function(t){r(function(e){t.type===moveTypes.MAKE_MOVE?n.undoMakeMove(e,t):t.type===moveTypes.REFILL_GRID?n.undoRefillGrid(e,t):t.type===moveTypes.CLEAR_LINE&&n.undoClearLine(e,t)})},c=function(){e.vent.on("SYSTEM:LOGIC:REFILL_GRID",i),e.vent.on("SYSTEM:LOGIC:MAKE_MOVE",o),e.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",s),e.vent.on("SYSTEM:LOGIC:UNDO",u),e.vent.on("SYSTEM:LOGIC:TIMER_EXPIRED",a)};c()},modeSystem=function(t,e,n){var r={},i=function(i){var o=i(n);e.vent.trigger("SYSTEM:MODE:CHANGE_MODE"),t.removeEntities(r.currentMode),t.addEntities("grid_background",[o]),r.currentMode=o.name,e.vent.trigger("VIEWSYSTEM:CELLS:GRID_CHANGED"),e.vent.trigger("SYSTEM:UNDO:CLEAR"),e.vent.trigger("SYSTEM:BOUNDS:UPDATE")},o=function(){e.vent.trigger("SYSTEM:SCORE:SHOW"),i(classicEntityFactory)},s=function(){e.vent.trigger("SYSTEM:SCORE:HIDE"),i(tutorialEntityFactory)},a=function(){this.mode=r.currentMode},u=function(){e.vent.on("SYSTEM:MODE:CLASSIC",o),e.vent.on("SYSTEM:MODE:TUTORIAL",s),e.vent.on("SYSTEM:MODE:GET",a)};u()},preloadSystemFactory=function(){
var t={};t.assets=[];var e=function(e){"image"===e.item.type?t.assets[e.item.id]=e.result:"javascript"===e.item.type&&document.body.appendChild(e.result)},n=function(){console.log(t.assets),t.onComplete()},r=function(r){t.onComplete=r;var i=[{src:"src/images/tile.png",id:"background"},{src:"src/images/bindings.png",id:"bindings"}],o=new createjs.LoadQueue(!1);o.addEventListener("fileload",function(n){return e.call(t,n)}),o.addEventListener("complete",function(e){return n.call(t,e)}),o.loadManifest(i)};return t.load=r,t},renderSystem=function(t,e,n){var r={};r.hasInit=!1,r.previouslyRenderedEntities=[],r.assets=n.assets;var i=function(t,e){var n=_.difference(_.keys(t),_.keys(e));_.forEach(n,function(e){var n=t[+e];if(n.remove)n.remove(r);else if(n){var i=n.parentEntity.name;console.log("Remove method not implemented for entity: "+i)}})},o=function(){var n={};t.runSystem([componentTypeEnum.VIEW],function(t){var i=t.components[componentTypeEnum.VIEW];i.init&&!i.hasInit&&(i.init(r,t,e),config.gizmoSystemEnabled&&e.vent.trigger("SYSTEM:GIZMO:INIT",r,t),i.hasInit=!0),i.render(r,t,e),n[i.id]=i}),i(r.previouslyRenderedEntities,n),r.previouslyRenderedEntities=n,r.stage.update()},s=function(){r.hasInit||(r.stage=new createjs.Stage("notebooknumbers"),createjs.Touch.isSupported()?(console.log("Touch enabled version"),createjs.Touch.enable(r.stage)):(console.log("Non-touch enabled version"),r.stage.enableMouseOver()),createjs.Ticker.setFPS(25),e.vent.on("SYSTEM:RENDER:RENDER",o),e.vent.trigger("SYSTEM:SCROLL:START",r.stage),r.hasInit=!0)},a=function(){e.vent.on("SYSTEM:RENDER:START",s)};a()},scoreSystem=function(t,e){var n={},r=function(t){n.score+=t,h()},i=function(){var t=+e.vent.trigger("SYSTEM:LEVEL:GET_CURRENT_NUMBER").number;n.score=1e6*t-n.score,h()},o=function(){n.score=0,h()},s=function(){n.isScoreVisible=!0,h()},a=function(){n.isScoreVisible=!1,h()},u=function(){this.score=n.score},c=function(){"undefined"!=typeof n.score&&localStorage.setItem("score",JSON.stringify(n.score))},l=function(){var t=localStorage.getItem("score");t&&"undefined"!==t?n.score=JSON.parse(t):n.score=0,h()},h=function(){t.runSystem([componentTypeEnum.SCORE],function(t){t.components[componentTypeEnum.SCORE].score=n.score||0,t.components[componentTypeEnum.SCORE].isVisible=n.isScoreVisible}),c(),e.vent.trigger("SYSTEM:BOUNDS:UPDATE")},f=function(){e.vent.on("SYSTEM:SCORE:ADD",r),e.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",i),e.vent.on("SYSTEM:SCORE:RESET",o),e.vent.on("SYSTEM:SCORE:SHOW",s),e.vent.on("SYSTEM:SCORE:HIDE",a),e.vent.on("SYSTEM:SCORE:LOAD",l),e.vent.on("SYSTEM:SCORE:GET",u)};f()},scrollSystem=function(t){var e={};e.maxScrollPosition=0,e.scrollDistance=20,e.startDragY=null;var n=25,r=Math.floor(1e3/n),i=_.throttle(function(){e.stage.update()},r,{leading:!0}),o=function(t){e.stage.regY-=t,e.stage.regY<0&&(e.stage.regY=0),i()},s=function(t){e.stage.regY+=t,e.stage.regY>e.maxScrollPosition&&(e.stage.regY=e.maxScrollPosition),i()},a=function(t){if(null===e.startDragY)return void(e.startDragY=t.stageY);var n=Math.abs(t.stageY-e.startDragY),r=0;n>=r&&(t.stageY>=e.startDragY?o(n):s(n),e.startDragY=t.stageY)},u=function(t){e.startDragY=null},c=function(t){e.stage=t,e.stage.regY=0,key("up",function(){o(e.scrollDistance)}),key("down",function(){s(e.scrollDistance)}),config.isVerticalLayout?e.stage.addEventListener("stagemousemove",a):e.stage.addEventListener("pressmove",a),e.stage.addEventListener("stagemouseup",u),$("#canvas").bind("mousewheel wheel",function(t){var n=t.originalEvent.wheelDelta;t.originalEvent&&t.originalEvent.deltaY&&(n=t.originalEvent.deltaY/-1),n/120>0?o(e.scrollDistance):s(e.scrollDistance)})},l=function(t){t>0?(e.maxScrollPosition=t,e.stage.regY=Math.min(e.stage.regY,t)):e.stage.regY=0},h=function(){t.vent.on("SYSTEM:SCROLL:START",c),t.vent.on("SYSTEM:SCROLL:HEIGHT_BEYOND_BOUNDS",l)};h()},timerSystem=function(t){var e={};e.lastSecondPassed=0,e.startTime=null,e.duration=null,e.timeInSecondsRemaining=null,e.time=0;var n=function(n){if(e.time=n.time,!n.paused&&null!==e.startTime){var r=n.time-e.lastSecondPassed,i=1e3;if(r>=i&&(e.lastSecondPassed=n.time,null!==e.duration)){var o=Math.floor((n.time-e.startTime)/i);e.timeInSecondsRemaining=e.duration-o,0===e.timeInSecondsRemaining&&(t.vent.trigger(e.event),e.duration=null,e.timeInSecondsRemaining=null),s(),t.vent.trigger("SYSTEM:BOUNDS:UPDATE")}}},r=function(n,r){e.lastSecondPassed=e.time,e.startTime=e.time,e.duration=n,e.timeInSecondsRemaining=n,e.event=r,t.vent.trigger("SYSTEM:BOUNDS:UPDATE")},i=function(){this.remaining=e.timeInSecondsRemaining},o=function(){e.duration=null,e.timeInSecondsRemaining=null,s(),t.vent.trigger("SYSTEM:BOUNDS:UPDATE")},s=function(){localStorage.setItem("timeInSecondsRemaining",e.timeInSecondsRemaining),localStorage.setItem("event",e.event)},a=function(){var t=localStorage.getItem("timeInSecondsRemaining");if(null!==t&&!isNaN(t)){var e=localStorage.getItem("event");r(t,e)}},u=function(){t.vent.on("SYSTEM:TIMER:SET",r),t.vent.on("SYSTEM:TIMER:GET_REMAINING",i),t.vent.on("SYSTEM:TIMER:RESET",o),t.vent.on("SYSTEM:TIMER:LOAD",a),t.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",o)};u(),createjs.Ticker.addEventListener("tick",n)},tutorialSystem=function(t,e){var n={},r=function(){n.tutorialGrid=[],n.level=0,a(),e.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",a,n)},i=function(e){t.runSystemOnce([componentTypeEnum.GRID],function(t){t.components[componentTypeEnum.GRID].grid=e})},o=function(){t.runSystemOnce([componentTypeEnum.GRID],function(t){var e=t.components[componentTypeEnum.GRID].grid,n=e[e.length-1];_.isEqual(n,[5,0,0,0,0,0,0,0,0])&&a()})},s=function(t,e){var n=t.join("\n\n"),r=config.isVerticalLayout?Math.floor((t.length-1)/2):t.length,i=_.times(r,function(){return""});return[n].concat(i).concat(e)},a=function(){n.level+=1;if(1==n.level){n.tutorialGrid=[];var r=[];if(!config.isVerticalLayout){var u=["Clicking on a number holds","the cursor in place and","hovering over the number","adds the number to the cursor.","Clicking crosses out a number."];r=u}r=r.concat(["Click two numbers that are the","same to cross them out."]),n.tutorialGrid=s(r,[[1,1]])}if(2==n.level&&(n.tutorialGrid=s(["If there are any numbers in","between then you can't cross out.","But, if there is a gap between","numbers then you can play ","through it"],[[4,0,4,5,0,0,5]])),3==n.level&&(n.tutorialGrid=s(["If two numbers add to 10,","then they can be crossed out."],[[2,0,0,8]])),4==n.level&&(n.tutorialGrid=s(["Two numbers can be beside each","other vertically."],[[3,0,0,1],[7,0,0,0],[0,0,0,1]])),5==n.level){var r=["Two numbers are beside each","other, from the end of one line","to the start of the next."],c=[[0,0,0,0,0,0,0,8,9],[1,2,0,0,0,0,0,0,0]];n.tutorialGrid=s(r,c)}if(6==n.level&&(n.tutorialGrid=s(["The aim of the game is","to clear the grid."],[[5,4,3,2,1,9,8,7,6]]),e.vent.on("SYSTEM:LOGIC:MAKE_MOVE",o)),7==n.level){e.vent.off("SYSTEM:LOGIC:MAKE_MOVE",o),n.tutorialGrid=n.tutorialGrid.concat(["When there are no more moves to\n\nplay you click:",[""],[]]);var l=refillGridEntityFactory();t.addEntities("tutorial",[l]),e.vent.on("SYSTEM:LOGIC:REFILL_GRID",a)}if(8==n.level&&(n.tutorialGrid=n.tutorialGrid.concat(["","Now you can complete\n\nthe grid above."]),t.removeEntities("refill_grid")),9==n.level){var r=["Congratulations, you can now","play Notebook Numbers!","","Tip: If you get stuck,","it may be essential to","use the refill grid button","or start a new game in order","to beat the level.","",'Click the "New Game" button',"to play a game."];n.tutorialGrid=s(r),localStorage.setItem("hasCompletedTutorial",!0)}i(n.tutorialGrid),e.vent.trigger("VIEWSYSTEM:CELLS:GRID_CHANGED")},u=function(){e.vent.off("SYSTEM:LOGIC:MAKE_MOVE",o),e.vent.off("SYSTEM:LOGIC:GRID_COMPLETED",a,n),e.vent.off("SYSTEM:LOGIC:REFILL_GRID",a),t.removeEntities("refill_grid")},c=function(){e.vent.on("SYSTEM:MODE:TUTORIAL",r),e.vent.on("SYSTEM:MODE:CHANGE_MODE",u)};c()},moveTypes=Object.freeze({MAKE_MOVE:"make_move",CLEAR_LINE:"clear_line",REFILL_GRID:"refill_grid"}),undoSystem=function(t){var e={};e.undoList=[],e.undosRemaining=3;var n=function(){if(0!==e.undosRemaining){for(var n=e.undoList[e.undoList.length-1];n&&n.type===moveTypes.CLEAR_LINE;)t.vent.trigger("SYSTEM:LOGIC:UNDO",n),e.undoList.pop(),n=e.undoList[e.undoList.length-1];var r=e.undoList.pop();r&&(t.vent.trigger("SYSTEM:LOGIC:UNDO",r),e.undosRemaining--),t.vent.trigger("SYSTEM:CURSOR:RESET"),t.vent.trigger("SYSTEM:BOUNDS:UPDATE")}},r=function(t){e.undoList.push(t)},i=function(){e.undoList=[],e.undosRemaining=3},o=function(){this.undosRemaining=e.undosRemaining},s=function(){t.vent.on("SYSTEM:UNDO:UNDO",n),t.vent.on("SYSTEM:UNDO:ADD",r),t.vent.on("SYSTEM:UNDO:CLEAR",i),t.vent.on("SYSTEM:UNDO:GET_REMAINING",o),t.vent.on("SYSTEM:LOGIC:GRID_COMPLETED",i)};s()},backgroundViewComponent=function(){var t=function(t,e){var n=e.components[componentTypeEnum.BOUNDS];t.stage.canvas.width=Math.floor(n.absolute.width),t.stage.canvas.height=Math.floor(n.absolute.height),t.background=new createjs.Container,t.stage.addChild(t.background)},e=function(t,e,n){var r=e.components[componentTypeEnum.BOUNDS];t.stage.canvas.width=Math.floor(r.absolute.width),t.stage.canvas.height=Math.floor(r.absolute.height)};return viewComponent(t,e)},bindingsViewComponent=function(){var t={};t.bindings=[];var e=function(){},n=function(e,n){var r=0,i=0;for(i=0;r+400<n.background.absolute.height;i++){var o=null;t.bindings[i]?o=t.bindings[i]:(o=new createjs.Bitmap(e.assets.bindings),t.bindings[i]=o,e.stage.addChild(o)),o.x=Math.floor(n.absolute.x+n.absolute.width/2),r=10+225*i,o.y=r,o.scaleX=n.absolute.width/o.image.width,o.scaleY=.6}for(var s=i;i<t.bindings.length;){var a=t.bindings[i];e.stage.removeChild(a),i++}s>=0&&(t.bindings.length=s)},r=function(t,e,r){var i=e.components[componentTypeEnum.BOUNDS];n(t,i)},i=function(e){_.forEach(t.bindings,function(t){e.stage.removeChild(bindings)})};return viewComponent(e,r,i)},cellViewComponent=function(){var t={},e=function(t){var e=Math.floor(t.height),n=e+"px "+config.font;return n},n=function(n,r){var i=r.components[componentTypeEnum.BOUNDS].absolute,o=r.components[componentTypeEnum.CELL],s=new createjs.Text(o.digit,e(i),config.backgroundColour);s.textAlign="center",s.digit=o.digit,s.visible=0!==s.digit;var a=new createjs.Shape,u=16*o.digit;a.graphics.beginFill("rgba("+u+","+u+","+u+", 0.5)").drawRect(-i.width/2,0,i.width,i.height),s.hitArea=a,s.on("click",function(t){eventManager.vent.trigger("SYSTEM:CURSOR:CHECK",o)}),s.on("mouseover",function(t){eventManager.vent.trigger("SYSTEM:CURSOR:ADD",o)}),t.numberView=s,n.stage.addChild(s),n.stage.setChildIndex(s,n.stage.getNumChildren()-1)},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS].absolute;t.numberView.x=o.x+Math.floor(o.width/2),t.numberView.y=o.y;var s=r.components[componentTypeEnum.CELL];t.numberView.text=s.digit,t.numberView.visible=0!==s.digit,t.numberView.font=e(o)},i=function(e){e.stage.removeChild(t.numberView)};return viewComponent(n,r,i)},coverViewComponent=function(){var t={},e=function(e,n,r){var i=30;t.coverGraphics=new createjs.Graphics,config.isVerticalLayout?t.coverGraphics.beginFill(config.backgroundColour).drawRect(0,0,n.absolute.width,n.background.absolute.height):t.coverGraphics.beginFill(config.backgroundColour).drawRoundRect(0,0,n.absolute.width,n.background.absolute.height,i),e.graphics=t.coverGraphics},n=function(e,n){n.components[componentTypeEnum.BOUNDS];t.cover=new createjs.Shape,e.stage.addChild(t.cover)},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=Math.floor(o.absolute.width/100);e(t.cover,o,s)};return viewComponent(n,r)},cursorViewComponentFactory=function(){var t={},e=function(t,e,n){var r=new createjs.Graphics;r.beginFill(null),r.setStrokeStyle(1);var i=createjs.Graphics.getRGB(0,50,102);r.beginStroke(i),r.beginFill(null);var o=t,s=e,a=.9,u=Math.floor(t+e)/2*a;r.drawCircle(o,s,u);var c=new createjs.Shape(r);return c.on("click",function(t){n.vent.trigger("SYSTEM:CURSOR:CHECK")}),c},n=function(n,r,i){t.cursorCircle=e(6,18,i),t.cursorCircle2=e(6,18,i),n.stage.addChild(t.cursorCircle),n.stage.addChild(t.cursorCircle2)},r=function(n,r,i){var o=r.components[componentTypeEnum.GRID].cursor;if(n.stage.removeChild(t.cursorCircle),n.stage.removeChild(t.cursorCircle2),"undefined"!=typeof o.cells[0]){var s=o.cells[0][componentTypeEnum.BOUNDS].absolute;t.cursorCircle=e(s.width/2,s.height/2,i),t.cursorCircle.x=s.x,t.cursorCircle.y=s.y,n.stage.addChild(t.cursorCircle)}if("undefined"!=typeof o.cells[1]){var s=o.cells[1][componentTypeEnum.BOUNDS].absolute;t.cursorCircle2=e(s.width/2,s.height/2,i),t.cursorCircle2.x=s.x,t.cursorCircle2.y=s.y,n.stage.addChild(t.cursorCircle2)}},i=function(e){e.stage.removeChild(t.cursorCircle),e.stage.removeChild(t.cursorCircle2)};return viewComponent(n,r,i)},endpaperViewComponent=function(){var t={},e=function(e,n,r){var i=15,o=n.absolute.width-2*r;t.coverGraphics=new createjs.Graphics,t.coverGraphics.beginFill(config.backgroundColour).drawRect(n.absolute.x+r,n.absolute.y+i,o,n.absolute.height-i),t.endpaper.graphics=t.coverGraphics},n=function(e,n){n.components[componentTypeEnum.BOUNDS];t.endpaper=new createjs.Shape,e.stage.addChild(t.endpaper)},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=Math.floor(o.absolute.width/100);e(t.endpaper,o,s)};return viewComponent(n,r)},gridBackgroundViewComponent=function(){var t={},e=function(e,n,r,i){var o=30,s=r.absolute.width-2*i,a=r.background.absolute.height-2*o;t.backgroundGraphics=new createjs.Graphics,t.backgroundGraphics.beginBitmapFill(n.assets.background).drawRect(0,r.absolute.y,s,a-r.absolute.y),e.graphics=t.backgroundGraphics,e.x=i+r.absolute.x,e.y=o/2,e.sourceRect=new createjs.Rectangle(0,0,s,a),t.hit=new createjs.Shape,t.hitGraphics=new createjs.Graphics,t.hitGraphics.beginFill("#F00").drawRect(0,0,s,a),t.hit.graphics=t.hitGraphics,e.hitArea=t.hit},n=function(e,n){n.components[componentTypeEnum.BOUNDS];t.gridBackgroundView=new createjs.Shape,t.gridBackgroundView.on("click",function(t){eventManager.vent.trigger("SYSTEM:CURSOR:CHECK")}),e.stage.addChild(t.gridBackgroundView)},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=Math.floor(o.absolute.width/100);e(t.gridBackgroundView,n,o,s)};return viewComponent(n,r)},menuViewComponent=function(){var t={};t.menuItems={};var e=function(t){var e=n(),r=Math.floor(t.height/(e+1)),i=r+"px "+config.titleFont;return i},n=function(){return 5},r=function(n,r,i,o,s,a){var u=new createjs.Text("- "+i+" -");u.font=e(n),u.color=config.titleColour;var c=new createjs.Shape;c.graphics.beginFill("#F00").drawRect(0,0,1.1*u.getMeasuredWidth(),1.5*u.getMeasuredHeight()),u.hitArea=c,u.on("click",function(){s()}),u.sortOrder=o,a===!1&&(u.visible=!1),t.renderSystem.stage.addChild(u),t.menuItems[r]=u},i=function(e,n,i){t.renderSystem=e;var o=n.components[componentTypeEnum.BOUNDS],s=o.absolute;r(s,"newGame","New Game",1,function(){i.vent.trigger("SYSTEM:MODE:CLASSIC")}),r(s,"tutorial","Tutorial",2,function(){i.vent.trigger("SYSTEM:MODE:TUTORIAL")}),r(s,"leaderboards","Leaderboards",3,function(){i.vent.trigger("SYSTEM:LEADERBOARDS:OPEN_LEADERBOARDS")},!1),r(s,"login","Login",3,function(){i.vent.trigger("SYSTEM:LEADERBOARDS:LOG_IN")},!1),r(s,"level","Level: ",4,function(){i.vent.trigger("SYSTEM:LEVEL:NEXT"),i.vent.trigger("SYSTEM:BOUNDS:UPDATE")}),r(s,"undo","Undo",5,function(){i.vent.trigger("SYSTEM:UNDO:UNDO")})},o=function(r,i,o){var s=i.components[componentTypeEnum.BOUNDS],a=(_.head(_.values(t.menuItems)),n()),u=e(s.absolute);t.menuItems.level.text="- Level: "+o.vent.trigger("SYSTEM:LEVEL:GET_NEXT_NUMBER").number+" / "+o.vent.trigger("SYSTEM:LEVEL:GET_MAX_NUMBER").number+" -";var c="tutorial"===o.vent.trigger("SYSTEM:MODE:GET").mode;t.menuItems.level.visible=!c;var l=o.vent.trigger("SYSTEM:UNDO:GET_REMAINING").undosRemaining;t.menuItems.undo.text="- Undo ("+l+") -",t.menuItems.undo.visible=!c&&l>0;var h=o.vent.trigger("SYSTEM:LEADERBOARDS:GET_IS_LOGGED_IN").isLoggedIn;t.menuItems.leaderboards.visible=config.isNativeApp&&h,t.menuItems.login.visible=config.isNativeApp&&config.isAndroid&&!h;var f=0;_.forEach(t.menuItems,function(t){if(!t.visible)return!0;var e=Math.floor(s.absolute.width/2-t.getMeasuredWidth()/2);t.x=s.absolute.x+e,t.y=s.absolute.y+s.absolute.height*f/a,t.font=u,f++})},s=function(e){_.forEach(t.menuItems,function(t){e.stage.removeChild(t)})};return viewComponent(i,o,s)},refillGridViewComponentFactory=function(){var t={},e=function(t){var e=Math.floor(t.height),n=e+"px "+config.font;return n},n=function(e){var n=new createjs.Shape;return n.graphics.beginFill("#F00").drawRect(0,0,t.refillGrid.getMeasuredWidth(),e.height),n},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=new createjs.Text("Refill Grid",e(o.absolute),config.numbersColour);s.x=o.absolute.x,s.y=o.absolute.y,s.on("click",function(t){i.vent.trigger("SYSTEM:LOGIC:REFILL_GRID")}),t.refillGrid=s,n.stage.addChild(s)},i=function(r,i){var o=i.components[componentTypeEnum.BOUNDS],s=Math.floor(o.absolute.width/2-t.refillGrid.getMeasuredWidth()/2);t.refillGrid.x=o.absolute.x+s,t.refillGrid.y=o.absolute.y,t.refillGrid.font=e(o.absolute),t.refillGrid.hitArea=n(o.absolute)},o=function(e){e.stage.removeChild(t.refillGrid)};return viewComponent(r,i,o)},scoreViewComponent=function(){var t={},e=function(t){var e=Math.floor(t.height),n=e+"px "+config.titleFont;return n},n=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=o.absolute,a=r.components[componentTypeEnum.SCORE],u=new createjs.Text("Score: "+a.score);u.font=e(s),u.color=config.titleColour,n.stage.addChild(u),t.score=u},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS];t.score.text="Score: "+r.components[componentTypeEnum.SCORE].score.toLocaleString();var s=i.vent.trigger("SYSTEM:TIMER:GET_REMAINING").remaining;null!==s&&(t.score.text+=" ("+s+")"),t.score.visible=r.components[componentTypeEnum.SCORE].isVisible;var a=e(o.absolute),u=Math.floor(o.absolute.width/2-t.score.getMeasuredWidth()/2);t.score.x=o.absolute.x+u,t.score.y=o.absolute.y,t.score.font=a},i=function(e){e.stage.removeChild(t.score)};return viewComponent(n,r,i)},textViewComponent=function(){var t={},e=function(t){var e=Math.floor(t.height),n=Math.floor(.15*t.width),r=Math.min(n,e),i=r+"px "+config.font;return i},n=function(n,r){var i=r.components[componentTypeEnum.BOUNDS],o=r.components[componentTypeEnum.TEXT].text,s=new createjs.Text(o,e(i.absolute),config.numbersColour);s.x=i.absolute.x,s.y=i.absolute.y,t.textView=s,n.stage.addChild(s)},r=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS];t.textView.x=o.absolute.x,t.textView.y=o.absolute.y,t.textView.font=e(o.absolute);var s=r.components[componentTypeEnum.TEXT].text;t.textView.text=s},i=function(e){e.stage.removeChild(t.textView)};return viewComponent(n,r,i)},titleViewComponent=function(){var t={},e=function(t){var e=Math.floor(t.height/3),n=e+"px "+config.titleFont;return n},n=function(n,r,i){var o=r.components[componentTypeEnum.BOUNDS],s=o.absolute,a=new createjs.Text("Notebook Numbers");a.font=e(s),a.color=config.titleColour,n.stage.addChild(a),t.title=a},r=function(n,r){var i=r.components[componentTypeEnum.BOUNDS],o=Math.floor(i.absolute.width/2-t.title.getMeasuredWidth()/2),s=Math.floor(i.absolute.height/2-t.title.getMeasuredHeight()/2);t.title.x=i.absolute.x+o,t.title.y=i.absolute.y+s;var a=e(i.absolute);t.title.font=a},i=function(e){e.stage.removeChild(t.title)};return viewComponent(n,r,i)},cursorViewSystem=function(t,e){var n=function(t){return _.filter(t,function(t){return t.hasRequiredComponents([componentTypeEnum.CELL])})},r=function(t,e){_.filter(e,function(e){var n=e.components[componentTypeEnum.CELL];n.i===t.i&&n.j===t.j&&(t[componentTypeEnum.BOUNDS]=e.components[componentTypeEnum.BOUNDS])})},i=function(t){var e=n(t.subEntities),i=t.components[componentTypeEnum.GRID].cursor;i.cells[0]&&r(i.cells[0],e),i.cells[1]&&r(i.cells[1],e)},o=function(){t.runSystemOnce([componentTypeEnum.GRID],function(t){i(t)}),e.vent.trigger("SYSTEM:RENDER:RENDER")},s=function(){e.vent.on("VIEWSYSTEM:CURSOR:UPDATED",o)};s()},gridViewSystem=function(t,e){var n={},r=function(e){var n=_(e).flatten().filter(function(t){return"undefined"!=typeof t}).value();t.removeEntitiesById(n)},i=function(t,e,i,o,s){for(var a,u=0;u<i.length;u++){var c="undefined"!=typeof o&&"undefined"==typeof o[u],l=s||c;if(l){var h={x:u*n.cellWidth,y:t*n.cellHeight,width:n.cellWidth,height:n.cellHeight};a=boundsComponent(h);var f=cellComponent(e,u,i[u]),d=cellViewComponent(),p=entity("cell",[a,f,d]);n.cells.push(p)}else{a=o[u].components[componentTypeEnum.BOUNDS],a.relative.x=u*n.cellWidth,a.relative.y=t*n.cellHeight;var f=o[u].components[componentTypeEnum.CELL];f.i=e,f.j=u,f.digit=i[u]}}if("undefined"!=typeof o&&o.length>i.length){var g=_.slice(o,i.length,o.length);r(g)}n.topCellHeight=a.relative.y+a.relative.height},o=function(t,e,r,i,o){var s;if(o){var a=100,u={x:0,y:t*n.cellHeight,width:a,height:n.cellHeight};s=boundsComponent(u);var c=textViewComponent(),l=textComponent(e,r),h=entity("text",[s,l,c]);n.texts.push(h)}else{s=i.components[componentTypeEnum.BOUNDS],s.relative.x=0,s.relative.y=t*n.cellHeight;var l=i.components[componentTypeEnum.TEXT];l.i=e,l.text=r}n.topCellHeight=s.relative.y+s.relative.height},s=function(t){var e=[];return _.forEach(t,function(t){if("cell"===t.name){var n=t.components[componentTypeEnum.CELL],r=n.i,i=n.j;"undefined"==typeof e[r]&&(e[r]=[]),e[r][i]=t}if("text"===t.name){var r=t.components[componentTypeEnum.TEXT].i;e[r]=t}}),e},a=function(a){var u=a.components[componentTypeEnum.GRID],c=u.grid,l=a.subEntities.length/config.numColumns,l=(c.length,s(a.subEntities));n.topCellHeight=null,n.cells=[],n.texts=[];var h=180,f=100;n.cellWidth=h/config.numColumns,n.cellHeight=f/config.numRows;for(var d=[],p=0,g=0;g<c.length||g<l.length;g++){g>=c.length&&d.push(l[g]);var v=Array.isArray(l[g]),m=Array.isArray(c[g]),y="undefined"==typeof c[g],_=y||m&&0===c[g].length,b=m!==v||"undefined"==typeof l[g];(_||b)&&d.push(l[g]),_||(m?i(p,g,c[g],l[g],b):o(p,g,c[g],l[g],b),p++)}var x=f/config.numRows,S=5*x,E=a.parent.parent.components[componentTypeEnum.BOUNDS].relative.height;e.vent.trigger("SYSTEM:BOUNDS:UPDATE_MAX_HEIGHT",n.topCellHeight+S,E),e.vent.trigger("SYSTEM:BOUNDS:MOVE","refill_grid",null,n.topCellHeight+x),r(d),t.addEntities("grid",n.cells),t.addEntities("grid",n.texts),e.vent.trigger("SYSTEM:BOUNDS:UPDATE")},u=function(){t.runSystemOnce([componentTypeEnum.GRID,componentTypeEnum.BOUNDS],function(t){a(t)})},c=function(){e.vent.on("VIEWSYSTEM:CELLS:GRID_CHANGED",u)};c()};!function(){var t={navy:"#003266",gold:"#FDD017"},e={yellowtail:"Yellowtail",londrinaSolid:"Londrina Solid"},n={backgroundColour:t.navy,titleColour:t.gold,numbersColour:t.navy,titleFont:e.yellowtail,font:e.londrinaSolid,numColumns:9,numRows:20,coverMargin:10,gizmoSystemEnabled:!1,isVerticalLayout:!1,isNativeApp:!1};n.isAndroid="Android"===platform.os.family,n.isIos="iOS"==platform.os.family,n.isMobile=n.isAndroid||n.isIos,n.isMobile&&(n.isVerticalLayout=n.isMobile,n.numRows=6),n.isAndroidNativeApp=/notebook-numbers-android$/.test(navigator.userAgent),n.isIosNativeApp=/notebook-numbers-ios$/.test(navigator.userAgent),n.isNativeApp=n.isAndroidNativeApp||n.isIosNativeApp,n.isApprovedVersion=!n.isMobile||n.isNativeApp,window.config=n}();var eventManager={};eventManager.vent=Backbone.Events,eventManager.vent.on("all",function(t){console.log(t)});var init=function(){var t=preloadSystemFactory();t.load(function(){if(!config.isApprovedVersion)return void(config.isAndroid&&!config.isAndroidNativeApp?window.location.href="https://play.google.com/store/apps/details?id=com.silleknarf.notebooknumbers":config.isIos&&!config.isIosNativeApp&&(window.location.href="https://itunes.apple.com/app/noteboook-numbers/id1262922571"));var e=entityComponentSystem(),n=cellUtilFactory(),r=gridUtilFactory(n);gizmoSystem(e,eventManager),boundsSystem(e,eventManager),renderSystem(e,eventManager,t),logicSystem(e,eventManager,r),cursorSystem(e,eventManager,r,n),cursorViewSystem(e,eventManager),gridViewSystem(e,eventManager),scrollSystem(eventManager),modeSystem(e,eventManager,r),tutorialSystem(e,eventManager),scoreSystem(e,eventManager),levelSystem(eventManager),leaderboardSystem(eventManager),undoSystem(eventManager),timerSystem(eventManager);var i=backgroundEntityFactory();e.addEntity(null,i),$(document).ready(function(){config.isMobile?($("#overlay").remove(),$("#canvas").height("100vh")):($("#overlay").css("visibility","visible"),$(".share-button").css("display","initial"),$(".share-buttons").css("display","initial")),$("#loadingscreen").remove(),$("#notebooknumbers").show(),eventManager.vent.trigger("SYSTEM:RENDER:START"),eventManager.vent.trigger("SYSTEM:BOUNDS:START");var t=localStorage.getItem("hasCompletedTutorial");t?eventManager.vent.trigger("SYSTEM:MODE:CLASSIC"):eventManager.vent.trigger("SYSTEM:MODE:TUTORIAL")})})};init();